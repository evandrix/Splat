<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="style.css"><div class=codearea><pre class=src>1: from itertools import groupby
2: lines = '''
3: This is the
4: first paragraph.
5: This is the second.
6: '''.splitlines()
7: # Use itertools.groupby and bool to return groups of
8: # consecutive lines that either have content or don't.
9: for has_chars, frags in groupby(lines, bool):
10:     if has_chars:
11:         print ' '.join(frags)
12: # PRINTS:
13: # This is the first paragraph.
14: # This is the second.
</div><pre class=bytecode>  1           0 LOAD_CONST               0 (-1)
              3 LOAD_CONST               1 (('groupby',))
              6 IMPORT_NAME              0 (itertools)
              9 IMPORT_FROM              1 (groupby)
             12 STORE_NAME               1 (groupby)
             15 POP_TOP             
  7          16 LOAD_CONST               2 ('\nThis is the\nfirst paragraph.\n\nThis is the second.\n')
             19 LOAD_ATTR                2 (splitlines)
             22 CALL_FUNCTION            0
             25 STORE_NAME               3 (lines)
 10          28 SETUP_LOOP              52 (to 83)
             31 LOAD_NAME                1 (groupby)
             34 LOAD_NAME                3 (lines)
             37 LOAD_NAME                4 (bool)
             40 CALL_FUNCTION            2
             43 GET_ITER            
        >>   44 FOR_ITER                35 (to 82)
             47 UNPACK_SEQUENCE          2
             50 STORE_NAME               5 (has_chars)
             53 STORE_NAME               6 (frags)
 11          56 LOAD_NAME                5 (has_chars)
             59 POP_JUMP_IF_FALSE       44
 12          62 LOAD_CONST               3 (' ')
             65 LOAD_ATTR                7 (join)
             68 LOAD_NAME                6 (frags)
             71 CALL_FUNCTION            1
             74 PRINT_ITEM          
             75 PRINT_NEWLINE       
             76 JUMP_ABSOLUTE           44
             79 JUMP_ABSOLUTE           44
        >>   82 POP_BLOCK           
        >>   83 LOAD_CONST               4 (None)
             86 RETURN_VALUE        
</pre>
