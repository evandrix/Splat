<link rel="stylesheet" type="text/css" href="http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css" />
<script type="text/javascript" src="http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.js"></script>
<style>
    pre {
        padding: 5px;
        font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;
        margin-bottom: 10px;
        background-color: #EEE;
        overflow: auto;
        width: auto;
        width: 650px !ie7;
        padding-bottom: 20px !ie7;
        max-height: 600px;
    }
</style>

<body onload="prettyPrint()">

<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule" xmlns:re="http://purl.org/atompub/rank/1.0">
    <title type="text">Hidden features of Python - Stack Overflow</title>
    <link rel="self" href="http://stackoverflow.com/feeds/question/101268" type="application/atom+xml" />
        <link rel="hub" href="http://pubsubhubbub.appspot.com/" />        
    <link rel="alternate" href="http://stackoverflow.com/q/101268" type="text/html" />
    <subtitle>most recent 30 from stackoverflow.com</subtitle>
    <updated>2012-01-12T01:16:43Z</updated>
    <id>http://stackoverflow.com/feeds/question/101268</id>
<creativeCommons:license>http://www.creativecommons.org/licenses/by-sa/3.0/rdf</creativeCommons:license> 
    <entry>
        <id>http://stackoverflow.com/q/101268</id>
        <re:rank scheme="http://stackoverflow.com">1278</re:rank>
        <title type="text">Hidden features of Python</title>
        <category scheme="http://stackoverflow.com/feeds/question/101268/tags" term="python"/><category scheme="http://stackoverflow.com/feeds/question/101268/tags" term="hidden-features"/>
        <author>
            <name>jelovirt</name>
            <uri>http://stackoverflow.com/users/2679</uri>
        </author>
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python" />
        <published>2008-09-19T11:50:36Z</published>
        <updated>2012-01-09T08:57:08Z</updated>
        <summary type="html">
            <p>What are the lesser-known but useful features of the Python programming language?</p>

<ul>
<li>Try to limit answers to Python core.</li>
<li>One feature per answer.</li>
<li>Give an example and short description of the feature, not just a link to documentation.</li>
<li>Label the feature using a title as the first line.</li>
</ul>

<h2>Quick links to answers:</h2>

<ul>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#111176'>Argument Unpacking</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#112303'>Braces</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101945'>Chaining Comparison Operators</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101447'>Decorators</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#113198'>Default Argument Gotchas / Dangers of Mutable Default arguments</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#102062'>Descriptors</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#111970'>Dictionary default <code>.get</code> value</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#102065'>Docstring Tests</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python/112316#112316'>Ellipsis Slicing Syntax</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#117116'>Enumeration</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#114420'>For/else</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#102202'>Function as iter() argument</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101310'>Generator expressions</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101276'><code>import this</code></a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#102037'>In Place Value Swapping</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101840'>List stepping</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#112286'><code>__missing__</code> items</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101537'>Multi-line Regex</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#113164'>Named string formatting</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101549'>Nested list/generator comprehensions</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#108297'>New types at runtime</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#113833'><code>.pth</code> files</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#1024693'>ROT13 Encoding</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#143636'>Regex Debugging</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#101739'>Sending to Generators</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#168270'>Tab Completion in Interactive Interpreter</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#116480'>Ternary Expression</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#114157'><code>try/except/else</code></a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#3267903'>Unpacking+<code>print()</code> function</a></li>
<li><a href='http://stackoverflow.com/questions/101268/hidden-features-of-python#109182'><code>with</code> statement</a></li>
</ul>

        </summary>
    </entry>
    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101276#101276</id>
        <re:rank scheme="http://stackoverflow.com">94</re:rank>
        <title type="text">Answer by cleg for Hidden features of Python</title>
        <author>
            <name>cleg</name>
            <uri>http://stackoverflow.com/users/29503</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101276#101276" />
        <published>2008-09-19T11:53:19Z</published>   
        <updated>2009-10-20T07:08:14Z</updated>
        <summary type="html"><p><strong>Main messages :)</strong></p>

<pre class="prettyprint"><code>import this
# btw look at this module&#39;s source :)
</code></pre>

<p><hr /></p>

<p><a href='http://svn.python.org/view/python/trunk/Lib/this.py?view=markup' rel='nofollow'>De-cyphered</a>:</p>

<blockquote>
  <p>The Zen of Python, by Tim Peters    </p>
  
  <p>Beautiful is better than ugly.<br />
  Explicit is better than implicit.<br />
  Simple is better than complex.<br />
  Complex is better than complicated.<br />
  Flat is better than nested.<br />
  Sparse is better than dense.<br />
  Readability counts.<br />
  Special cases aren&#39;t special enough to break the rules.<br />
  Although practicality beats purity.<br />
  Errors should never pass silently.<br />
  Unless explicitly silenced.<br />
  In the face of ambiguity, refuse the temptation to guess.
  There should be one-- and preferably only one --obvious way to do it.<br />
  Although that way may not be obvious at first unless you&#39;re Dutch.<br />
  Now is better than never.<br />
  Although never is often better than <em>right</em> now.<br />
  If the implementation is hard to explain, it&#39;s a bad idea.<br />
  If the implementation is easy to explain, it may be a good idea.<br />
  Namespaces are one honking great idea -- let&#39;s do more of those!  </p>
</blockquote>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101280#101280</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Oko for Hidden features of Python</title>
        <author>
            <name>Oko</name>
            <uri>http://stackoverflow.com/users/9402</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101280#101280" />
        <published>2008-09-19T11:53:55Z</published>   
        <updated>2010-07-30T12:58:46Z</updated>
        <summary type="html"><p><strong>List comprehensions</strong></p>

<p><a href='http://www.secnetix.de/olli/Python/list_comprehensions.hawk'>list comprehensions</a></p>

<p>Compare the more traditional (without list comprehension):</p>

<pre class="prettyprint"><code>foo = []
for x in xrange(10):
  if x % 2 == 0:
     foo.append(x)
</code></pre>

<p>to:</p>

<pre class="prettyprint"><code>foo = [x for x in xrange(10) if x % 2 == 0]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101286#101286</id>
        <re:rank scheme="http://stackoverflow.com">22</re:rank>
        <title type="text">Answer by Matthias Kestenholz for Hidden features of Python</title>
        <author>
            <name>Matthias Kestenholz</name>
            <uri>http://stackoverflow.com/users/317346</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101286#101286" />
        <published>2008-09-19T11:55:12Z</published>   
        <updated>2008-09-19T11:55:12Z</updated>
        <summary type="html"><p><strong>Metaclasses</strong></p>

<p>of course :-) <a href='http://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python'>http://stackoverflow.com/questions/100003/what-is-a-metaclass-in-python</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101288#101288</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by cleg for Hidden features of Python</title>
        <author>
            <name>cleg</name>
            <uri>http://stackoverflow.com/users/29503</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101288#101288" />
        <published>2008-09-19T11:55:26Z</published>   
        <updated>2008-09-19T11:55:26Z</updated>
        <summary type="html"><p><strong>Special methods</strong></p>

<p><a href='http://docs.python.org/ref/specialnames.html' rel='nofollow'>Absolute power!</a> </p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101310#101310</id>
        <re:rank scheme="http://stackoverflow.com">390</re:rank>
        <title type="text">Answer by freespace for Hidden features of Python</title>
        <author>
            <name>freespace</name>
            <uri>http://stackoverflow.com/users/8297</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101310#101310" />
        <published>2008-09-19T11:59:28Z</published>   
        <updated>2009-11-23T14:36:53Z</updated>
        <summary type="html"><p><strong>Creating generators objects</strong></p>

<p>If you write </p>

<pre class="prettyprint"><code>x=(n for n in foo if bar(n))
</code></pre>

<p>you can get out the generator and assign it to x. Now it means you can do</p>

<pre class="prettyprint"><code>for n in x:
</code></pre>

<p>The advantage of this is that you don&#39;t need intermediate storage, which you would need if you did</p>

<pre class="prettyprint"><code>x = [n for n in foo if bar(n)]
</code></pre>

<p>In some cases this can lead to significant speed up.</p>

<p>You can append many if statements to the end of the generator, basically replicating nested for loops:</p>

<pre class="prettyprint"><code>>>> n = ((a,b) for a in range(0,2) for b in range(4,6))
>>> for i in n:
...   print i 

(0, 4)
(0, 5)
(1, 4)
(1, 5)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101447#101447</id>
        <re:rank scheme="http://stackoverflow.com">276</re:rank>
        <title type="text">Answer by DzinX for Hidden features of Python</title>
        <author>
            <name>DzinX</name>
            <uri>http://stackoverflow.com/users/18745</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101447#101447" />
        <published>2008-09-19T12:32:26Z</published>   
        <updated>2010-04-15T16:18:11Z</updated>
        <summary type="html"><p><strong>Decorators</strong></p>

<p><a href='http://docs.python.org/ref/function.html#tok-decorators' rel='nofollow'>Decorators</a> allow to wrap a function or method in another function that can add functionality, modify arguments or results, etc. You write decorators one line above the function definition, beginning with an 'at' sign (@).</p>

<p>Example shows a <code>print_args</code> decorator that prints the decorated function&#39;s arguments before calling it:</p>

<pre class="prettyprint"><code>>>> def print_args(function):
>>>     def wrapper(*args, **kwargs):
>>>         print &#39;Arguments:&#39;, args, kwargs
>>>         return function(*args, **kwargs)
>>>     return wrapper

>>> @print_args
>>> def write(text):
>>>     print text

>>> write(&#39;foo&#39;)
Arguments: (&#39;foo&#39;,) {}
foo
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101537#101537</id>
        <re:rank scheme="http://stackoverflow.com">221</re:rank>
        <title type="text">Answer by user18044 for Hidden features of Python</title>
        <author>
            <name>user18044</name>
            <uri>http://stackoverflow.com/users/18044</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101537#101537" />
        <published>2008-09-19T12:44:42Z</published>   
        <updated>2009-06-27T22:26:56Z</updated>
        <summary type="html"><p><strong>Readable regular expressions</strong></p>

<p>In Python you can split a regular expression over multiple lines, name your matches and insert comments.</p>

<p>Example verbose syntax (from <a href='http://diveintopython.org/regular%5Fexpressions/index.html' rel='nofollow'>Dive into Python</a>):</p>

<pre class="prettyprint"><code>>>> pattern = '''
... ^                   # beginning of string
... M{0,4}              # thousands - 0 to 4 M&#39;s
... (CM|CD|D?C{0,3})    # hundreds - 900 (CM), 400 (CD), 0-300 (0 to 3 C&#39;s),
...                     #            or 500-800 (D, followed by 0 to 3 C&#39;s)
... (XC|XL|L?X{0,3})    # tens - 90 (XC), 40 (XL), 0-30 (0 to 3 X&#39;s),
...                     #        or 50-80 (L, followed by 0 to 3 X&#39;s)
... (IX|IV|V?I{0,3})    # ones - 9 (IX), 4 (IV), 0-3 (0 to 3 I&#39;s),
...                     #        or 5-8 (V, followed by 0 to 3 I&#39;s)
... $                   # end of string
... '''
>>> re.search(pattern, &#39;M&#39;, re.VERBOSE)
</code></pre>

<p>Example naming matches (from <a href='http://www.amk.ca/python/howto/regex/' rel='nofollow'>Regular Expression HOWTO</a>)</p>

<pre class="prettyprint"><code>>>> p = re.compile(r&#39;(?P<word>\b\w+\b)&#39;)
>>> m = p.search( &#39;(((( Lots of punctuation )))&#39; )
>>> m.group(&#39;word&#39;)
&#39;Lots&#39;
</code></pre>

<p>You can also verbosely write a regex without using <code>re.VERBOSE</code> thanks to string literal concatenation.</p>

<pre class="prettyprint"><code>>>> pattern = (
...     '^'                 # beginning of string
...     'M{0,4}'            # thousands - 0 to 4 M&#39;s
...     '(CM|CD|D?C{0,3})'  # hundreds - 900 (CM), 400 (CD), 0-300 (0 to 3 C&#39;s),
...                         #            or 500-800 (D, followed by 0 to 3 C&#39;s)
...     '(XC|XL|L?X{0,3})'  # tens - 90 (XC), 40 (XL), 0-30 (0 to 3 X&#39;s),
...                         #        or 50-80 (L, followed by 0 to 3 X&#39;s)
...     '(IX|IV|V?I{0,3})'  # ones - 9 (IX), 4 (IV), 0-3 (0 to 3 I&#39;s),
...                         #        or 5-8 (V, followed by 0 to 3 I&#39;s)
...     '$'                 # end of string
... )
>>> print pattern
'^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$'
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101549#101549</id>
        <re:rank scheme="http://stackoverflow.com">83</re:rank>
        <title type="text">Answer by Rafał Dowgird for Hidden features of Python</title>
        <author>
            <name>Rafał Dowgird</name>
            <uri>http://stackoverflow.com/users/12166</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101549#101549" />
        <published>2008-09-19T12:45:44Z</published>   
        <updated>2008-09-19T12:45:44Z</updated>
        <summary type="html"><p>Nested list comprehensions and generator expressions:</p>

<pre class="prettyprint"><code>[(i,j) for i in range(3) for j in range(i) ]    
((i,j) for i in range(4) for j in range(i) )
</code></pre>

<p>These can replace huge chunks of nested-loop code.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101731#101731</id>
        <re:rank scheme="http://stackoverflow.com">27</re:rank>
        <title type="text">Answer by Ber for Hidden features of Python</title>
        <author>
            <name>Ber</name>
            <uri>http://stackoverflow.com/users/11527</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101731#101731" />
        <published>2008-09-19T13:16:49Z</published>   
        <updated>2009-06-27T22:46:18Z</updated>
        <summary type="html"><p><strong>Getter functions in module operator</strong></p>

<p>The functions <code>attrgetter()</code> and <code>itemgetter()</code> in module <code>operator</code> can be used to generate fast access functions for use in sorting and search objects and dictionaries</p>

<p><a href='http://docs.python.org/lib/module-operator.html' rel='nofollow'>Chapter 6.7</a> in the Python Library Docs</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101739#101739</id>
        <re:rank scheme="http://stackoverflow.com">294</re:rank>
        <title type="text">Answer by Rafał Dowgird for Hidden features of Python</title>
        <author>
            <name>Rafał Dowgird</name>
            <uri>http://stackoverflow.com/users/12166</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101739#101739" />
        <published>2008-09-19T13:18:19Z</published>   
        <updated>2011-04-10T21:54:30Z</updated>
        <summary type="html"><p><a href='http://www.python.org/dev/peps/pep-0342/' rel='nofollow'>Sending values into generator functions</a>. For example having this function:</p>

<pre class="prettyprint"><code>def mygen():
    '''Yield 5 until something else is passed back via send()'''
    a = 5
    while True:
        f = (yield a) #yield a and possibly get f in return
        if f is not None: 
            a = f  #store the new value
</code></pre>

<p>You can:</p>

<pre class="prettyprint"><code>>>> g = mygen()
>>> g.next()
5
>>> g.next()
5
>>> g.send(7)  #we send this back to the generator
7
>>> g.next() #now it will yield 7 until we send something else
7
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101744#101744</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Paweł Hajdan for Hidden features of Python</title>
        <author>
            <name>Paweł Hajdan</name>
            <uri>http://stackoverflow.com/users/9403</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101744#101744" />
        <published>2008-09-19T13:19:13Z</published>   
        <updated>2010-02-13T20:54:29Z</updated>
        <summary type="html"><p>Ability to substitute even things like file deletion, file opening etc. - direct manipulation of language library. This is a huge advantage when <strong>testing.</strong> You don&#39;t have to wrap everything in complicated containers. Just substitute a function/method and go. This is also called <strong>monkey-patching.</strong></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101778#101778</id>
        <re:rank scheme="http://stackoverflow.com">1</re:rank>
        <title type="text">Answer by Kevin Little for Hidden features of Python</title>
        <author>
            <name>Kevin Little</name>
            <uri>http://stackoverflow.com/users/14028</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101778#101778" />
        <published>2008-09-19T13:25:43Z</published>   
        <updated>2008-09-19T13:25:43Z</updated>
        <summary type="html"><pre class="prettyprint"><code>>>> x=[1,1,2,&#39;a&#39;,&#39;a&#39;,3]
>>> y = [ _x for _x in x if not _x in locals()[&#39;_[1]&#39;] ]
>>> y
[1, 2, &#39;a&#39;, 3]
</code></pre>

<p><br>
'locals()[&#39;_[1]&#39;]' is the 'secret name' of the list being created. Very useful when state of list being built affects subsequent build decisions.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101840#101840</id>
        <re:rank scheme="http://stackoverflow.com">277</re:rank>
        <title type="text">Answer by Rafał Dowgird for Hidden features of Python</title>
        <author>
            <name>Rafał Dowgird</name>
            <uri>http://stackoverflow.com/users/12166</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101840#101840" />
        <published>2008-09-19T13:33:42Z</published>   
        <updated>2008-09-19T13:33:42Z</updated>
        <summary type="html"><p>The step argument in slice operators. For example:</p>

<pre class="prettyprint"><code>a = [1,2,3,4,5]
>>> a[::2]  # iterate over the whole list in 2-increments
[1,3,5]
</code></pre>

<p>The special case <code>x[::-1]</code> is a useful idiom for &#39;x reversed&#39;.</p>

<pre class="prettyprint"><code>>>> a[::-1]
[5,4,3,2,1]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101892#101892</id>
        <re:rank scheme="http://stackoverflow.com">21</re:rank>
        <title type="text">Answer by e-satis for Hidden features of Python</title>
        <author>
            <name>e-satis</name>
            <uri>http://stackoverflow.com/users/9951</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101892#101892" />
        <published>2008-09-19T13:39:43Z</published>   
        <updated>2010-05-28T15:46:12Z</updated>
        <summary type="html"><p>Implicit concatenation:</p>

<pre class="prettyprint"><code>>>> print 'Hello ' 'World'
Hello World
</code></pre>

<p>Useful when you want to make a long text fit on several lines in a script:</p>

<pre class="prettyprint"><code>hello = 'Greaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa Hello ' \
        'Word'
</code></pre>

<p>or</p>

<pre class="prettyprint"><code>hello = ('Greaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa Hello ' 
         'Word')
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101919#101919</id>
        <re:rank scheme="http://stackoverflow.com">49</re:rank>
        <title type="text">Answer by J.F. Sebastian for Hidden features of Python</title>
        <author>
            <name>J.F. Sebastian</name>
            <uri>http://stackoverflow.com/users/4279</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101919#101919" />
        <published>2008-09-19T13:43:46Z</published>   
        <updated>2011-03-31T10:33:41Z</updated>
        <summary type="html"><p>You can use <a href='http://docs.python.org/library/functions.html#property' rel='nofollow'>property</a> to make your class interfaces more strict.</p>

<pre class="prettyprint"><code>class C(object):
    def __init__(self, foo, bar):
        self.foo = foo # read-write property
        self.bar = bar # simple attribute

    def _set_foo(self, value):
        self._foo = value

    def _get_foo(self):
        return self._foo

    def _del_foo(self):
        del self._foo

    # any of fget, fset, fdel and doc are optional,
    # so you can make a write-only and/or delete-only property.
    foo = property(fget = _get_foo, fset = _set_foo,
                   fdel = _del_foo, doc = &#39;Hello, I am foo!&#39;)

class D(C):
    def _get_foo(self):
        return self._foo * 2

    def _set_foo(self, value):
        self._foo = value / 2

    foo = property(fget = _get_foo, fset = _set_foo,
                   fdel = C.foo.fdel, doc = C.foo.__doc__)
</code></pre>

<p>In Python <a href='http://docs.python.org/dev/whatsnew/2.6.html' rel='nofollow'>2.6 and 3.0</a>:</p>

<pre class="prettyprint"><code>class C(object):
    def __init__(self, foo, bar):
        self.foo = foo # read-write property
        self.bar = bar # simple attribute

    @property
    def foo(self):
        &#39;&#39;&#39;Hello, I am foo!&#39;&#39;&#39;

        return self._foo

    @foo.setter
    def foo(self, value):
        self._foo = value

    @foo.deleter
    def foo(self):
        del self._foo

class D(C):
    @C.foo.getter
    def foo(self):
        return self._foo * 2

    @foo.setter
    def foo(self, value):
        self._foo = value / 2
</code></pre>

<p>To learn more about how property works refer to <a href='http://docs.python.org/howto/descriptor.html' rel='nofollow'>descriptors</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101945#101945</id>
        <re:rank scheme="http://stackoverflow.com">702</re:rank>
        <title type="text">Answer by Thomas Wouters for Hidden features of Python</title>
        <author>
            <name>Thomas Wouters</name>
            <uri>http://stackoverflow.com/users/17624</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101945#101945" />
        <published>2008-09-19T13:47:15Z</published>   
        <updated>2010-05-27T10:33:47Z</updated>
        <summary type="html"><p><strong>Chaining comparison operators</strong>:</p>

<pre class="prettyprint"><code>>>> x = 5
>>> 1 < x < 10
True
>>> 10 < x < 20 
False
>>> x < 10 < x*10 < 100
True
>>> 10 > x <= 9
True
>>> 5 == x > 4
True
</code></pre>

<p>In case you&#39;re thinking it&#39;s doing <code>1 < x</code>, which comes out as <code>True</code>, and then comparing <code>True < 10</code>, which is also <code>True</code>, then no, that&#39;s really not what happens (see the last example.) It&#39;s really translating into <code>1 < x and x < 10</code>, and <code>x < 10 and 10 < x * 10 and x*10 < 100</code>, but with less typing and each term is only evaluated once.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/101971#101971</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Thomas Wouters for Hidden features of Python</title>
        <author>
            <name>Thomas Wouters</name>
            <uri>http://stackoverflow.com/users/17624</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/101971#101971" />
        <published>2008-09-19T13:51:54Z</published>   
        <updated>2008-09-19T13:51:54Z</updated>
        <summary type="html"><p><strong>Everything is dynamic</strong></p>

<p>'There is no compile-time'. Everything in Python is runtime. A module is &#39;defined&#39; by executing the module&#39;s source top-to-bottom, just like a script, and the resulting namespace is the module&#39;s attribute-space. Likewise, a class is &#39;defined&#39; by executing the class body top-to-bottom, and the resulting namespace is the class&#39;s attribute-space. A class body can contain completely arbitrary code -- including import statements, loops and other class statements. Creating a class, function or even module &#39;dynamically&#39;, as is sometimes asked for, isn&#39;t hard; in fact, it&#39;s impossible to avoid, since everything is &#39;dynamic&#39;.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/102006#102006</id>
        <re:rank scheme="http://stackoverflow.com">106</re:rank>
        <title type="text">Answer by Thomas Wouters for Hidden features of Python</title>
        <author>
            <name>Thomas Wouters</name>
            <uri>http://stackoverflow.com/users/17624</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/102006#102006" />
        <published>2008-09-19T13:56:27Z</published>   
        <updated>2010-04-06T02:08:56Z</updated>
        <summary type="html"><p><strong>Re-raising exceptions</strong>:</p>

<pre class="prettyprint"><code># Python 2 syntax
try:
    some_operation()
except SomeError, e:
    if is_fatal(e):
        raise
    handle_nonfatal(e)

# Python 3 syntax
try:
    some_operation()
except SomeError as e:
    if is_fatal(e):
        raise
    handle_nonfatal(e)
</code></pre>

<p>The &#39;raise&#39; statement with no arguments inside an error handler tells Python to re-raise the exception <em>with the original traceback intact</em>, allowing you to say 'oh, sorry, sorry, I didn&#39;t mean to catch that, sorry, sorry.'</p>

<p>If you wish to print, store or fiddle with the original traceback, you can get it with sys.exc_info(), and printing it like Python would is done with the &#39;traceback&#39; module.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/102037#102037</id>
        <re:rank scheme="http://stackoverflow.com">221</re:rank>
        <title type="text">Answer by Lucas S. for Hidden features of Python</title>
        <author>
            <name>Lucas S.</name>
            <uri>http://stackoverflow.com/users/7363</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/102037#102037" />
        <published>2008-09-19T14:00:11Z</published>   
        <updated>2010-04-06T01:40:30Z</updated>
        <summary type="html"><p><strong>In-place value swapping</strong></p>

<pre class="prettyprint"><code>>>> a = 10
>>> b = 5
>>> a, b
(10, 5)

>>> a, b = b, a
>>> a, b
(5, 10)
</code></pre>

<p>The right-hand side of the assignment is an expression that creates a new tuple. The left-hand side of the assignment immediately unpacks that (unreferenced) tuple to the names <code>a</code> and <code>b</code>.</p>

<p>After the assignment, the new tuple is unreferenced and marked for garbage collection, and the values bound to <code>a</code> and <code>b</code> have been swapped.</p>

<p>As noted in the <a href='http://docs.python.org/tutorial/datastructures.html#tuples-and-sequences' rel='nofollow'>Python tutorial section on data structures</a>,</p>

<blockquote>
  <p>Note that multiple assignment is really just a combination of tuple packing and sequence unpacking.</p>
</blockquote>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/102062#102062</id>
        <re:rank scheme="http://stackoverflow.com">142</re:rank>
        <title type="text">Answer by Nick Johnson for Hidden features of Python</title>
        <author>
            <name>Nick Johnson</name>
            <uri>http://stackoverflow.com/users/12030</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/102062#102062" />
        <published>2008-09-19T14:04:38Z</published>   
        <updated>2009-10-18T08:48:22Z</updated>
        <summary type="html"><p><strong>Descriptors</strong></p>

<p>They&#39;re the magic behind a whole bunch of core Python features. </p>

<p>When you use dotted access to look up a member (eg, x.y), Python first looks for the member in the instance dictionary. If it&#39;s not found, it looks for it in the class dictionary. If it finds it in the class dictionary, and the object implements the descriptor protocol, instead of just returning it, Python executes it. A descriptor is any class that implements the <code>__get__</code>, <code>__set__</code>, or <code>__del__</code> methods.</p>

<p>Here&#39;s how you&#39;d implement your own (read-only) version of property using descriptors:</p>

<pre class="prettyprint"><code>class Property(object):
    def __init__(self, fget):
        self.fget = fget

    def __get__(self, obj, type):
        if obj is None:
            return self
        return self.fget(obj)
</code></pre>

<p>and you&#39;d use it just like the built-in property():</p>

<pre class="prettyprint"><code>class MyClass(object):
    @Property
    def foo(self):
        return 'Foo!'
</code></pre>

<p>Descriptors are used in Python to implement properties, bound methods, static methods, class methods and slots, amongst other things. Understanding them makes it easy to see why a lot of things that previously looked like Python &#39;quirks&#39; are the way they are.</p>

<p>Raymond Hettinger has <a href='http://users.rcn.com/python/download/Descriptor.htm' rel='nofollow'>an excellent tutorial</a> that does a much better job of describing them than I do.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/102065#102065</id>
        <re:rank scheme="http://stackoverflow.com">137</re:rank>
        <title type="text">Answer by Pierre-Jean Coudert for Hidden features of Python</title>
        <author>
            <name>Pierre-Jean Coudert</name>
            <uri>http://stackoverflow.com/users/8450</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/102065#102065" />
        <published>2008-09-19T14:04:50Z</published>   
        <updated>2010-01-13T22:06:18Z</updated>
        <summary type="html"><p><a href='http://docs.python.org/lib/module-doctest.html' rel='nofollow'>Doctest</a>: documentation and unit-testing at the same time. </p>

<p>Example extracted from the Python documentation:</p>

<pre class="prettyprint"><code>def factorial(n):
    '''Return the factorial of n, an exact integer >= 0.

    If the result is small enough to fit in an int, return an int.
    Else return a long.

    >>> [factorial(n) for n in range(6)]
    [1, 1, 2, 6, 24, 120]
    >>> factorial(-1)
    Traceback (most recent call last):
        ...
    ValueError: n must be >= 0

    Factorials of floats are OK, but the float must be an exact integer:
    '''

    import math
    if not n >= 0:
        raise ValueError('n must be >= 0')
    if math.floor(n) != n:
        raise ValueError('n must be exact integer')
    if n+1 == n:  # catch a value like 1e300
        raise OverflowError('n too large')
    result = 1
    factor = 2
    while factor <= n:
        result *= factor
        factor += 1
    return result

def _test():
    import doctest
    doctest.testmod()    

if __name__ == '__main__':
    _test()
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/102202#102202</id>
        <re:rank scheme="http://stackoverflow.com">324</re:rank>
        <title type="text">Answer by mbac32768 for Hidden features of Python</title>
        <author>
            <name>mbac32768</name>
            <uri>http://stackoverflow.com/users/18446</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/102202#102202" />
        <published>2008-09-19T14:20:38Z</published>   
        <updated>2010-05-28T15:06:07Z</updated>
        <summary type="html"><p><strong>iter() can take a callable argument</strong></p>

<p>For instance:</p>

<pre class="prettyprint"><code>def seek_next_line(f):
    for c in iter(lambda: f.read(1),&#39;\n&#39;):
        pass
</code></pre>

<p>The <code>iter(callable, until_value)</code> function repeatedly calls <code>callable</code> and yields its result until <code>until_value</code> is returned. </p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/103198#103198</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by pi. for Hidden features of Python</title>
        <author>
            <name>pi.</name>
            <uri>http://stackoverflow.com/users/15274</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/103198#103198" />
        <published>2008-09-19T15:55:40Z</published>   
        <updated>2011-07-13T13:22:35Z</updated>
        <summary type="html"><p>Too lazy to initialize every field in a dictionary? No problem:</p>

<p>In Python > 2.3:</p>

<pre class="prettyprint"><code>from collections import defaultdict
</code></pre>

<p>In Python <= 2.3:</p>

<pre class="prettyprint"><code>def defaultdict(type_):
    class Dict(dict):
        def __getitem__(self, key):
            return self.setdefault(key, type_())
    return Dict()
</code></pre>

<p>In any version:</p>

<pre class="prettyprint"><code>d = defaultdict(list)
for stuff in lots_of_stuff:
     d[stuff.name].append(stuff)
</code></pre>

<p><strong>UPDATE:</strong></p>

<p>Thanks <a href='http://stackoverflow.com/users/69707/ken-arnold'>Ken Arnold</a>. I reimplemented a more sophisticated version of defaultdict. It should behave exactly as <a href='http://docs.python.org/library/collections.html#collections.defaultdict' rel='nofollow'>the one in the standard library</a>.</p>

<pre class="prettyprint"><code>def defaultdict(default_factory, *args, **kw):                              

    class defaultdict(dict):

        def __missing__(self, key):
            if default_factory is None:
                raise KeyError(key)
            return self.setdefault(key, default_factory())

        def __getitem__(self, key):
            try:
                return dict.__getitem__(self, key)
            except KeyError:
                return self.__missing__(key)

    return defaultdict(*args, **kw)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/105325#105325</id>
        <re:rank scheme="http://stackoverflow.com">25</re:rank>
        <title type="text">Answer by davidavr for Hidden features of Python</title>
        <author>
            <name>davidavr</name>
            <uri>http://stackoverflow.com/users/8247</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/105325#105325" />
        <published>2008-09-19T20:30:28Z</published>   
        <updated>2008-09-19T20:30:28Z</updated>
        <summary type="html"><p><strong>The Python Interpreter</strong></p>

<pre class="prettyprint"><code>>>>
</code></pre>

<p>Maybe not lesser known, but certainly one of my favorite features of Python.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/106868#106868</id>
        <re:rank scheme="http://stackoverflow.com">18</re:rank>
        <title type="text">Answer by Jeremy Cantrell for Hidden features of Python</title>
        <author>
            <name>Jeremy Cantrell</name>
            <uri>http://stackoverflow.com/users/18866</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/106868#106868" />
        <published>2008-09-20T02:55:10Z</published>   
        <updated>2009-06-27T23:12:42Z</updated>
        <summary type="html"><p><strong>First-class functions</strong></p>

<p>It&#39;s not really a hidden feature, but the fact that functions are first class objects is simply great. You can pass them around like any other variable.</p>

<pre class="prettyprint"><code>>>> def jim(phrase):
...   return &#39;Jim says, '%s'.&#39; % phrase
>>> def say_something(person, phrase):
...   print person(phrase)

>>> say_something(jim, &#39;hey guys&#39;)
&#39;Jim says, 'hey guys'.&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/108297#108297</id>
        <re:rank scheme="http://stackoverflow.com">160</re:rank>
        <title type="text">Answer by Torsten Marek for Hidden features of Python</title>
        <author>
            <name>Torsten Marek</name>
            <uri>http://stackoverflow.com/users/9567</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/108297#108297" />
        <published>2008-09-20T14:25:58Z</published>   
        <updated>2011-09-05T04:54:02Z</updated>
        <summary type="html"><p><strong>Creating new types in a fully dynamic manner</strong></p>

<pre class="prettyprint"><code>>>> NewType = type('NewType', (object,), {'x': 'hello'})
>>> n = NewType()
>>> n.x
'hello'
</code></pre>

<p>which is exactly the same as</p>

<pre class="prettyprint"><code>>>> class NewType(object):
>>>     x = 'hello'
>>> n = NewType()
>>> n.x
'hello'
</code></pre>

<p>Probably not the most useful thing, but nice to know.</p>

<p><strong>Edit</strong>: Fixed name of new type, should be <code>NewType</code> to be the exact same thing as with <code>class</code> statement.</p>

<p><strong>Edit</strong>: Adjusted the title to more accurately describe the feature.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/108312#108312</id>
        <re:rank scheme="http://stackoverflow.com">27</re:rank>
        <title type="text">Answer by Torsten Marek for Hidden features of Python</title>
        <author>
            <name>Torsten Marek</name>
            <uri>http://stackoverflow.com/users/9567</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/108312#108312" />
        <published>2008-09-20T14:31:17Z</published>   
        <updated>2008-09-20T14:31:17Z</updated>
        <summary type="html"><p><strong>Interleaving <code>if</code> and <code>for</code> in list comprehensions</strong></p>

<pre class="prettyprint"><code>>>> [(x, y) for x in range(4) if x % 2 == 1 for y in range(4)]
[(1, 0), (1, 1), (1, 2), (1, 3), (3, 0), (3, 1), (3, 2), (3, 3)]
</code></pre>

<p>I never realized this until I learned Haskell.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/109182#109182</id>
        <re:rank scheme="http://stackoverflow.com">161</re:rank>
        <title type="text">Answer by Ycros for Hidden features of Python</title>
        <author>
            <name>Ycros</name>
            <uri>http://stackoverflow.com/users/10495</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/109182#109182" />
        <published>2008-09-20T20:06:16Z</published>   
        <updated>2010-04-06T02:02:02Z</updated>
        <summary type="html"><p><strong>Context managers and the '<code>with</code>' Statement</strong></p>

<p>Introduced in <a href='http://www.python.org/dev/peps/pep-0343/' rel='nofollow'>PEP 343</a>, a <a href='http://docs.python.org/library/stdtypes.html#context-manager-types' rel='nofollow'>context manager</a> is an object that acts as a run-time context for a suite of statements.</p>

<p>Since the feature makes use of new keywords, it is introduced gradually: it is available in Python 2.5 via the <a href='http://docs.python.org/lib/module-future.html' rel='nofollow'><code>__future__</code></a> directive. Python 2.6 and above (including Python 3) has it available by default.</p>

<p>I have used the <a href='http://www.python.org/dev/peps/pep-0343/' rel='nofollow'>'with' statement</a> a lot because I think it&#39;s a very useful construct, here is a quick demo:</p>

<pre class="prettyprint"><code>from __future__ import with_statement

with open(&#39;foo.txt&#39;, &#39;w&#39;) as f:
    f.write(&#39;hello!&#39;)
</code></pre>

<p>What&#39;s happening here behind the scenes, is that the <a href='http://www.python.org/dev/peps/pep-0343/' rel='nofollow'>'with' statement</a> calls the special <code>__enter__</code> and <code>__exit__</code> methods on the file object. Exception details are also passed to <code>__exit__</code> if any exception was raised from the with statement body, allowing for exception handling to happen there.</p>

<p>What this does for you in this particular case is that it guarantees that the file is closed when execution falls out of scope of the <code>with</code> suite, regardless if that occurs normally or whether an exception was thrown. It is basically a way of abstracting away common exception-handling code.</p>

<p>Other common use cases for this include locking with threads and database transactions. </p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/109194#109194</id>
        <re:rank scheme="http://stackoverflow.com">12</re:rank>
        <title type="text">Answer by daniel for Hidden features of Python</title>
        <author>
            <name>daniel</name>
            <uri>http://stackoverflow.com/users/19741</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/109194#109194" />
        <published>2008-09-20T20:09:34Z</published>   
        <updated>2008-09-20T20:09:34Z</updated>
        <summary type="html"><p>Some of the <strong>builtin</strong> favorites, map(), reduce(), and filter(). All extremely fast and powerful.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/111176#111176</id>
        <re:rank scheme="http://stackoverflow.com">206</re:rank>
        <title type="text">Answer by e-satis for Hidden features of Python</title>
        <author>
            <name>e-satis</name>
            <uri>http://stackoverflow.com/users/9951</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/111176#111176" />
        <published>2008-09-21T15:00:37Z</published>   
        <updated>2010-06-23T12:13:20Z</updated>
        <summary type="html"><p><strong>Function argument unpacking</strong></p>

<p>You can unpack a list or a dictionary as function arguments using <code>*</code> and <code>**</code>.</p>

<p>For example:</p>

<pre class="prettyprint"><code>def draw_point(x, y):
    # do some magic

point_foo = (3, 4)
point_bar = {&#39;y&#39;: 3, &#39;x&#39;: 2}

draw_point(*point_foo)
draw_point(**point_bar)
</code></pre>

<p>Very useful shortcut since lists, tuples and dicts are widely used as containers.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/111970#111970</id>
        <re:rank scheme="http://stackoverflow.com">147</re:rank>
        <title type="text">Answer by Rory for Hidden features of Python</title>
        <author>
            <name>Rory</name>
            <uri>http://stackoverflow.com/users/161922</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/111970#111970" />
        <published>2008-09-21T20:18:19Z</published>   
        <updated>2008-09-21T20:18:19Z</updated>
        <summary type="html"><p>Dictionaries have a &#39;get()&#39; method. If you do d[&#39;key&#39;] and key isn&#39;t there, you get an exception. If you do d.get(&#39;key&#39;), you get back None if &#39;key&#39; isn&#39;t there. You can add a second argument to get that item back instead of None, eg: d.get(&#39;key&#39;, 0).</p>

<p>It&#39;s great for things like adding up numbers:</p>

<p><code>sum[value] = sum.get(value, 0) + 1</code></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112274#112274</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112274#112274" />
        <published>2008-09-21T21:49:26Z</published>   
        <updated>2008-09-21T21:49:26Z</updated>
        <summary type="html"><p>If you use <code>exec</code> in a function the variable lookup rules change drastically.  Closures are no longer possible but Python allows arbitrary identifiers in the function.  This gives you a 'modifiable locals()' and can be used to star-import identifiers.  On the downside it makes every lookup slower because the variables end up in a dict rather than slots in the frame:</p>

<pre class="prettyprint"><code>>>> def f():
...  exec 'a = 42'
...  return a
... 
>>> def g():
...  a = 42
...  return a
... 
>>> import dis
>>> dis.dis(f)
  2           0 LOAD_CONST               1 (&#39;a = 42&#39;)
              3 LOAD_CONST               0 (None)
              6 DUP_TOP             
              7 EXEC_STMT           

  3           8 LOAD_NAME                0 (a)
             11 RETURN_VALUE        
>>> dis.dis(g)
  2           0 LOAD_CONST               1 (42)
              3 STORE_FAST               0 (a)

  3           6 LOAD_FAST                0 (a)
              9 RETURN_VALUE
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112286#112286</id>
        <re:rank scheme="http://stackoverflow.com">243</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112286#112286" />
        <published>2008-09-21T21:54:12Z</published>   
        <updated>2008-09-21T21:54:12Z</updated>
        <summary type="html"><p>From 2.5 onwards dicts have a special method <code>__missing__</code> that is invoked for missing items:</p>

<pre class="prettyprint"><code>>>> class MyDict(dict):
...  def __missing__(self, key):
...   self[key] = rv = []
...   return rv
... 
>>> m = MyDict()
>>> m['foo'].append(1)
>>> m['foo'].append(2)
>>> dict(m)
{&#39;foo&#39;: [1, 2]}
</code></pre>

<p>There is also a dict subclass in <code>collections</code> called <code>defaultdict</code> that does pretty much the same but calls a function without arguments for not existing items:</p>

<pre class="prettyprint"><code>>>> from collections import defaultdict
>>> m = defaultdict(list)
>>> m['foo'].append(1)
>>> m['foo'].append(2)
>>> dict(m)
{&#39;foo&#39;: [1, 2]}
</code></pre>

<p>I recommend converting such dicts to regular dicts before passing them to functions that don&#39;t expect such subclasses.  A lot of code uses <code>d[a_key]</code> and catches KeyErrors to check if an item exists which would add a new item to the dict.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112296#112296</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112296#112296" />
        <published>2008-09-21T21:57:37Z</published>   
        <updated>2008-09-21T21:57:37Z</updated>
        <summary type="html"><p>If you are using descriptors on your classes Python completely bypasses <code>__dict__</code> for that key which makes it a nice place to store such values:</p>

<pre class="prettyprint"><code>>>> class User(object):
...  def _get_username(self):
...   return self.__dict__[&#39;username&#39;]
...  def _set_username(self, value):
...   print &#39;username set&#39;
...   self.__dict__[&#39;username&#39;] = value
...  username = property(_get_username, _set_username)
...  del _get_username, _set_username
... 
>>> u = User()
>>> u.username = 'foo'
username set
>>> u.__dict__
{&#39;username&#39;: &#39;foo&#39;}
</code></pre>

<p>This helps to keep <code>dir()</code> clean.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112303#112303</id>
        <re:rank scheme="http://stackoverflow.com">288</re:rank>
        <title type="text">Answer by eduffy for Hidden features of Python</title>
        <author>
            <name>eduffy</name>
            <uri>http://stackoverflow.com/users/7536</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112303#112303" />
        <published>2008-09-21T22:01:53Z</published>   
        <updated>2008-09-21T22:01:53Z</updated>
        <summary type="html"><p>If you don&#39;t like using whitespace to denote scopes, you can use the C-style {} by issuing:</p>

<pre class="prettyprint"><code>from __future__ import braces
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112306#112306</id>
        <re:rank scheme="http://stackoverflow.com">12</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112306#112306" />
        <published>2008-09-21T22:02:39Z</published>   
        <updated>2008-09-21T22:02:39Z</updated>
        <summary type="html"><p><code>__slots__</code> is a nice way to save memory, but it&#39;s very hard to get a dict of the values of the object.  Imagine the following object:</p>

<pre class="prettyprint"><code>class Point(object):
    __slots__ = (&#39;x&#39;, &#39;y&#39;)
</code></pre>

<p>Now that object obviously has two attributes.  Now we can create an instance of it and build a dict of it this way:</p>

<pre class="prettyprint"><code>>>> p = Point()
>>> p.x = 3
>>> p.y = 5
>>> dict((k, getattr(p, k)) for k in p.__slots__)
{&#39;y&#39;: 5, &#39;x&#39;: 3}
</code></pre>

<p>This however won&#39;t work if point was subclassed and new slots were added.  However Python automatically implements <code>__reduce_ex__</code> to help the <code>copy</code> module.  This can be abused to get a dict of values:</p>

<pre class="prettyprint"><code>>>> p.__reduce_ex__(2)[2][1]
{&#39;y&#39;: 5, &#39;x&#39;: 3}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112316#112316</id>
        <re:rank scheme="http://stackoverflow.com">69</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112316#112316" />
        <published>2008-09-21T22:07:44Z</published>   
        <updated>2008-09-21T22:07:44Z</updated>
        <summary type="html"><p>Python&#39;s advanced slicing operation has a barely known syntax element, the ellipsis:</p>

<pre class="prettyprint"><code>>>> class C(object):
...  def __getitem__(self, item):
...   return item
... 
>>> C()[1:2, ..., 3]
(slice(1, 2, None), Ellipsis, 3)
</code></pre>

<p>Unfortunately it&#39;s barely useful as the ellipsis is only supported if tuples are involved.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/112325#112325</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Armin Ronacher for Hidden features of Python</title>
        <author>
            <name>Armin Ronacher</name>
            <uri>http://stackoverflow.com/users/19990</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/112325#112325" />
        <published>2008-09-21T22:12:38Z</published>   
        <updated>2008-09-21T22:12:38Z</updated>
        <summary type="html"><p>Builtin methods or functions don&#39;t implement the descriptor protocol which makes it impossible to do stuff like this:</p>

<pre class="prettyprint"><code>>>> class C(object):
...  id = id
... 
>>> C().id()
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
TypeError: id() takes exactly one argument (0 given)
</code></pre>

<p>However you can create a small bind descriptor that makes this possible:</p>

<pre class="prettyprint"><code>>>> from types import MethodType
>>> class bind(object):
...  def __init__(self, callable):
...   self.callable = callable
...  def __get__(self, obj, type=None):
...   if obj is None:
...    return self
...   return MethodType(self.callable, obj, type)
... 
>>> class C(object):
...  id = bind(id)
... 
>>> C().id()
7414064
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/113164#113164</id>
        <re:rank scheme="http://stackoverflow.com">127</re:rank>
        <title type="text">Answer by Pasi Savolainen for Hidden features of Python</title>
        <author>
            <name>Pasi Savolainen</name>
            <uri>http://stackoverflow.com/users/20195</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/113164#113164" />
        <published>2008-09-22T04:23:22Z</published>   
        <updated>2011-03-07T05:15:30Z</updated>
        <summary type="html"><p>Named formatting, % -formatting takes a dictionary (also applies %i/%s etc. validation).</p>

<pre class="prettyprint"><code>>>> print 'The %(foo)s is %(bar)i.' % {&#39;foo&#39;: &#39;answer&#39;, &#39;bar&#39;:42}
The answer is 42.

>>> foo, bar = &#39;question&#39;, 123

>>> print 'The %(foo)s is %(bar)i.' % locals()
The question is 123.
</code></pre>

<p>And since locals() is also a dictionary, you can simply pass that as a dict and have % -substitions from your local variables. I think this is frowned upon, but simplifies things..</p>

<p><strong>New Style Formatting</strong></p>

<pre class="prettyprint"><code>>>> print('The {foo} is {bar}'.format(foo=&#39;answer&#39;, bar=42))
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/113198#113198</id>
        <re:rank scheme="http://stackoverflow.com">303</re:rank>
        <title type="text">Answer by Jason Baker for Hidden features of Python</title>
        <author>
            <name>Jason Baker</name>
            <uri>http://stackoverflow.com/users/2147</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/113198#113198" />
        <published>2008-09-22T04:34:39Z</published>   
        <updated>2010-07-14T02:12:47Z</updated>
        <summary type="html"><p><strong>Be careful with mutable default arguments</strong></p>

<pre class="prettyprint"><code>>>> def foo(x=[]):
...     x.append(1)
...     print x
... 
>>> foo()
[1]
>>> foo()
[1, 1]
>>> foo()
[1, 1, 1]
</code></pre>

<p>Instead, you should use a sentinel value denoting 'not given' and replace with the mutable you&#39;d like as default:</p>

<pre class="prettyprint"><code>>>> def foo(x=None):
...     if x is None:
...         x = []
...     x.append(1)
...     print x
>>> foo()
[1]
>>> foo()
[1]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/113319#113319</id>
        <re:rank scheme="http://stackoverflow.com">26</re:rank>
        <title type="text">Answer by ianb for Hidden features of Python</title>
        <author>
            <name>ianb</name>
            <uri>http://stackoverflow.com/users/20218</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/113319#113319" />
        <published>2008-09-22T05:33:15Z</published>   
        <updated>2008-10-10T00:10:18Z</updated>
        <summary type="html"><p>Tuple unpacking:</p>

<pre class="prettyprint"><code>>>> (a, (b, c), d) = [(1, 2), (3, 4), (5, 6)]
>>> a
(1, 2)
>>> b
3
>>> c, d
(4, (5, 6))
</code></pre>

<p>More obscurely, you can do this in function arguments (in Python 2.x; Python 3.x will not allow this anymore):</p>

<pre class="prettyprint"><code>>>> def addpoints((x1, y1), (x2, y2)):
...     return (x1+x2, y1+y2)
>>> addpoints((5, 0), (3, 5))
(8, 5)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/113472#113472</id>
        <re:rank scheme="http://stackoverflow.com">9</re:rank>
        <title type="text">Answer by Paddy3118 for Hidden features of Python</title>
        <author>
            <name>Paddy3118</name>
            <uri>http://stackoverflow.com/users/10562</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/113472#113472" />
        <published>2008-09-22T06:32:00Z</published>   
        <updated>2008-09-22T06:32:00Z</updated>
        <summary type="html"><p><a href='http://paddy3118.blogspot.com/2007/02/unzip-un-needed-in-python.html' rel='nofollow'>unzip un-needed in Python</a></p>

<p>Someone blogged about Python not having an unzip function to go with zip(). unzip is straight-forward to calculate because:</p>

<pre class="prettyprint"><code>>>> t1 = (0,1,2,3)
>>> t2 = (7,6,5,4)
>>> [t1,t2] == zip(*zip(t1,t2))
True
</code></pre>

<p>On reflection though, I&#39;d rather have an explicit unzip().</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/113833#113833</id>
        <re:rank scheme="http://stackoverflow.com">115</re:rank>
        <title type="text">Answer by dgrant for Hidden features of Python</title>
        <author>
            <name>dgrant</name>
            <uri>http://stackoverflow.com/users/9484</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/113833#113833" />
        <published>2008-09-22T08:43:11Z</published>   
        <updated>2008-09-22T08:43:11Z</updated>
        <summary type="html"><p>To add more python modules (espcially 3rd party ones), most people seem to use PYTHONPATH environment variables or they add symlinks or directories in their site-packages directories. Another way, is to use *.pth files. Here&#39;s the official python doc&#39;s explanation:</p>

<blockquote>
  <p>'The most convenient way [to modify
  python&#39;s search path] is to add a path
  configuration file to a directory
  that&#39;s already on Python&#39;s path,
  usually to the .../site-packages/
  directory. Path configuration files
  have an extension of .pth, and each
  line must contain a single path that
  will be appended to sys.path. (Because
  the new paths are appended to
  sys.path, modules in the added
  directories will not override standard
  modules. This means you can&#39;t use this
  mechanism for installing fixed
  versions of standard modules.)'</p>
</blockquote>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/114157#114157</id>
        <re:rank scheme="http://stackoverflow.com">111</re:rank>
        <title type="text">Answer by Constantin for Hidden features of Python</title>
        <author>
            <name>Constantin</name>
            <uri>http://stackoverflow.com/users/20310</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/114157#114157" />
        <published>2008-09-22T10:31:50Z</published>   
        <updated>2010-09-22T05:55:08Z</updated>
        <summary type="html"><p>Exception <strong>else</strong> clause:</p>

<pre class="prettyprint"><code>try:
  put_4000000000_volts_through_it(parrot)
except Voom:
  print '&#39;E&#39;s pining!'
else:
  print 'This parrot is no more!'
finally:
  end_sketch()
</code></pre>

<p>The use of the else clause is better than adding additional code to the try clause because it avoids accidentally catching an exception that wasn’t raised by the code being protected by the try ... except statement.</p>

<p>See <a href='http://docs.python.org/tut/node10.html' rel='nofollow'>http://docs.python.org/tut/node10.html</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/114420#114420</id>
        <re:rank scheme="http://stackoverflow.com">258</re:rank>
        <title type="text">Answer by rlerallut for Hidden features of Python</title>
        <author>
            <name>rlerallut</name>
            <uri>http://stackoverflow.com/users/20055</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/114420#114420" />
        <published>2008-09-22T11:55:40Z</published>   
        <updated>2011-04-10T21:57:34Z</updated>
        <summary type="html"><p>The for...else syntax (see <a href='http://docs.python.org/ref/for.html' rel='nofollow'>http://docs.python.org/ref/for.html</a> )</p>

<pre class="prettyprint"><code>for i in foo:
    if i == 0:
        break
else:
    print('i was never 0')
</code></pre>

<p>The 'else' block will be normally executed at the end of the for loop, unless the break is called.</p>

<p>The above code could be emulated as follows:</p>

<pre class="prettyprint"><code>found = False
for i in foo:
    if i == 0:
        found = True
        break
if not found: 
    print('i was never 0')
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116280#116280</id>
        <re:rank scheme="http://stackoverflow.com">48</re:rank>
        <title type="text">Answer by lacker for Hidden features of Python</title>
        <author>
            <name>lacker</name>
            <uri>http://stackoverflow.com/users/2652</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116280#116280" />
        <published>2008-09-22T17:32:50Z</published>   
        <updated>2008-09-22T17:32:50Z</updated>
        <summary type="html"><p>Many people don&#39;t know about the 'dir' function. It&#39;s a great way to figure out what an object can do from the interpreter. For example, if you want to see a list of all the string methods:</p>

<pre class="prettyprint"><code>>>> dir('foo')
[&#39;__add__&#39;, &#39;__class__&#39;, &#39;__contains__&#39;, (snipped a bunch), &#39;title&#39;,
 &#39;translate&#39;, &#39;upper&#39;, &#39;zfill&#39;]
</code></pre>

<p>And then if you want more information about a particular method you can call 'help' on it.</p>

<pre class="prettyprint"><code>>>> help('foo'.upper)
    Help on built-in function upper:

upper(...)
    S.upper() -> string

    Return a copy of the string S converted to uppercase.
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116391#116391</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by amix for Hidden features of Python</title>
        <author>
            <name>amix</name>
            <uri>http://stackoverflow.com/users/20081</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116391#116391" />
        <published>2008-09-22T17:54:25Z</published>   
        <updated>2011-01-09T04:37:19Z</updated>
        <summary type="html"><blockquote>
  <p>Access Dictionary elements as
  attributes (properties). so if an
  a1=AttrDict() has key &#39;name&#39; ->
  instead of a1[&#39;name&#39;] we can easily
  access name attribute of a1 using ->
  a1.name</p>
</blockquote>

<hr>

<pre class="prettyprint"><code>class AttrDict(dict):

    def __getattr__(self, name):
        if name in self:
            return self[name]
        raise AttributeError(&#39;%s not found&#39; % name)

    def __setattr__(self, name, value):
        self[name] = value

    def __delattr__(self, name):
        del self[name]

person = AttrDict({&#39;name&#39;: &#39;John Doe&#39;, &#39;age&#39;: 66})
print person[&#39;name&#39;]
print person.name

person.name = &#39;Frodo G&#39;
print person.name

del person.age

print person
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116440#116440</id>
        <re:rank scheme="http://stackoverflow.com">24</re:rank>
        <title type="text">Answer by amix for Hidden features of Python</title>
        <author>
            <name>amix</name>
            <uri>http://stackoverflow.com/users/20081</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116440#116440" />
        <published>2008-09-22T18:03:00Z</published>   
        <updated>2010-02-13T21:12:29Z</updated>
        <summary type="html"><p>Python sort function sorts tuples correctly (i.e. using the familiar lexicographical order):</p>

<pre class="prettyprint"><code>a = [(2, 'b'), (1, 'a'), (2, 'a'), (3, 'c')]
print sorted(a)
#[(1, &#39;a&#39;), (2, &#39;a&#39;), (2, &#39;b&#39;), (3, &#39;c&#39;)]
</code></pre>

<p>Useful if you want to sort a list of persons after age and then name.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116480#116480</id>
        <re:rank scheme="http://stackoverflow.com">130</re:rank>
        <title type="text">Answer by tghw for Hidden features of Python</title>
        <author>
            <name>tghw</name>
            <uri>http://stackoverflow.com/users/2363</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116480#116480" />
        <published>2008-09-22T18:08:54Z</published>   
        <updated>2008-09-22T18:08:54Z</updated>
        <summary type="html"><p><strong>Conditional Assignment</strong></p>

<pre class="prettyprint"><code>x = 3 if (y == 1) else 2
</code></pre>

<p>It does exactly what it sounds like: 'assign 3 to x if y is 1, otherwise assign 2 to x'. Note that the parens are not necessary, but I like them for readability. You can also chain it if you have something more complicated:</p>

<pre class="prettyprint"><code>x = 3 if (y == 1) else 2 if (y == -1) else 1
</code></pre>

<p>Though at a certain point, it goes a little too far.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116580#116580</id>
        <re:rank scheme="http://stackoverflow.com">58</re:rank>
        <title type="text">Answer by Tzury Bar Yochay for Hidden features of Python</title>
        <author>
            <name>Tzury Bar Yochay</name>
            <uri>http://stackoverflow.com/users/9296</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116580#116580" />
        <published>2008-09-22T18:22:29Z</published>   
        <updated>2010-07-22T18:41:13Z</updated>
        <summary type="html"><ul>
<li>The underscore, it contains the most recent output value displayed by the interpreter (in an interactive session):</li>
</ul>

<pre class="prettyprint">
>>> (a for a in xrange(10000))
<generator object at 0x81a8fcc>
>>> b = &#39;blah&#39;
>>> _
<generator object at 0x81a8fcc>
</pre>

<ul>
<li>A convenient Web-browser controller:</li>
</ul>

<pre class="prettyprint">>>> import webbrowser
>>> webbrowser.open_new_tab(&#39;http://www.stackoverflow.com&#39;)</pre>

<ul>
<li>A built-in http server. To serve the files in the current directory:</li>
</ul>

<pre class="prettyprint">python -m SimpleHTTPServer 8000</pre>

<ul>
<li>AtExit</li>
</ul>

<pre class="prettyprint">>>> import atexit</pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/116724#116724</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by tghw for Hidden features of Python</title>
        <author>
            <name>tghw</name>
            <uri>http://stackoverflow.com/users/2363</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/116724#116724" />
        <published>2008-09-22T18:48:03Z</published>   
        <updated>2008-09-22T18:48:03Z</updated>
        <summary type="html"><p><strong>__getattr__()</strong></p>

<p><code>getattr</code> is a really nice way to make generic classes, which is especially useful if you&#39;re writing an API.  For example, in the <a href='http://support.fogcreek.com/default.asp?W1048'>FogBugz Python API</a>, <code>getattr</code> is used to pass method calls on to the web service seamlessly:</p>

<pre class="prettyprint"><code>class FogBugz:
    ...

    def __getattr__(self, name):
        # Let&#39;s leave the private stuff to Python
        if name.startswith('__'):
            raise AttributeError('No such attribute &#39;%s&#39;' % name)

        if not self.__handlerCache.has_key(name):
            def handler(**kwargs):
                return self.__makerequest(name, **kwargs)
            self.__handlerCache[name] = handler
        return self.__handlerCache[name]
    ...
</code></pre>

<p>When someone calls <code>FogBugz.search(q=&#39;bug&#39;)</code>, they don&#39;t get actually call a <code>search</code> method.  Instead, <code>getattr</code> handles the call by creating a new function that wraps the <code>makerequest</code> method, which crafts the appropriate HTTP request to the web API.  Any errors will be dispatched by the web service and passed back to the user.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/117116#117116</id>
        <re:rank scheme="http://stackoverflow.com">418</re:rank>
        <title type="text">Answer by Dave for Hidden features of Python</title>
        <author>
            <name>Dave</name>
            <uri>http://stackoverflow.com/users/4072</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/117116#117116" />
        <published>2008-09-22T19:51:20Z</published>   
        <updated>2010-07-14T08:39:06Z</updated>
        <summary type="html"><p><strong>enumerate</strong></p>

<p>Wrap an iterable with enumerate and it will yield the item along with its index.</p>

<p>For example:</p>

<pre class="prettyprint"><code>
>>> a = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]
>>> for index, item in enumerate(a): print index, item
...
0 a
1 b
2 c
3 d
4 e
>>>
</code></pre>

<p>References:</p>

<ul>
<li><a href='http://docs.python.org/tutorial/datastructures.html#looping-techniques' rel='nofollow'>Python tutorial—looping techniques</a></li>
<li><a href='http://docs.python.org/library/functions.html#enumerate' rel='nofollow'>Python docs—built-in functions—<code>enumerate</code></a></li>
<li><a href='http://www.python.org/dev/peps/pep-0279/' rel='nofollow'>PEP 279</a></li>
</ul>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/118202#118202</id>
        <re:rank scheme="http://stackoverflow.com">19</re:rank>
        <title type="text">Answer by Alexander Kojevnikov for Hidden features of Python</title>
        <author>
            <name>Alexander Kojevnikov</name>
            <uri>http://stackoverflow.com/users/712</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/118202#118202" />
        <published>2008-09-22T23:22:54Z</published>   
        <updated>2009-06-27T23:06:20Z</updated>
        <summary type="html"><p><strong>Ternary operator</strong></p>

<pre class="prettyprint"><code>>>> &#39;ham&#39; if True else &#39;spam&#39;
&#39;ham&#39;
>>> &#39;ham&#39; if False else &#39;spam&#39;
&#39;spam&#39;
</code></pre>

<p>This was added in 2.5, prior to that you could use:</p>

<pre class="prettyprint"><code>>>> True and &#39;ham&#39; or &#39;spam&#39;
&#39;ham&#39;
>>> False and &#39;ham&#39; or &#39;spam&#39;
&#39;spam&#39;
</code></pre>

<p>However, if the values you want to work with would be considered false, there is a difference:</p>

<pre class="prettyprint"><code>>>> [] if True else &#39;spam&#39;
[]
>>> True and [] or &#39;spam&#39;
&#39;spam&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/118312#118312</id>
        <re:rank scheme="http://stackoverflow.com">11</re:rank>
        <title type="text">Answer by Dan for Hidden features of Python</title>
        <author>
            <name>Dan</name>
            <uri>http://stackoverflow.com/users/20789</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/118312#118312" />
        <published>2008-09-22T23:56:40Z</published>   
        <updated>2008-09-22T23:56:40Z</updated>
        <summary type="html"><p>You can build up a dictionary from a set of length-2 sequences.  Extremely handy when you have a list of values and a list of arrays.</p>

<pre class="prettyprint"><code>>>> dict([ (&#39;foo&#39;,&#39;bar&#39;),(&#39;a&#39;,1),(&#39;b&#39;,2) ])
{&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;foo&#39;: &#39;bar&#39;}

>>> names = [&#39;Bob&#39;, &#39;Marie&#39;, &#39;Alice&#39;]
>>> ages = [23, 27, 36]
>>> dict(zip(names, ages))
{&#39;Alice&#39;: 36, &#39;Bob&#39;: 23, &#39;Marie&#39;: 27}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/120074#120074</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Rafał Dowgird for Hidden features of Python</title>
        <author>
            <name>Rafał Dowgird</name>
            <uri>http://stackoverflow.com/users/12166</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/120074#120074" />
        <published>2008-09-23T09:41:41Z</published>   
        <updated>2008-09-23T09:41:41Z</updated>
        <summary type="html"><p>Tuple unpacking in for loops, list comprehensions and generator expressions:</p>

<pre class="prettyprint"><code>>>> l=[(1,2),(3,4)]
>>> [a+b for a,b in l ] 
[3,7]
</code></pre>

<p>Useful in this idiom for iterating over (key,data) pairs in dictionaries:</p>

<pre class="prettyprint"><code>d = { &#39;x&#39;:&#39;y&#39;, &#39;f&#39;:&#39;e&#39;}
for name, value in d.items():  # one can also use iteritems()
   print 'name:%s, value:%s' % (name,value)
</code></pre>

<p>prints:</p>

<pre class="prettyprint"><code>name:x, value:y
name:f, value:e
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/120247#120247</id>
        <re:rank scheme="http://stackoverflow.com">10</re:rank>
        <title type="text">Answer by csl for Hidden features of Python</title>
        <author>
            <name>csl</name>
            <uri>http://stackoverflow.com/users/21028</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/120247#120247" />
        <published>2008-09-23T10:34:35Z</published>   
        <updated>2008-09-23T10:34:35Z</updated>
        <summary type="html"><p><strong>'Unpacking' to function parameters</strong></p>

<pre class="prettyprint"><code>def foo(a, b, c):
        print a, b, c

bar = (3, 14, 15)
foo(*bar)
</code></pre>

<p>When executed prints:</p>

<pre class="prettyprint"><code>3 14 15
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/122577#122577</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Constantin for Hidden features of Python</title>
        <author>
            <name>Constantin</name>
            <uri>http://stackoverflow.com/users/20310</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/122577#122577" />
        <published>2008-09-23T17:48:20Z</published>   
        <updated>2008-09-23T17:48:20Z</updated>
        <summary type="html"><p><strong>Objects in boolean context</strong></p>

<p>Empty tuples, lists, dicts, strings and many other objects are equivalent to False in boolean context (and non-empty are equivalent to True).</p>

<pre class="prettyprint"><code>empty_tuple = ()
empty_list = []
empty_dict = {}
empty_string = &#39;&#39;
empty_set = set()
if empty_tuple or empty_list or empty_dict or empty_string or empty_set:
  print &#39;Never happens!&#39;
</code></pre>

<p>This allows logical operations to return one of it&#39;s operands instead of True/False, which is useful in some situations:</p>

<pre class="prettyprint"><code>s = t or 'Default value' # s will be assigned 'Default value'
                         # if t is false/empty/none
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/125185#125185</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Dan Udey for Hidden features of Python</title>
        <author>
            <name>Dan Udey</name>
            <uri>http://stackoverflow.com/users/21450</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/125185#125185" />
        <published>2008-09-24T03:03:20Z</published>   
        <updated>2008-09-24T03:03:20Z</updated>
        <summary type="html"><p>The first-classness of everything (&#39;everything is an object&#39;), and the mayhem this can cause.</p>

<pre class="prettyprint"><code>>>> x = 5
>>> y = 10
>>> 
>>> def sq(x):
...   return x * x
... 
>>> def plus(x):
...   return x + x
... 
>>> (sq,plus)[y>x](y)
20
</code></pre>

<p>The last line creates a tuple containing the two functions, then evaluates y>x (True) and uses that as an index to the tuple (by casting it to an int, 1), and then calls that function with parameter y and shows the result.</p>

<p>For further abuse, if you were returning an object with an index (e.g. a list) you could add further square brackets on the end; if the contents were callable, more parentheses, and so on. For extra perversion, use the result of code like this as the expression in another example (i.e. replace y>x with this code):</p>

<pre class="prettyprint"><code>(sq,plus)[y>x](y)[4](x)
</code></pre>

<p>This showcases two facets of Python - the &#39;everything is an object&#39; philosophy taken to the extreme, and the methods by which improper or poorly-conceived use of the language&#39;s syntax can lead to completely unreadable, unmaintainable spaghetti code that fits in a single expression.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/135024#135024</id>
        <re:rank scheme="http://stackoverflow.com">18</re:rank>
        <title type="text">Answer by Torsten Marek for Hidden features of Python</title>
        <author>
            <name>Torsten Marek</name>
            <uri>http://stackoverflow.com/users/9567</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/135024#135024" />
        <published>2008-09-25T18:22:24Z</published>   
        <updated>2009-06-27T23:10:19Z</updated>
        <summary type="html"><p>Assigning and deleting slices:</p>

<pre class="prettyprint"><code>>>> a = range(10)
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> a[:5] = [42]
>>> a
[42, 5, 6, 7, 8, 9]
>>> a[:1] = range(5)
>>> a
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> del a[::2]
>>> a
[1, 3, 5, 7, 9]
>>> a[::2] = a[::-2]
>>> a
[9, 3, 5, 7, 1]
</code></pre>

<p><em>Note</em>: when assigning to extended slices (<code>s[start:stop:step]</code>), the assigned iterable must have the same length as the slice.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/141900#141900</id>
        <re:rank scheme="http://stackoverflow.com">31</re:rank>
        <title type="text">Answer by Henry Precheur for Hidden features of Python</title>
        <author>
            <name>Henry Precheur</name>
            <uri>http://stackoverflow.com/users/0</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/141900#141900" />
        <published>2008-09-26T20:51:53Z</published>   
        <updated>2008-09-26T20:51:53Z</updated>
        <summary type="html"><p>dict&#39;s constructor accepts keyword arguments:</p>

<pre class="prettyprint"><code>>>> dict(foo=1, bar=2)
{&#39;foo&#39;: 1, &#39;bar&#39;: 2}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/143636#143636</id>
        <re:rank scheme="http://stackoverflow.com">480</re:rank>
        <title type="text">Answer by BatchyX for Hidden features of Python</title>
        <author>
            <name>BatchyX</name>
            <uri>http://stackoverflow.com/users/22985</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/143636#143636" />
        <published>2008-09-27T13:18:09Z</published>   
        <updated>2011-02-17T05:58:30Z</updated>
        <summary type="html"><p><b>Get the python regex parse tree to debug your regex</b></p>

<p>Regular expressions are a great feature of python, but debugging them can be a pain, and it&#39;s just too easy to get a regex wrong.</p>

<p>Fortunately, python have a really hidden feature to print the regex parse tree,
by passing the undocumented, experimental, hidden flag <code>re.DEBUG</code> (actually, 128) to <code>re.compile</code></p>

<pre class="prettyprint"><code>>>> re.compile('^\[font(?:=(?P<size>[-+][0-9]{1,2}))?\](.*?)[/font]',
    re.DEBUG)
at at_beginning
literal 91
literal 102
literal 111
literal 110
literal 116
max_repeat 0 1
  subpattern None
    literal 61
    subpattern 1
      in
        literal 45
        literal 43
      max_repeat 1 2
        in
          range (48, 57)
literal 93
subpattern 2
  min_repeat 0 65535
    any None
in
  literal 47
  literal 102
  literal 111
  literal 110
  literal 116
</code></pre>

<p>Once you understand the syntax, you can spot your errors.
There we can see that I forgot to escape the <code>[]</code> in <code>[/font]</code>.</p>

<p>Of course you can combine it with whatever flags you want, like commented regexes :</p>

<pre class="prettyprint"><code>>>> re.compile('''
 ^              # start of a line
 \[font         # the font tag
 (?:=(?P<size>  # optional [font=+size]
 [-+][0-9]{1,2} # size specification
 ))?
 \]             # end of tag
 (.*?)          # text between the tags
 \[/font\]      # end of the tag
 ''', re.DEBUG|re.VERBOSE|re.DOTALL)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/143659#143659</id>
        <re:rank scheme="http://stackoverflow.com">46</re:rank>
        <title type="text">Answer by spiv for Hidden features of Python</title>
        <author>
            <name>spiv</name>
            <uri>http://stackoverflow.com/users/22701</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/143659#143659" />
        <published>2008-09-27T13:37:41Z</published>   
        <updated>2008-09-27T13:37:41Z</updated>
        <summary type="html"><p><strong>Built-in base64, zlib, and rot13 codecs</strong></p>

<p>Strings have <code>encode</code> and <code>decode</code> methods.  Usually this is used for converting <code>str</code> to <code>unicode</code> and vice versa, e.g. with <code>u = s.encode(&#39;utf8&#39;)</code>.  But there are some other handy builtin codecs.  Compression and decompression with zlib (and bz2) is available without an explicit import:</p>

<pre class="prettyprint"><code>>>> s = &#39;a&#39; * 100
>>> s.encode(&#39;zlib&#39;)
&#39;x\x9cKL\xa4=\x00\x00zG%\xe5&#39;
</code></pre>

<p>Similarly you can encode and decode base64:</p>

<pre class="prettyprint"><code>>>> &#39;Hello world&#39;.encode(&#39;base64&#39;)
&#39;SGVsbG8gd29ybGQ=\n&#39;
>>> &#39;SGVsbG8gd29ybGQ=\n&#39;.decode(&#39;base64&#39;)
&#39;Hello world&#39;
</code></pre>

<p>And, of course, you can rot13:</p>

<pre class="prettyprint"><code>>>> &#39;Secret message&#39;.encode(&#39;rot13&#39;)
&#39;Frperg zrffntr&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/148211#148211</id>
        <re:rank scheme="http://stackoverflow.com">24</re:rank>
        <title type="text">Answer by tadeusz for Hidden features of Python</title>
        <author>
            <name>tadeusz</name>
            <uri>http://stackoverflow.com/users/7593</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/148211#148211" />
        <published>2008-09-29T10:36:12Z</published>   
        <updated>2008-09-29T10:36:12Z</updated>
        <summary type="html"><p>Obviously, the antigravity module.
<a href='http://xkcd.com/353/' rel='nofollow'>xkcd #353</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/165138#165138</id>
        <re:rank scheme="http://stackoverflow.com">20</re:rank>
        <title type="text">Answer by Robert Rossney for Hidden features of Python</title>
        <author>
            <name>Robert Rossney</name>
            <uri>http://stackoverflow.com/users/19403</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/165138#165138" />
        <published>2008-10-03T00:01:22Z</published>   
        <updated>2008-10-03T00:01:22Z</updated>
        <summary type="html"><p><strong>Generators</strong></p>

<p>I think that a lot of beginning Python developers pass over generators without really grasping what they&#39;re for or getting any sense of their power.  It wasn&#39;t until I read David M. Beazley&#39;s PyCon presentation on generators (it&#39;s available <a href='http://www.dabeaz.com/generators/' rel='nofollow'>here</a>) that I realized how useful (essential, really) they are.  That presentation illuminated what was for me an entirely new way of programming, and I recommend it to anyone who doesn&#39;t have a deep understanding of generators.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/168270#168270</id>
        <re:rank scheme="http://stackoverflow.com">96</re:rank>
        <title type="text">Answer by mjard for Hidden features of Python</title>
        <author>
            <name>mjard</name>
            <uri>http://stackoverflow.com/users/10357</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/168270#168270" />
        <published>2008-10-03T18:38:15Z</published>   
        <updated>2008-10-03T18:38:15Z</updated>
        <summary type="html"><p><strong>Interactive Interpreter Tab Completion</strong></p>

<pre class="prettyprint"><code>try:
    import readline
except ImportError:
    print 'Unable to load readline module.'
else:
    import rlcompleter
    readline.parse_and_bind('tab: complete')


>>> class myclass:
...    def function(self):
...       print 'my function'
... 
>>> class_instance = myclass()
>>> class_instance.<TAB>
class_instance.__class__   class_instance.__module__
class_instance.__doc__     class_instance.function
>>> class_instance.f<TAB>unction()
</code></pre>

<p>You will also have to set a PYTHONSTARTUP environment variable.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/171767#171767</id>
        <re:rank scheme="http://stackoverflow.com">31</re:rank>
        <title type="text">Answer by Constantin for Hidden features of Python</title>
        <author>
            <name>Constantin</name>
            <uri>http://stackoverflow.com/users/20310</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/171767#171767" />
        <published>2008-10-05T09:51:09Z</published>   
        <updated>2008-10-05T09:51:09Z</updated>
        <summary type="html"><p><strong>Python has GOTO</strong></p>

<p>...and it&#39;s implemented by <a href='http://entrian.com/goto/' rel='nofollow'>external pure-Python module</a> :)</p>

<pre class="prettyprint"><code>from goto import goto, label
for i in range(1, 10):
    for j in range(1, 20):
        for k in range(1, 30):
            print i, j, k
            if k == 3:
                goto .end # breaking out from a deeply nested loop
label .end
print 'Finished'
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/196225#196225</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by pixelbeat for Hidden features of Python</title>
        <author>
            <name>pixelbeat</name>
            <uri>http://stackoverflow.com/users/4421</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/196225#196225" />
        <published>2008-10-12T22:40:18Z</published>   
        <updated>2008-10-12T22:51:29Z</updated>
        <summary type="html"><p>Taking advantage of python&#39;s dynamic nature to have an apps
config files in python syntax. For example if you had the following
in a config file:</p>

<pre class="prettyprint"><code>{
  'name1': 'value1',
  'name2': 'value2'
}
</code></pre>

<p>Then you could trivially read it like:</p>

<pre class="prettyprint"><code>config = eval(open('filename').read())
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/196275#196275</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by ironfroggy for Hidden features of Python</title>
        <author>
            <name>ironfroggy</name>
            <uri>http://stackoverflow.com/users/19687</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/196275#196275" />
        <published>2008-10-12T23:19:49Z</published>   
        <updated>2008-10-12T23:19:49Z</updated>
        <summary type="html"><p><strong>Nested Function Parameter Re-binding</strong></p>

<pre class="prettyprint"><code>def create_printers(n):
    for i in xrange(n):
        def printer(i=i): # Doesn&#39;t work without the i=i
            print i
        yield printer
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/205889#205889</id>
        <re:rank scheme="http://stackoverflow.com">10</re:rank>
        <title type="text">Answer by Martin Beckett for Hidden features of Python</title>
        <author>
            <name>Martin Beckett</name>
            <uri>http://stackoverflow.com/users/10897</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/205889#205889" />
        <published>2008-10-15T18:37:26Z</published>   
        <updated>2008-10-15T18:37:26Z</updated>
        <summary type="html"><p>A slight misfeature of python.  The normal fast way to join a list of strings together is,</p>

<pre class="prettyprint"><code>&#39;&#39;.join(list_of_strings)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/208087#208087</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Gurch for Hidden features of Python</title>
        <author>
            <name>Gurch</name>
            <uri>http://stackoverflow.com/users/21006</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/208087#208087" />
        <published>2008-10-16T10:52:13Z</published>   
        <updated>2008-10-16T15:22:59Z</updated>
        <summary type="html"><p><a href='http://xkcd.com/353/' rel='nofollow'>import antigravity</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/210921#210921</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by zaphod for Hidden features of Python</title>
        <author>
            <name>zaphod</name>
            <uri>http://stackoverflow.com/users/13871</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/210921#210921" />
        <published>2008-10-17T02:19:19Z</published>   
        <updated>2008-10-17T02:19:19Z</updated>
        <summary type="html"><h3>Private methods and data hiding (encapsulation)</h3>

<p>There&#39;s a common idiom in Python of denoting methods and other class members that are not intended to be part of the class&#39;s external API by giving them names that start with underscores.  This is convenient and works very well in practice, but it gives the false impression that Python does not support true encapsulation of private code and/or data.  In fact, Python automatically gives you <a href='http://en.wikipedia.org/wiki/Lexical_closure' rel='nofollow'>lexical closures</a>, which make it very easy to encapsulate data in a much more bulletproof way when the situation really warrants it.  Here&#39;s a contrived example of a class that makes use of this technique:</p>

<pre class="prettyprint"><code>class MyClass(object):
  def __init__(self):

    privateData = {}

    self.publicData = 123

    def privateMethod(k):
      print privateData[k] + self.publicData

    def privilegedMethod():
      privateData[&#39;foo&#39;] = 'hello '
      privateMethod(&#39;foo&#39;)

    self.privilegedMethod = privilegedMethod

  def publicMethod(self):
    print self.publicData
</code></pre>

<p>And here&#39;s a contrived example of its use:</p>

<pre class="prettyprint"><code>>>> obj = MyClass()
>>> obj.publicMethod()
123
>>> obj.publicData = &#39;World&#39;
>>> obj.publicMethod()
World
>>> obj.privilegedMethod()
hello World
>>> obj.privateMethod()
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
AttributeError: &#39;MyClass&#39; object has no attribute &#39;privateMethod&#39;
>>> obj.privateData
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
AttributeError: &#39;MyClass&#39; object has no attribute &#39;privateData&#39;
</code></pre>

<p>The key is that <code>privateMethod</code> and <code>privateData</code> aren&#39;t really attributes of obj at all, so they can&#39;t be accessed from outside, nor do they show up in <code>dir()</code> or similar.  They&#39;re local variables in the constructor, completely inaccessible outside of <code>__init__</code>.  However, because of the magic of closures, they really are per-instance variables with the same lifetime as the object with which they&#39;re associated, even though there&#39;s no way to access them from outside except (in this example) by invoking <code>privilegedMethod</code>.  Often this sort of very strict encapsulation is overkill, but sometimes it really can be very handy for keeping an API or a namespace squeaky clean.</p>

<p>In Python 2.x, the only way to have mutable private state is with a mutable object (such as the dict in this example).  Many people have remarked on how annoying this can be.  Python 3.x will remove this restriction by introducing the <code>nonlocal</code> keyword described in <a href='http://www.python.org/dev/peps/pep-3104/' rel='nofollow'>PEP 3104</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/215326#215326</id>
        <re:rank scheme="http://stackoverflow.com">22</re:rank>
        <title type="text">Answer by Kay Schluehr for Hidden features of Python</title>
        <author>
            <name>Kay Schluehr</name>
            <uri>http://stackoverflow.com/users/0</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/215326#215326" />
        <published>2008-10-18T17:44:47Z</published>   
        <updated>2008-10-18T17:44:47Z</updated>
        <summary type="html"><p><strong>Using keyword arguments as assignments</strong></p>

<p>Sometimes one wants to build a range of functions depending on one or more parameters. However this might easily lead to closures all referring to the same object and value:</p>

<pre class="prettyprint"><code>funcs = [] 
for k in range(10):
     funcs.append( lambda: k)

>>> funcs[0]()
9
>>> funcs[7]()
9
</code></pre>

<p>This behaviour can be avoided by turning the lambda expression into a function depending only on its arguments. A keyword parameter stores the current value that is bound to it. The function call doesn&#39;t have to be altered:</p>

<pre class="prettyprint"><code>funcs = [] 
for k in range(10):
     funcs.append( lambda k = k: k)

>>> funcs[0]()
0
>>> funcs[7]()
7
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/218177#218177</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Tupteq for Hidden features of Python</title>
        <author>
            <name>Tupteq</name>
            <uri>http://stackoverflow.com/users/29564</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/218177#218177" />
        <published>2008-10-20T11:59:39Z</published>   
        <updated>2008-10-20T11:59:39Z</updated>
        <summary type="html"><p><strong>Method replacement for object instance</strong></p>

<p>You can replace methods of already created object instances. It allows you to create object instance with different (exceptional) functionality:</p>

<pre class="prettyprint"><code>>>> class C(object):
...     def fun(self):
...         print 'C.a', self
...
>>> inst = C()
>>> inst.fun()  # C.a method is executed
C.a <__main__.C object at 0x00AE74D0>
>>> instancemethod = type(C.fun)
>>>
>>> def fun2(self):
...     print 'fun2', self
...
>>> inst.fun = instancemethod(fun2, inst, C)  # Now we are replace C.a by fun2
>>> inst.fun()  # ... and fun2 is executed
fun2 <__main__.C object at 0x00AE74D0>
</code></pre>

<p>As we can <code>C.a</code> was replaced by <code>fun2()</code> in <code>inst</code> instance (<code>self</code> didn&#39;t change).</p>

<p>Alternatively we may use <code>new</code> module, but it&#39;s depreciated since Python 2.6:</p>

<pre class="prettyprint"><code>>>> def fun3(self):
...     print 'fun3', self
...
>>> import new
>>> inst.fun = new.instancemethod(fun3, inst, C)
>>> inst.fun()
fun3 <__main__.C object at 0x00AE74D0>
</code></pre>

<p><strong>Node:</strong> This solution shouldn&#39;t be used as general replacement of inheritance mechanism! But it may be very handy in some specific situations (debugging, mocking).</p>

<p><strong>Warning:</strong> This solution will not work for built-in types and for new style classes using slots.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/221874#221874</id>
        <re:rank scheme="http://stackoverflow.com">24</re:rank>
        <title type="text">Answer by Jake for Hidden features of Python</title>
        <author>
            <name>Jake</name>
            <uri>http://stackoverflow.com/users/10675</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/221874#221874" />
        <published>2008-10-21T13:26:46Z</published>   
        <updated>2008-10-21T13:26:46Z</updated>
        <summary type="html"><h3>Referencing a list comprehension as it is being built...</h3>

<p>You can reference a list comprehension as it is being built by the symbol &#39;_[1]&#39;.  For example, the following function unique-ifies a list of elements without changing their order by referencing its list comprehension.</p>

<pre class="prettyprint"><code>def unique(my_list):
    return [x for x in my_list if x not in locals()[&#39;_[1]&#39;]]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/224747#224747</id>
        <re:rank scheme="http://stackoverflow.com">46</re:rank>
        <title type="text">Answer by monkut for Hidden features of Python</title>
        <author>
            <name>monkut</name>
            <uri>http://stackoverflow.com/users/24718</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/224747#224747" />
        <published>2008-10-22T07:24:30Z</published>   
        <updated>2011-07-19T11:57:21Z</updated>
        <summary type="html"><p><a href='http://docs.python.org/library/stdtypes.html#set' rel='nofollow'><strong>set/frozenset</strong></a></p>

<p>Probably an easily overlooked python builtin is 'set/frozenset'.</p>

<p>Useful when you have a list like this, [1,2,1,1,2,3,4] and only want the uniques like this [1,2,3,4].</p>

<p>Using set() that&#39;s exactly what you get:</p>

<pre class="prettyprint"><code>>>> x = [1,2,1,1,2,3,4] 
>>> 
>>> set(x) 
set([1, 2, 3, 4]) 
>>>
>>> for i in set(x):
...     print i
...
1
2
3
4
</code></pre>

<p>And of course to get the number of uniques in a list:</p>

<pre class="prettyprint"><code>>>> len(set([1,2,1,1,2,3,4]))
4
</code></pre>

<p>You can also find if a list is a subset of another list using, suprise, set().issubset()</p>

<pre class="prettyprint"><code>>>> set([1,2,3,4]).issubset([0,1,2,3,4,5])
True
</code></pre>

<p>As of Python 2.7 and 3.0 you can use curly braces to create a set:</p>

<pre class="prettyprint"><code>myset = {1,2,3,4}
</code></pre>

<p>as well as set comprehensions:</p>

<pre class="prettyprint"><code>{x for x in stuff}
</code></pre>

<p>For more details:
<a href='http://docs.python.org/library/stdtypes.html#set' rel='nofollow'>http://docs.python.org/library/stdtypes.html#set</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/235492#235492</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Karl Anderson for Hidden features of Python</title>
        <author>
            <name>Karl Anderson</name>
            <uri>http://stackoverflow.com/users/0</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/235492#235492" />
        <published>2008-10-24T22:36:56Z</published>   
        <updated>2008-10-24T22:36:56Z</updated>
        <summary type="html"><p><strong>Functional support.</strong></p>

<p>Generators and generator expressions, specifically.</p>

<p>Ruby made this mainstream again, but Python can do it just as well.  Not as ubiquitous in the libraries as in Ruby, which is too bad, but I like the syntax better, it&#39;s simpler.</p>

<p>Because they&#39;re not as ubiquitous, I don&#39;t see as many examples out there on why they&#39;re useful, but they&#39;ve allowed me to write cleaner, more efficient code.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/261833#261833</id>
        <re:rank scheme="http://stackoverflow.com">33</re:rank>
        <title type="text">Answer by utku_karatas for Hidden features of Python</title>
        <author>
            <name>utku_karatas</name>
            <uri>http://stackoverflow.com/users/14716</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/261833#261833" />
        <published>2008-11-04T13:09:28Z</published>   
        <updated>2008-11-04T13:09:28Z</updated>
        <summary type="html"><p>While debugging complex data structures <em>pprint</em> module comes handy.</p>

<p>Quoting from the docs..</p>

<pre class="prettyprint"><code>>>> import pprint    
>>> stuff = sys.path[:]
>>> stuff.insert(0, stuff)
>>> pprint.pprint(stuff)
[<Recursion on list with id=869440>,
 &#39;&#39;,
 &#39;/usr/local/lib/python1.5&#39;,
 &#39;/usr/local/lib/python1.5/test&#39;,
 &#39;/usr/local/lib/python1.5/sunos5&#39;,
 &#39;/usr/local/lib/python1.5/sharedmodules&#39;,
 &#39;/usr/local/lib/python1.5/tkinter&#39;]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/299781#299781</id>
        <re:rank scheme="http://stackoverflow.com">39</re:rank>
        <title type="text">Answer by jamesturk for Hidden features of Python</title>
        <author>
            <name>jamesturk</name>
            <uri>http://stackoverflow.com/users/0</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/299781#299781" />
        <published>2008-11-18T19:06:36Z</published>   
        <updated>2011-01-06T16:19:28Z</updated>
        <summary type="html"><pre class="prettyprint"><code>>>> from functools import partial
>>> bound_func = partial(range, 0, 10)
>>> bound_func()
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> bound_func(2)
[0, 2, 4, 6, 8]
</code></pre>

<p>not really a hidden feature but partial is extremely useful for having late evaluation of functions.</p>

<p>you can bind as many or as few parameters in the initial call to partial as you want, and call it with any remaining parameters later (in this example i&#39;ve bound the begin/end args to range, but call it the second time with a step arg)</p>

<p>See <a href='http://www.python.org/doc//current/library/functools.html' rel='nofollow'>the documentation</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/322868#322868</id>
        <re:rank scheme="http://stackoverflow.com">-1</re:rank>
        <title type="text">Answer by M. Utku ALTINKAYA for Hidden features of Python</title>
        <author>
            <name>M. Utku ALTINKAYA</name>
            <uri>http://stackoverflow.com/users/40948</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/322868#322868" />
        <published>2008-11-27T03:24:04Z</published>   
        <updated>2008-11-27T03:24:04Z</updated>
        <summary type="html"><pre class="prettyprint"><code>is_ok() and 'Yes' or 'No'
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/326615#326615</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Steen for Hidden features of Python</title>
        <author>
            <name>Steen</name>
            <uri>http://stackoverflow.com/users/1022</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/326615#326615" />
        <published>2008-11-28T20:34:37Z</published>   
        <updated>2011-12-24T15:32:13Z</updated>
        <summary type="html"><p>...that <code>dict.get()</code> has a <a href='http://docs.python.org/library/stdtypes.html#dict.get' rel='nofollow'>default value</a> of None, thereby avoiding KeyErrors:</p>

<pre class="prettyprint"><code>In [1]: test = { 1 : &#39;a&#39; }

In [2]: test[2]
---------------------------------------------------------------------------
<type &#39;exceptions.KeyError&#39;>              Traceback (most recent call last)

&lt;ipython console&gt; in <module>()

<type &#39;exceptions.KeyError&#39;>: 2

In [3]: test.get( 2 )

In [4]: test.get( 1 )
Out[4]: &#39;a&#39;

In [5]: test.get( 2 ) == None
Out[5]: True
</code></pre>

<p>and even to specify this &#39;at the scene&#39;:</p>

<pre class="prettyprint"><code>In [6]: test.get( 2, &#39;Some&#39; ) == &#39;Some&#39;
Out[6]: True
</code></pre>

<p>And you can use <code>setdefault(</code>) to have a value set and returned if it doesn&#39;t exist:</p>

<pre class="prettyprint"><code>>>> a = {}
>>> b = a.setdefault(&#39;foo&#39;, &#39;bar&#39;)
>>> a
{&#39;foo&#39;: &#39;bar&#39;}
>>> b
&#39;bar
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/326893#326893</id>
        <re:rank scheme="http://stackoverflow.com">48</re:rank>
        <title type="text">Answer by FA. for Hidden features of Python</title>
        <author>
            <name>FA.</name>
            <uri>http://stackoverflow.com/users/33281</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/326893#326893" />
        <published>2008-11-28T23:27:59Z</published>   
        <updated>2010-05-13T03:44:39Z</updated>
        <summary type="html"><p>You can easily transpose an array with zip.</p>

<pre class="prettyprint"><code>a = [(1,2), (3,4), (5,6)]
zip(*a)
# [(1, 3, 5), (2, 4, 6)]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/373949#373949</id>
        <re:rank scheme="http://stackoverflow.com">77</re:rank>
        <title type="text">Answer by Abgan for Hidden features of Python</title>
        <author>
            <name>Abgan</name>
            <uri>http://stackoverflow.com/users/46308</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/373949#373949" />
        <published>2008-12-17T08:09:01Z</published>   
        <updated>2009-06-27T22:56:18Z</updated>
        <summary type="html"><p><strong>Negative round</strong></p>

<p>The <code>round()</code> function rounds a float number to given precision in decimal digits, but precision can be negative:</p>

<pre class="prettyprint"><code>>>> str(round(1234.5678, -2))
&#39;1200.0&#39;
>>> str(round(1234.5678, 2))
&#39;1234.57&#39;
</code></pre>

<p><em>Note:</em> <code>round()</code> always returns a float, <code>str()</code> used in the above example because floating point math is inexact, and under 2.x the second example can print as <code>1234.5700000000001</code>. Also see the <a href='http://docs.python.org/library/decimal.html#module-decimal' rel='nofollow'><code>decimal</code></a> module.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/393927#393927</id>
        <re:rank scheme="http://stackoverflow.com">41</re:rank>
        <title type="text">Answer by Alabaster Codify for Hidden features of Python</title>
        <author>
            <name>Alabaster Codify</name>
            <uri>http://stackoverflow.com/users/29903</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/393927#393927" />
        <published>2008-12-26T16:05:39Z</published>   
        <updated>2011-06-30T01:56:58Z</updated>
        <summary type="html"><p><strong>An interpreter within the interpreter</strong></p>

<p>The standard library&#39;s <a href='http://docs.python.org/library/code.html' rel='nofollow'>code</a> module let&#39;s you include your own read-eval-print loop inside a program, or run a whole nested interpreter. E.g. (copied my example from <a href='http://stackoverflow.com/questions/393871/scripting-inside-a-python-application#393921'>here</a>)</p>

<pre class="prettyprint"><code>$ python
Python 2.5.1 (r251:54863, Jan 17 2008, 19:35:17) 
[GCC 4.0.1 (Apple Inc. build 5465)] on darwin
Type 'help', 'copyright', 'credits' or 'license' for more information.
>>> shared_var = 'Set in main console'
>>> import code
>>> ic = code.InteractiveConsole({ &#39;shared_var&#39;: shared_var })
>>> try:
...     ic.interact('My custom console banner!')
... except SystemExit, e:
...     print 'Got SystemExit!'
... 
My custom console banner!
>>> shared_var
&#39;Set in main console&#39;
>>> shared_var = 'Set in sub-console'
>>> import sys
>>> sys.exit()
Got SystemExit!
>>> shared_var
&#39;Set in main console&#39;
</code></pre>

<p>This is extremely useful for situations where you want to accept scripted input from the user, or query the state of the VM in real-time.</p>

<p><a href='http://turbogears.com/' rel='nofollow'>TurboGears</a> uses this to great effect by having a WebConsole from which you can query the state of you live web app.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/405085#405085</id>
        <re:rank scheme="http://stackoverflow.com">79</re:rank>
        <title type="text">Answer by Kiv for Hidden features of Python</title>
        <author>
            <name>Kiv</name>
            <uri>http://stackoverflow.com/users/49559</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/405085#405085" />
        <published>2009-01-01T16:05:42Z</published>   
        <updated>2009-01-01T16:05:42Z</updated>
        <summary type="html"><p><strong>Operator overloading for the <code>set</code> builtin:</strong></p>

<pre class="prettyprint"><code>>>> a = set([1,2,3,4])
>>> b = set([3,4,5,6])
>>> a | b # Union
{1, 2, 3, 4, 5, 6}
>>> a & b # Intersection
{3, 4}
>>> a < b # Subset
False
>>> a - b # Difference
{1, 2}
>>> a ^ b # Symmetric Difference
{1, 2, 5, 6}
</code></pre>

<p>More detail from the standard library reference: <a href='http://docs.python.org/dev/3.0/library/stdtypes.html#set-types-set-frozenset' rel='nofollow'>Set Types</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/405094#405094</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Benjamin Peterson for Hidden features of Python</title>
        <author>
            <name>Benjamin Peterson</name>
            <uri>http://stackoverflow.com/users/33795</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/405094#405094" />
        <published>2009-01-01T16:14:19Z</published>   
        <updated>2009-01-01T16:14:19Z</updated>
        <summary type="html"><p>You can override the mro of a class with a metaclass</p>

<pre class="prettyprint"><code>>>> class A(object):
...     def a_method(self):
...         print('A')
... 
>>> class B(object):
...     def b_method(self):
...         print('B')
... 
>>> class MROMagicMeta(type):
...     def mro(cls):
...         return (cls, B, object)
... 
>>> class C(A, metaclass=MROMagicMeta):
...     def c_method(self):
...         print('C')
... 
>>> cls = C()
>>> cls.c_method()
C
>>> cls.a_method()
Traceback (most recent call last):
 File '<stdin>', line 1, in <module>
AttributeError: &#39;C&#39; object has no attribute &#39;a_method&#39;
>>> cls.b_method()
B
>>> type(cls).__bases__
(<class &#39;__main__.A&#39;>,)
>>> type(cls).__mro__
(<class &#39;__main__.C&#39;>, <class &#39;__main__.B&#39;>, <class &#39;object&#39;>)
</code></pre>

<p>It&#39;s probably hidden for a good reason. :)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/407695#407695</id>
        <re:rank scheme="http://stackoverflow.com">9</re:rank>
        <title type="text">Answer by Christian Oudard for Hidden features of Python</title>
        <author>
            <name>Christian Oudard</name>
            <uri>http://stackoverflow.com/users/3757</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/407695#407695" />
        <published>2009-01-02T18:48:52Z</published>   
        <updated>2009-01-02T18:48:52Z</updated>
        <summary type="html"><p>The <code>reversed()</code> builtin. It makes iterating much cleaner in many cases.</p>

<p>quick example:</p>

<pre class="prettyprint"><code>for i in reversed([1, 2, 3]):
    print(i)
</code></pre>

<p>produces:</p>

<pre class="prettyprint"><code>3
2
1
</code></pre>

<p>However, <code>reversed()</code> also works with arbitrary iterators, such as lines in a file, or generator expressions.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/407754#407754</id>
        <re:rank scheme="http://stackoverflow.com">10</re:rank>
        <title type="text">Answer by sprintf for Hidden features of Python</title>
        <author>
            <name>sprintf</name>
            <uri>http://stackoverflow.com/users/50712</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/407754#407754" />
        <published>2009-01-02T19:10:54Z</published>   
        <updated>2009-01-02T19:10:54Z</updated>
        <summary type="html"><p><strong>The Zen of Python</strong></p>

<pre class="prettyprint"><code>>>> import this
The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren&#39;t special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you&#39;re Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it&#39;s a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let&#39;s do more of those!
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/435187#435187</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by Tom Viner for Hidden features of Python</title>
        <author>
            <name>Tom Viner</name>
            <uri>http://stackoverflow.com/users/15890</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/435187#435187" />
        <published>2009-01-12T11:38:56Z</published>   
        <updated>2009-01-12T16:01:13Z</updated>
        <summary type="html"><p><strong>pdb — The Python Debugger</strong></p>

<p>As a programmer, one of the first things that you need for serious program development is a debugger. Python has one built-in which is available as a module called pdb (for 'Python DeBugger', naturally!).</p>

<p><a href='http://docs.python.org/library/pdb.html' rel='nofollow'>http://docs.python.org/library/pdb.html</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/585473#585473</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Mykola Kharechko for Hidden features of Python</title>
        <author>
            <name>Mykola Kharechko</name>
            <uri>http://stackoverflow.com/users/69885</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/585473#585473" />
        <published>2009-02-25T10:29:19Z</published>   
        <updated>2009-02-25T11:00:49Z</updated>
        <summary type="html"><p>Objects of small intgers (-5 .. 256) never created twice:</p>

<pre class="prettyprint">
<code>
>>> a1 = -5; b1 = 256
>>> a2 = -5; b2 = 256
>>> id(a1) == id(a2), id(b1) == id(b2)
(True, True)
>>>
>>> c1 = -6; d1 = 257
>>> c2 = -6; d2 = 257
>>> id(c1) == id(c2), id(d1) == id(d2)
(False, False)
>>>
</code>
</pre>

<p>Edit:
List objects never destroyed (only objects in lists). Python has array in which it keeps up to 80 empty lists. When you destroy list object - python puts it to that array and when you create new list - python gets last puted list from this array:</p>

<pre class="prettyprint">
<code>
>>> a = [1,2,3]; a_id = id(a)
>>> b = [1,2,3]; b_id = id(b)
>>> del a; del b
>>> c = [1,2,3]; id(c) == b_id
True
>>> d = [1,2,3]; id(d) == a_id
True
>>>
</code>
</pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/603391#603391</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by Lakshman Prasad for Hidden features of Python</title>
        <author>
            <name>Lakshman Prasad</name>
            <uri>http://stackoverflow.com/users/55562</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/603391#603391" />
        <published>2009-03-02T18:16:53Z</published>   
        <updated>2009-03-02T18:23:52Z</updated>
        <summary type="html"><p>Creating dictionary of two sequences that have related data</p>

<pre class="prettyprint"><code>In [15]: t1 = (1, 2, 3)

In [16]: t2 = (4, 5, 6)

In [17]: dict (zip(t1,t2))
Out[17]: {1: 4, 2: 5, 3: 6}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/603408#603408</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Lakshman Prasad for Hidden features of Python</title>
        <author>
            <name>Lakshman Prasad</name>
            <uri>http://stackoverflow.com/users/55562</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/603408#603408" />
        <published>2009-03-02T18:23:19Z</published>   
        <updated>2009-07-06T18:29:40Z</updated>
        <summary type="html"><p>Simulating the tertiary operator using and and or.</p>

<p>and and or operators in python return the objects themselves rather than Booleans. Thus:</p>

<pre class="prettyprint"><code>In [18]: a = True

In [19]: a and 3 or 4
Out[19]: 3

In [20]: a = False

In [21]: a and 3 or 4
Out[21]: 4
</code></pre>

<p>However, Py 2.5 seems to have added an explicit tertiary operator</p>

<pre class="prettyprint"><code>    In [22]: a = 5 if True else &#39;6&#39;

    In [23]: a
    Out[23]: 5
</code></pre>

<p>Well, this works if you are sure that your true clause does not evaluate to False.  example:</p>

<pre class="prettyprint"><code>>>> def foo(): 
...     print 'foo'
...     return 0
...
>>> def bar(): 
...     print 'bar'
...     return 1
...
>>> 1 and foo() or bar()
foo
bar
1
</code></pre>

<p>To get it right, you&#39;ve got to just a little bit more: </p>

<pre class="prettyprint"><code>>>> (1 and [foo()] or [bar()])[0]
foo
0
</code></pre>

<p>However, this isn&#39;t as pretty.  if your version of python supports it, use the conditional operator.</p>

<pre class="prettyprint"><code>>>> foo() if True or bar()
foo
0
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/632582#632582</id>
        <re:rank scheme="http://stackoverflow.com">7</re:rank>
        <title type="text">Answer by Pratik Deoghare for Hidden features of Python</title>
        <author>
            <name>Pratik Deoghare</name>
            <uri>http://stackoverflow.com/users/58737</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/632582#632582" />
        <published>2009-03-10T22:47:20Z</published>   
        <updated>2009-03-10T22:47:20Z</updated>
        <summary type="html"><p><a href='http://docs.python.org/library/inspect.html?highlight=inspect#retrieving-source-code' rel='nofollow' rel='nofollow'>inspect</a> module is also a cool feature.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/652687#652687</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by J.F. Sebastian for Hidden features of Python</title>
        <author>
            <name>J.F. Sebastian</name>
            <uri>http://stackoverflow.com/users/4279</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/652687#652687" />
        <published>2009-03-17T00:56:53Z</published>   
        <updated>2009-03-17T01:03:17Z</updated>
        <summary type="html"><h3>The <code>spam</code> module in standard Python</h3>

<p>It is used for testing purposes. </p>

<p>I&#39;ve picked it from <a href='http://starship.python.net/crew/theller/ctypes/tutorial.html' rel='nofollow'><code>ctypes</code> tutorial</a>. Try it yourself:</p>

<pre class="prettyprint"><code>>>> import __hello__
Hello world...
>>> type(__hello__)
<type &#39;module&#39;>
>>> from __phello__ import spam
Hello world...
Hello world...
>>> type(spam)
<type &#39;module&#39;>
>>> help(spam)
Help on module __phello__.spam in __phello__:

NAME
    __phello__.spam

FILE
    c:\python26\<frozen>
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/781998#781998</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by Mike for Hidden features of Python</title>
        <author>
            <name>Mike</name>
            <uri>http://stackoverflow.com/users/0</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/781998#781998" />
        <published>2009-04-23T14:26:17Z</published>   
        <updated>2009-04-23T14:26:17Z</updated>
        <summary type="html"><p><strong>Memory Management</strong></p>

<p>Python dynamically allocates memory and uses garbage collection to recover unused space. Once an object is out of scope, and no other variables reference it, it will be recovered. I do not have to worry about buffer overruns and slowly growing server processes. Memory management is also a feature of other dynamic languages but Python just does it so well.</p>

<p>Of course, we must watch out for circular references and keeping references to objects which are no longer needed, but weak references help a lot here.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/804238#804238</id>
        <re:rank scheme="http://stackoverflow.com">69</re:rank>
        <title type="text">Answer by Scott Kirkwood for Hidden features of Python</title>
        <author>
            <name>Scott Kirkwood</name>
            <uri>http://stackoverflow.com/users/95818</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/804238#804238" />
        <published>2009-04-29T20:56:59Z</published>   
        <updated>2010-01-13T22:04:46Z</updated>
        <summary type="html"><h1>re can call functions!</h1>

<p>The fact that you can call a function every time something matches a regular expression is very handy.
Here I have a sample of replacing every 'Hello' with 'Hi,' and 'there' with 'Fred', etc.</p>

<pre class="prettyprint"><code>import re

def Main(haystack):
  # List of from replacements, can be a regex
  finds = (&#39;Hello&#39;, &#39;there&#39;, &#39;Bob&#39;)
  replaces = (&#39;Hi,&#39;, &#39;Fred,&#39;, &#39;how are you?&#39;)

  def ReplaceFunction(matchobj):
    for found, rep in zip(matchobj.groups(), replaces):
      if found != None:
        return rep

    # log error
    return matchobj.group(0)

  named_groups = [ &#39;(%s)&#39; % find for find in finds ]
  ret = re.sub(&#39;|&#39;.join(named_groups), ReplaceFunction, haystack)
  print ret

if __name__ == &#39;__main__&#39;:
  str = &#39;Hello there Bob&#39;
  Main(str)
  # Prints &#39;Hi, Fred, how are you?&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/938602#938602</id>
        <re:rank scheme="http://stackoverflow.com">21</re:rank>
        <title type="text">Answer by Tom for Hidden features of Python</title>
        <author>
            <name>Tom</name>
            <uri>http://stackoverflow.com/users/115846</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/938602#938602" />
        <published>2009-06-02T09:12:21Z</published>   
        <updated>2011-11-29T10:28:27Z</updated>
        <summary type="html"><p>I personally love the <strong>3 different quotes</strong></p>

<pre class="prettyprint"><code>str = 'I&#39;m a string &#39;but still I can use quotes&#39; inside myself!'
str = ''' For some messy multi line strings.
Such as
<html>
<head> ... </head>'''
</code></pre>

<p>Also cool: not having to escape regular expressions, avoiding horrible backslash salad by using <strong>raw strings</strong>:</p>

<pre class="prettyprint"><code>str2 = r'\n' 
print str2
>> \n
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/967971#967971</id>
        <re:rank scheme="http://stackoverflow.com">11</re:rank>
        <title type="text">Answer by Ken Arnold for Hidden features of Python</title>
        <author>
            <name>Ken Arnold</name>
            <uri>http://stackoverflow.com/users/69707</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/967971#967971" />
        <published>2009-06-09T03:14:25Z</published>   
        <updated>2009-06-09T03:14:25Z</updated>
        <summary type="html"><p>One word: <a href='http://ipython.scipy.org/moin/' rel='nofollow'>IPython</a></p>

<p>Tab introspection, pretty-printing, <code>%debug</code>, history management, <code>pylab</code>, ... well worth the time to learn well.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/967998#967998</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Ken Arnold for Hidden features of Python</title>
        <author>
            <name>Ken Arnold</name>
            <uri>http://stackoverflow.com/users/69707</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/967998#967998" />
        <published>2009-06-09T03:27:08Z</published>   
        <updated>2009-06-09T03:27:08Z</updated>
        <summary type="html"><p>Reloading modules enables a 'live-coding' style. But class instances don&#39;t update. Here&#39;s why, and how to get around it. Remember, everything, yes, <em>everything</em> is an object.</p>

<pre class="prettyprint"><code>>>> from a_package import a_module
>>> cls = a_module.SomeClass
>>> obj = cls()
>>> obj.method()
(old method output)
</code></pre>

<p>Now you change the method in a_module.py and want to update your object.</p>

<pre class="prettyprint"><code>>>> reload(a_module)
>>> a_module.SomeClass is cls
False # Because it just got freshly created by reload.
>>> obj.method()
(old method output)
</code></pre>

<p>Here&#39;s one way to update it (but consider it running with scissors):</p>

<pre class="prettyprint"><code>>>> obj.__class__ is cls
True # it&#39;s the old class object
>>> obj.__class__ = a_module.SomeClass # pick up the new class
>>> obj.method()
(new method output)
</code></pre>

<p>This is 'running with scissors' because the object&#39;s internal state may be different than what the new class expects. This works for really simple cases, but beyond that, <code>pickle</code> is your friend. It&#39;s still helpful to understand why this works, though.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1013448#1013448</id>
        <re:rank scheme="http://stackoverflow.com">19</re:rank>
        <title type="text">Answer by Markus for Hidden features of Python</title>
        <author>
            <name>Markus</name>
            <uri>http://stackoverflow.com/users/125185</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1013448#1013448" />
        <published>2009-06-18T15:40:54Z</published>   
        <updated>2009-06-18T15:40:54Z</updated>
        <summary type="html"><p>Not very hidden, but functions have attributes:</p>

<pre class="prettyprint"><code>def doNothing():
    pass

doNothing.monkeys = 4
print doNothing.monkeys
4
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1013470#1013470</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Markus for Hidden features of Python</title>
        <author>
            <name>Markus</name>
            <uri>http://stackoverflow.com/users/125185</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1013470#1013470" />
        <published>2009-06-18T15:45:23Z</published>   
        <updated>2009-06-18T15:45:23Z</updated>
        <summary type="html"><p>You can decorate functions with classes - replacing the function with a class instance:</p>

<pre class="prettyprint"><code>class countCalls(object):
    ''' decorator replaces a function with a 'countCalls' instance
    which behaves like the original function, but keeps track of calls

    >>> @countCalls
    ... def doNothing():
    ...     pass
    >>> doNothing()
    >>> doNothing()
    >>> print doNothing.timesCalled
    2
    '''
    def __init__ (self, functionToTrack):
        self.functionToTrack = functionToTrack
        self.timesCalled = 0
    def __call__ (self, *args, **kwargs):
        self.timesCalled += 1
        return self.functionToTrack(*args, **kwargs)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1013517#1013517</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Markus for Hidden features of Python</title>
        <author>
            <name>Markus</name>
            <uri>http://stackoverflow.com/users/125185</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1013517#1013517" />
        <published>2009-06-18T15:54:00Z</published>   
        <updated>2009-06-18T15:54:00Z</updated>
        <summary type="html"><p>With a minute amount of work, the threading module becomes amazingly easy to use. This decorator changes a function so that it runs in its own thread, returning a placeholder class instance instead of its regular result. You can probe for the answer by checking placeolder.result or wait for it by calling placeholder.awaitResult()</p>

<pre class="prettyprint"><code>def threadify(function):
    '''
    exceptionally simple threading decorator. Just:
    >>> @threadify
    ... def longOperation(result):
    ...     time.sleep(3)
    ...     return result
    >>> A= longOperation('A has finished')
    >>> B= longOperation('B has finished')

    A doesn&#39;t have a result yet:
    >>> print A.result
    None

    until we wait for it:
    >>> print A.awaitResult()
    A has finished

    we could also wait manually - half a second more should be enough for B:
    >>> time.sleep(0.5); print B.result
    B has finished
    '''
    class thr (threading.Thread,object):
        def __init__(self, *args, **kwargs):
            threading.Thread.__init__ ( self )  
            self.args, self.kwargs = args, kwargs
            self.result = None
            self.start()
        def awaitResult(self):
            self.join()
            return self.result        
        def run(self):
            self.result=function(*self.args, **self.kwargs)
    return thr
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1024693#1024693</id>
        <re:rank scheme="http://stackoverflow.com">185</re:rank>
        <title type="text">Answer by Andr&#233; for Hidden features of Python</title>
        <author>
            <name>Andr&#233;</name>
            <uri>http://stackoverflow.com/users/9683</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1024693#1024693" />
        <published>2009-06-21T20:32:22Z</published>   
        <updated>2009-06-21T20:35:44Z</updated>
        <summary type="html"><p>ROT13 is a valid encoding for source code, when you use the right coding declaration at the top of the code file:</p>

<pre class="prettyprint"><code>#!/usr/bin/env python
# -*- coding: rot13 -*-

cevag 'Uryyb fgnpxbiresybj!'.rapbqr('rot13')
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1088213#1088213</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Steven Sproat for Hidden features of Python</title>
        <author>
            <name>Steven Sproat</name>
            <uri>http://stackoverflow.com/users/108560</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1088213#1088213" />
        <published>2009-07-06T17:28:20Z</published>   
        <updated>2009-07-06T17:28:20Z</updated>
        <summary type="html"><p>If you&#39;ve renamed a class in your application where you&#39;re loading user-saved files via Pickle, and one of the renamed classes are stored in a user&#39;s old save, you will not be able to load in that pickled file.</p>

<p>However, simply add in a reference to your class definition and everything&#39;s good:</p>

<p>e.g., before:</p>

<pre class="prettyprint"><code>class Bleh:
    pass
</code></pre>

<p>now, </p>

<pre class="prettyprint"><code>class Blah:
    pass
</code></pre>

<p>so, your user&#39;s pickled saved file contains a reference to Bleh, which doesn&#39;t exist due to the rename. The fix?</p>

<pre class="prettyprint"><code>Bleh = Blah
</code></pre>

<p>simple!</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1338523#1338523</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Greg for Hidden features of Python</title>
        <author>
            <name>Greg</name>
            <uri>http://stackoverflow.com/users/105101</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1338523#1338523" />
        <published>2009-08-27T02:14:14Z</published>   
        <updated>2009-10-15T00:14:03Z</updated>
        <summary type="html"><p>The fact that EVERYTHING is an object, and as such is extensible.  I can add member variables as metadata to a function that I define:</p>

<pre class="prettyprint"><code>>>> def addInts(x,y): 
...    return x + y
>>> addInts.params = [&#39;integer&#39;,&#39;integer&#39;]
>>> addInts.returnType = &#39;integer&#39;
</code></pre>

<p>This can be very useful for writing dynamic unit tests, e.g.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1399564#1399564</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by Busted Keaton for Hidden features of Python</title>
        <author>
            <name>Busted Keaton</name>
            <uri>http://stackoverflow.com/users/164711</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1399564#1399564" />
        <published>2009-09-09T13:01:23Z</published>   
        <updated>2009-09-09T13:01:23Z</updated>
        <summary type="html"><p>The getattr built-in function :</p>

<pre class="prettyprint"><code>>>> class C():
    def getMontys(self):
    	self.montys = [&#39;Cleese&#39;,&#39;Palin&#39;,&#39;Idle&#39;,&#39;Gilliam&#39;,&#39;Jones&#39;,&#39;Chapman&#39;]
    	return self.montys


>>> c = C()
>>> getattr(c,&#39;getMontys&#39;)()
[&#39;Cleese&#39;, &#39;Palin&#39;, &#39;Idle&#39;, &#39;Gilliam&#39;, &#39;Jones&#39;, &#39;Chapman&#39;]
>>>
</code></pre>

<p>Useful if you want to dispatch function depending on the context. See examples in Dive Into Python (<a href='http://diveintopython.org/power%5Fof%5Fintrospection/getattr.html' rel='nofollow'>Here</a>)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1592819#1592819</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Cixate for Hidden features of Python</title>
        <author>
            <name>Cixate</name>
            <uri>http://stackoverflow.com/users/185316</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1592819#1592819" />
        <published>2009-10-20T06:35:25Z</published>   
        <updated>2009-10-20T06:35:25Z</updated>
        <summary type="html"><p>Simple way to test if a key is in a dict:</p>

<pre class="prettyprint"><code>>>> &#39;key&#39; in { &#39;key&#39; : 1 }
True

>>> d = dict(key=1, key2=2)
>>> if &#39;key&#39; in d:
...     print &#39;Yup&#39;
... 
Yup
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1602751#1602751</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by pst for Hidden features of Python</title>
        <author>
            <name>pst</name>
            <uri>http://stackoverflow.com/users/166390</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1602751#1602751" />
        <published>2009-10-21T18:39:29Z</published>   
        <updated>2009-10-21T18:59:49Z</updated>
        <summary type="html"><p><strong>Classes as first-class objects (shown through a dynamic class definition)</strong></p>

<p>Note the use of the closure as well. If this particular example looks like a 'right' approach to a problem, carefully reconsider ... several times :)</p>

<pre class="prettyprint"><code>def makeMeANewClass(parent, value):
  class IAmAnObjectToo(parent):
    def theValue(self):
      return value
  return IAmAnObjectToo

Klass = makeMeANewClass(str, 'fred')
o = Klass()
print isinstance(o, str)  # => True
print o.theValue()        # => fred
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1602786#1602786</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by pst for Hidden features of Python</title>
        <author>
            <name>pst</name>
            <uri>http://stackoverflow.com/users/166390</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1602786#1602786" />
        <published>2009-10-21T18:44:16Z</published>   
        <updated>2009-10-21T18:44:16Z</updated>
        <summary type="html"><p><strong><em>Exposing Mutable Buffers</em></strong></p>

<p>Using the Python <a href='http://docs.python.org/c-api/buffer.html'>Buffer Protocol</a> to <em>expose mutable byte-oriented buffers</em> in Python (2.5/2.6).</p>

<p>(Sorry, no code here. Requires use of low-level C API or existing adapter module).</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1631763#1631763</id>
        <re:rank scheme="http://stackoverflow.com">11</re:rank>
        <title type="text">Answer by Denis Otkidach for Hidden features of Python</title>
        <author>
            <name>Denis Otkidach</name>
            <uri>http://stackoverflow.com/users/168352</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1631763#1631763" />
        <published>2009-10-27T15:49:21Z</published>   
        <updated>2009-10-27T15:49:21Z</updated>
        <summary type="html"><h2>Extending properties (defined as descriptor) in subclasses</h2>

<p>Sometimes it&#39;s useful to extent (modify) value 'returned' by descriptor in subclass. It can be easily done with <code>super()</code>:</p>

<pre class="prettyprint"><code>class A(object):
    @property
    def prop(self):
        return {&#39;a&#39;: 1}

class B(A):
    @property
    def prop(self):
        return dict(super(B, self).prop, b=2)
</code></pre>

<p>Store this in <code>test.py</code> and run <code>python -i test.py</code> (<strong>another hidden feature: <code>-i</code> option executed the script and allow you to continue in interactive mode</strong>):</p>

<pre class="prettyprint"><code>>>> B().prop
{&#39;a&#39;: 1, &#39;b&#39;: 2}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1667256#1667256</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Amol for Hidden features of Python</title>
        <author>
            <name>Amol</name>
            <uri>http://stackoverflow.com/users/91966</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1667256#1667256" />
        <published>2009-11-03T13:10:07Z</published>   
        <updated>2009-11-06T14:47:37Z</updated>
        <summary type="html"><p>The pythonic idiom <code>x = ... if ... else ...</code> is far superior to <code>x = ... and ... or ...</code> and here is why:</p>

<p>Although the statement </p>

<pre class="prettyprint"><code>x = 3 if (y == 1) else 2
</code></pre>

<p>Is equivalent to</p>

<pre class="prettyprint"><code>x = y == 1 and 3 or 2
</code></pre>

<p>if you use the <code>x = ... and ... or ...</code> idiom, some day you may get bitten by this tricky situation:</p>

<pre class="prettyprint"><code>x = 0 if True else 1    # sets x equal to 0
</code></pre>

<p>and therefore is not equivalent to </p>

<pre class="prettyprint"><code>x = True and 0 or 1   # sets x equal to 1
</code></pre>

<p>For more on the proper way to do this,
see <a href='http://stackoverflow.com/questions/101268/hidden-features-of-python/116480#116480'>http://stackoverflow.com/questions/101268/hidden-features-of-python/116480#116480</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1687543#1687543</id>
        <re:rank scheme="http://stackoverflow.com">13</re:rank>
        <title type="text">Answer by kaizer.se for Hidden features of Python</title>
        <author>
            <name>kaizer.se</name>
            <uri>http://stackoverflow.com/users/137317</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1687543#1687543" />
        <published>2009-11-06T13:18:00Z</published>   
        <updated>2009-11-06T13:18:00Z</updated>
        <summary type="html"><p>Python <a href='http://bugs.python.org/issue6595' rel='nofollow'>can understand any kind of unicode digits</a>, not just the ASCII kind:</p>

<pre class="prettyprint"><code>>>> s = u&#39;１０５８５&#39;
>>> s
u&#39;\uff11\uff10\uff15\uff18\uff15&#39;
>>> print s
１０５８５
>>> int(s)
10585
>>> float(s)
10585.0
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1734183#1734183</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by eryksun for Hidden features of Python</title>
        <author>
            <name>eryksun</name>
            <uri>http://stackoverflow.com/users/205580</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1734183#1734183" />
        <published>2009-11-14T13:05:23Z</published>   
        <updated>2009-11-14T13:05:23Z</updated>
        <summary type="html"><p>Regarding Nick Johnson&#39;s implementation of a <a href='http://stackoverflow.com/questions/101268/hidden-features-of-python/102062#102062'>Property class</a> (just a demonstration of descriptors, of course, not a replacement for the built-in), I&#39;d include a setter that raises an AttributeError:</p>

<pre class="prettyprint">
class Property(object):
    def __init__(self, fget):
        self.fget = fget

    def __get__(self, obj, type):
        if obj is None:
            return self
        return self.fget(obj)

    def __set__(self, obj, value):
       raise AttributeError, &#39;Read-only attribute&#39;
</pre>

<p>Including the setter makes this a data descriptor as opposed to a method/non-data descriptor. A data descriptor has precedence over instance dictionaries. Now an instance can&#39;t have a different object assigned to the property name, and attempts to assign to the property will raise an attribute error.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1823597#1823597</id>
        <re:rank scheme="http://stackoverflow.com">23</re:rank>
        <title type="text">Answer by Noctis Skytower for Hidden features of Python</title>
        <author>
            <name>Noctis Skytower</name>
            <uri>http://stackoverflow.com/users/216356</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1823597#1823597" />
        <published>2009-12-01T02:09:50Z</published>   
        <updated>2010-06-27T16:58:34Z</updated>
        <summary type="html"><p>The unpacking syntax has been upgraded in the recent version as can be seen in the example.</p>

<pre class="prettyprint"><code>>>> a, *b = range(5)
>>> a, b
(0, [1, 2, 3, 4])
>>> *a, b = range(5)
>>> a, b
([0, 1, 2, 3], 4)
>>> a, *b, c = range(5)
>>> a, b, c
(0, [1, 2, 3], 4)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1837623#1837623</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by grayger for Hidden features of Python</title>
        <author>
            <name>grayger</name>
            <uri>http://stackoverflow.com/users/433078</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1837623#1837623" />
        <published>2009-12-03T04:23:14Z</published>   
        <updated>2009-12-05T21:16:37Z</updated>
        <summary type="html"><p><strong>Manipulating Recursion Limit</strong></p>

<p>Getting or setting the maximum depth of recursion with sys.getrecursionlimit() & sys.setrecursionlimit().</p>

<p>We can limit it to prevent a stack overflow caused by infinite recursion.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1853593#1853593</id>
        <re:rank scheme="http://stackoverflow.com">73</re:rank>
        <title type="text">Answer by darkporter for Hidden features of Python</title>
        <author>
            <name>darkporter</name>
            <uri>http://stackoverflow.com/users/205934</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1853593#1853593" />
        <published>2009-12-05T21:50:27Z</published>   
        <updated>2009-12-05T21:50:27Z</updated>
        <summary type="html"><p><strong>Multiplying by a boolean</strong></p>

<p>One thing I&#39;m constantly doing in web development is optionally printing HTML parameters. We&#39;ve all seen code like this in other languages:</p>

<pre class="prettyprint"><code>class=&#39;<% isSelected ? 'selected' : '' %>&#39;
</code></pre>

<p>In Python, you can multiply by a boolean and it does exactly what you&#39;d expect:</p>

<pre class="prettyprint"><code>class=&#39;<% 'selected' * isSelected %>&#39;
</code></pre>

<p>This is because multiplication coerces the boolean to an integer (0 for False, 1 for True), and in python multiplying a string by an int <em>repeats</em> the string N times.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1853633#1853633</id>
        <re:rank scheme="http://stackoverflow.com">18</re:rank>
        <title type="text">Answer by darkporter for Hidden features of Python</title>
        <author>
            <name>darkporter</name>
            <uri>http://stackoverflow.com/users/205934</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1853633#1853633" />
        <published>2009-12-05T22:10:16Z</published>   
        <updated>2009-12-05T22:10:16Z</updated>
        <summary type="html"><p><strong>Mod works correctly with negative numbers</strong></p>

<p>-1 % 5 is <strong><em>4</em></strong>, as it should be, not -1 as it is in other languages like JavaScript. This makes 'wraparound windows' cleaner in Python, you just do this:</p>

<pre class="prettyprint"><code>index = (index + increment) % WINDOW_SIZE
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1958325#1958325</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by Martin Thurau for Hidden features of Python</title>
        <author>
            <name>Martin Thurau</name>
            <uri>http://stackoverflow.com/users/20247</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1958325#1958325" />
        <published>2009-12-24T13:30:18Z</published>   
        <updated>2009-12-24T13:30:18Z</updated>
        <summary type="html"><p>You can construct a functions kwargs on demand:</p>

<pre class="prettyprint"><code>kwargs = {}
kwargs[str('%s__icontains' % field)] = some_value
some_function(**kwargs)
</code></pre>

<p>The str() call is somehow needed, since python complains otherwise that it is no string. Don&#39;t know why ;)
I use this for a dynamic filters within Djangos object model:</p>

<pre class="prettyprint"><code>result = model_class.objects.filter(**kwargs)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1983078#1983078</id>
        <re:rank scheme="http://stackoverflow.com">12</re:rank>
        <title type="text">Answer by Xavier Martinez-Hidalgo for Hidden features of Python</title>
        <author>
            <name>Xavier Martinez-Hidalgo</name>
            <uri>http://stackoverflow.com/users/25996</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1983078#1983078" />
        <published>2009-12-30T23:29:34Z</published>   
        <updated>2009-12-30T23:29:34Z</updated>
        <summary type="html"><p><strong>Guessing integer base</strong></p>

<pre class="prettyprint"><code>>>> int(&#39;10&#39;, 0)
10
>>> int(&#39;0x10&#39;, 0)
16
>>> int(&#39;010&#39;, 0)  # does not work on Python 3.x
8
>>> int(&#39;0o10&#39;, 0)  # Python >=2.6 and Python 3.x
8
>>> int(&#39;0b10&#39;, 0)  # Python >=2.6 and Python 3.x
2
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/1983095#1983095</id>
        <re:rank scheme="http://stackoverflow.com">14</re:rank>
        <title type="text">Answer by Xavier Martinez-Hidalgo for Hidden features of Python</title>
        <author>
            <name>Xavier Martinez-Hidalgo</name>
            <uri>http://stackoverflow.com/users/25996</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/1983095#1983095" />
        <published>2009-12-30T23:35:24Z</published>   
        <updated>2009-12-30T23:35:24Z</updated>
        <summary type="html"><p><strong>itertools</strong></p>

<p>This module is often overlooked.  The following example uses <code>itertools.chain()</code>
to flatten a list:</p>

<pre class="prettyprint"><code>>>> from itertools import *
>>> l = [[1, 2], [3, 4]]
>>> list(chain(*l))
[1, 2, 3, 4]
</code></pre>

<p>See <a href='http://docs.python.org/library/itertools.html#recipes' rel='nofollow'>http://docs.python.org/library/itertools.html#recipes</a> for more applications.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2060871#2060871</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Chinmay Kanchi for Hidden features of Python</title>
        <author>
            <name>Chinmay Kanchi</name>
            <uri>http://stackoverflow.com/users/148765</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2060871#2060871" />
        <published>2010-01-13T22:46:27Z</published>   
        <updated>2010-01-13T22:46:27Z</updated>
        <summary type="html"><p><strong>Monkeypatching objects</strong></p>

<p>Every class in Python has a <code>__dict__</code> object which stores the class&#39;s attributes. So, you can do something like this:</p>

<pre class="prettyprint"><code>class Foo(object):
    def __init__(self, arg1, arg2, **kwargs):
        #do stuff with arg1 and arg2
        self.__dict__.update(kwargs)

f = Foo(&#39;arg1&#39;, &#39;arg2&#39;, bar=20, baz=10)
#now f is a Foo object with two extra attributes
</code></pre>

<p>This can be exploited to add both attributes and functions arbitrarily to objects. This can also be exploited to create a quick-and-dirty <code>struct</code> type.</p>

<pre class="prettyprint"><code>class struct(object):
    def __init__(**kwargs):
       self.__dict__.update(kwargs)

s = struct(foo=10, bar=11, baz='i&#39;m a string!&#39;)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2060945#2060945</id>
        <re:rank scheme="http://stackoverflow.com">10</re:rank>
        <title type="text">Answer by Chinmay Kanchi for Hidden features of Python</title>
        <author>
            <name>Chinmay Kanchi</name>
            <uri>http://stackoverflow.com/users/148765</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2060945#2060945" />
        <published>2010-01-13T22:58:01Z</published>   
        <updated>2010-06-16T21:54:45Z</updated>
        <summary type="html"><p><strong>Creating enums</strong></p>

<p>In Python, you can do this to quickly create an enumeration:</p>

<pre class="prettyprint"><code>>>> FOO, BAR, BAZ = range(3)
>>> FOO
0
</code></pre>

<p>But the 'enums' don&#39;t have to have integer values. You can even do this:</p>

<pre class="prettyprint"><code>class Colors(object):
    RED, GREEN, BLUE, YELLOW = (255,0,0), (0,255,0), (0,0,255), (0,255,255)

#now Colors.RED is a 3-tuple that returns the 24-bit 8bpp RGB 
#value for saturated red
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2259080#2259080</id>
        <re:rank scheme="http://stackoverflow.com">14</re:rank>
        <title type="text">Answer by Thomas Wouters for Hidden features of Python</title>
        <author>
            <name>Thomas Wouters</name>
            <uri>http://stackoverflow.com/users/17624</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2259080#2259080" />
        <published>2010-02-13T21:12:21Z</published>   
        <updated>2010-02-13T21:12:21Z</updated>
        <summary type="html"><h2>Manipulating sys.modules</h2>

<p>You can manipulate the modules cache directly, making modules available or unavailable as you wish:</p>

<pre class="prettyprint"><code>>>> import sys
>>> import ham
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
ImportError: No module named ham

# Make the &#39;ham&#39; module available -- as a non-module object even!
>>> sys.modules[&#39;ham&#39;] = &#39;ham, eggs, saussages and spam.&#39;
>>> import ham
>>> ham
&#39;ham, eggs, saussages and spam.&#39;

# Now remove it again.
>>> sys.modules[&#39;ham&#39;] = None
>>> import ham
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
ImportError: No module named ham
</code></pre>

<p>This works even for modules that <em>are</em> available, and to some extent for modules that <em>already are imported</em>:</p>

<pre class="prettyprint"><code>>>> import os
# Stop future imports of &#39;os&#39;.
>>> sys.modules[&#39;os&#39;] = None
>>> import os
Traceback (most recent call last):
  File '<stdin>', line 1, in <module>
ImportError: No module named os
# Our old imported module is still available.
>>> os
<module &#39;os&#39; from &#39;/usr/lib/python2.5/os.pyc&#39;>
</code></pre>

<p>As the last line shows, changing sys.modules only affects future <code>import</code> statements, not past ones, so if you want to affect other modules it&#39;s important to make these changes <em>before</em> you give them a chance to try and import the modules -- so before you import them, typically. <code>None</code> is a special value in <code>sys.modules</code>, used for negative caching (indicating the module was not found the first time, so there&#39;s no point in looking again.) Any other value will be the result of the <code>import</code> operation -- even when it is not a module object. You can use this to replace modules with objects that behave exactly like you want. Deleting the entry from <code>sys.modules</code> entirely causes the next <code>import</code> to do a normal search for the module, even if it was already imported before.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2259256#2259256</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Juanjo Conti for Hidden features of Python</title>
        <author>
            <name>Juanjo Conti</name>
            <uri>http://stackoverflow.com/users/157519</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2259256#2259256" />
        <published>2010-02-13T22:09:00Z</published>   
        <updated>2010-02-13T22:09:00Z</updated>
        <summary type="html"><p>There are no secrets in Python ;)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2482459#2482459</id>
        <re:rank scheme="http://stackoverflow.com">19</re:rank>
        <title type="text">Answer by evilpie for Hidden features of Python</title>
        <author>
            <name>evilpie</name>
            <uri>http://stackoverflow.com/users/297734</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2482459#2482459" />
        <published>2010-03-20T08:58:42Z</published>   
        <updated>2010-03-24T13:23:59Z</updated>
        <summary type="html"><h2>Passing tuple to builtin functions</h2>

<p>Much Python functions accept tuples, also it doesn&#39;t seem like. For example you want to test if your variable is a number, you could do:  </p>

<pre class="prettyprint"><code>if isinstance (number, float) or isinstance (number, int):  
   print 'yaay'
</code></pre>

<p>But if you pass us tuple this looks much cleaner:  </p>

<pre class="prettyprint"><code>if isinstance (number, (float, int)):  
   print 'yaay'
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2582013#2582013</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by haridsv for Hidden features of Python</title>
        <author>
            <name>haridsv</name>
            <uri>http://stackoverflow.com/users/95750</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2582013#2582013" />
        <published>2010-04-06T00:47:03Z</published>   
        <updated>2010-04-06T00:47:03Z</updated>
        <summary type="html"><p>You can assign several variables to the same value</p>

<pre class="prettyprint"><code>>>> foo = bar = baz = 1
>>> foo, bar, baz
(1, 1, 1)
</code></pre>

<p>Useful to initialize several variable to None, in a compact way.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2582046#2582046</id>
        <re:rank scheme="http://stackoverflow.com">7</re:rank>
        <title type="text">Answer by haridsv for Hidden features of Python</title>
        <author>
            <name>haridsv</name>
            <uri>http://stackoverflow.com/users/95750</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2582046#2582046" />
        <published>2010-04-06T00:58:22Z</published>   
        <updated>2010-04-06T00:58:22Z</updated>
        <summary type="html"><p>threading.enumerate() gives access to all Thread objects in the system and sys._current_frames() returns  the current stack frames of all threads in the system, so combine these two and you get Java style stack dumps:</p>

<pre class="prettyprint"><code>def dumpstacks(signal, frame):
    id2name = dict([(th.ident, th.name) for th in threading.enumerate()])
    code = []
    for threadId, stack in sys._current_frames().items():
        code.append('\n# Thread: %s(%d)' % (id2name[threadId], threadId))
        for filename, lineno, name, line in traceback.extract_stack(stack):
            code.append(&#39;File: '%s', line %d, in %s&#39; % (filename, lineno, name))
            if line:
                code.append('  %s' % (line.strip()))
    print '\n'.join(code)

import signal
signal.signal(signal.SIGQUIT, dumpstacks)
</code></pre>

<p>Do this at the beginning of a multi-threaded python program and you get access to current state of threads at any time by sending a SIGQUIT. You may also choose signal.SIGUSR1 or signal.SIGUSR2.</p>

<p><a href='http://stackoverflow.com/questions/132058/getting-stack-trace-from-a-running-python-application/2569696#2569696'>See</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2830047#2830047</id>
        <re:rank scheme="http://stackoverflow.com">-9</re:rank>
        <title type="text">Answer by Longpoke for Hidden features of Python</title>
        <author>
            <name>Longpoke</name>
            <uri>http://stackoverflow.com/users/80243</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2830047#2830047" />
        <published>2010-05-13T20:23:55Z</published>   
        <updated>2010-05-13T20:23:55Z</updated>
        <summary type="html"><p><strong>Braces</strong></p>

<pre class="prettyprint"><code>def g():
    print &#39;hi!&#39;

def f(): (
    g()
)

>>> f()
hi!
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2898562#2898562</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by Longpoke for Hidden features of Python</title>
        <author>
            <name>Longpoke</name>
            <uri>http://stackoverflow.com/users/80243</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2898562#2898562" />
        <published>2010-05-24T16:38:10Z</published>   
        <updated>2010-05-24T16:38:10Z</updated>
        <summary type="html"><p><strong>Top Secret Attributes</strong></p>

<pre class="prettyprint"><code>>>> class A(object): pass
>>> a = A()
>>> setattr(a, 'can&#39;t touch this', 123)
>>> dir(a)
[&#39;__class__&#39;, &#39;__delattr__&#39;, &#39;__dict__&#39;, &#39;__doc__&#39;, &#39;__format__&#39;, &#39;__getattribute__&#39;, &#39;__hash__&#39;, &#39;__init__&#39;, &#39;__module__&#39;, &#39;__new__&#39;, &#39;__reduce__&#39;, &#39;__reduce_ex__&#39;, &#39;__repr__&#39;, &#39;__setattr__&#39;, &#39;__sizeof__&#39;, &#39;__str__&#39;, &#39;__subclasshook__&#39;, &#39;__weakref__&#39;, 'can&#39;t touch this']
>>> a.can&#39;t touch this # duh
  File '<stdin>', line 1
    a.can&#39;t touch this
                     ^
SyntaxError: EOL while scanning string literal
>>> getattr(a, 'can&#39;t touch this')
123
>>> setattr(a, '__class__.__name__', ':O')
>>> a.__class__.__name__
&#39;A&#39;
>>> getattr(a, '__class__.__name__')
&#39;:O&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/2916508#2916508</id>
        <re:rank scheme="http://stackoverflow.com">18</re:rank>
        <title type="text">Answer by Evgeny for Hidden features of Python</title>
        <author>
            <name>Evgeny</name>
            <uri>http://stackoverflow.com/users/331701</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/2916508#2916508" />
        <published>2010-05-26T20:25:02Z</published>   
        <updated>2010-05-26T20:25:02Z</updated>
        <summary type="html"><p>Nice treatment of infinite recursion in dictionaries:</p>

<pre class="prettyprint"><code>>>> a = {}
>>> b = {}
>>> a[&#39;b&#39;] = b
>>> b[&#39;a&#39;] = a
>>> print a
{&#39;b&#39;: {&#39;a&#39;: {...}}}
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3143595#3143595</id>
        <re:rank scheme="http://stackoverflow.com">17</re:rank>
        <title type="text">Answer by David Zaslavsky for Hidden features of Python</title>
        <author>
            <name>David Zaslavsky</name>
            <uri>http://stackoverflow.com/users/56541</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3143595#3143595" />
        <published>2010-06-29T18:25:14Z</published>   
        <updated>2010-06-29T18:25:14Z</updated>
        <summary type="html"><p><strong>Multiple references to an iterator</strong></p>

<p>You can create multiple references to the same iterator using list multiplication:</p>

<pre class="prettyprint"><code>>>> i = (1,2,3,4,5,6,7,8,9,10) # or any iterable object
>>> iterators = [iter(i)] * 2
>>> iterators[0].next()
1
>>> iterators[1].next()
2
>>> iterators[0].next()
3
</code></pre>

<p>This can be used to group an iterable into chunks, for example, as in this example from the <a href='http://docs.python.org/library/itertools.html' rel='nofollow'><code>itertools</code> documentation</a></p>

<pre class="prettyprint"><code>def grouper(n, iterable, fillvalue=None):
    'grouper(3, &#39;ABCDEFG&#39;, &#39;x&#39;) --> ABC DEF Gxx'
    args = [iter(iterable)] * n
    return izip_longest(fillvalue=fillvalue, *args)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3242895#3242895</id>
        <re:rank scheme="http://stackoverflow.com">13</re:rank>
        <title type="text">Answer by John D. Cook for Hidden features of Python</title>
        <author>
            <name>John D. Cook</name>
            <uri>http://stackoverflow.com/users/25188</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3242895#3242895" />
        <published>2010-07-14T02:06:20Z</published>   
        <updated>2010-07-14T02:06:20Z</updated>
        <summary type="html"><p>You can ask any object which module it came from by looking at its __ module__ property. This is useful, for example, if you&#39;re experimenting at the command line and have imported a lot of things.</p>

<p>Along the same lines, you can ask a module where it came from by looking at its __ file__ property.  This is useful when debugging path issues.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3244390#3244390</id>
        <re:rank scheme="http://stackoverflow.com">18</re:rank>
        <title type="text">Answer by Marcin Swiderski for Hidden features of Python</title>
        <author>
            <name>Marcin Swiderski</name>
            <uri>http://stackoverflow.com/users/391336</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3244390#3244390" />
        <published>2010-07-14T08:14:12Z</published>   
        <updated>2010-07-14T08:14:12Z</updated>
        <summary type="html"><p>reversing an iterable using negative step</p>

<pre class="prettyprint"><code>>>> s = 'Hello World'
>>> s[::-1]
&#39;dlroW olleH&#39;
>>> a = (1,2,3,4,5,6)
>>> a[::-1]
(6, 5, 4, 3, 2, 1)
>>> a = [5,4,3,2,1]
>>> a[::-1]
[1, 2, 3, 4, 5]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3254039#3254039</id>
        <re:rank scheme="http://stackoverflow.com">20</re:rank>
        <title type="text">Answer by Giampaolo Rodol&#224; for Hidden features of Python</title>
        <author>
            <name>Giampaolo Rodol&#224;</name>
            <uri>http://stackoverflow.com/users/376587</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3254039#3254039" />
        <published>2010-07-15T09:03:42Z</published>   
        <updated>2010-07-15T09:03:42Z</updated>
        <summary type="html"><p>When using the interactive shell, '_' contains the value of the last printed item:</p>

<pre class="prettyprint"><code>>>> range(10)
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>> _
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
>>>
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3265438#3265438</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Daniel Hepper for Hidden features of Python</title>
        <author>
            <name>Daniel Hepper</name>
            <uri>http://stackoverflow.com/users/211960</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3265438#3265438" />
        <published>2010-07-16T13:46:10Z</published>   
        <updated>2010-07-21T05:36:48Z</updated>
        <summary type="html"><p><strong>Slices & Mutability</strong> </p>

<p>Copying lists</p>

<pre class="prettyprint"><code>>>> x = [1,2,3]
>>> y = x[:]
>>> y.pop()
3
>>> y
[1, 2]
>>> x
[1, 2, 3]
</code></pre>

<p>Replacing lists</p>

<pre class="prettyprint"><code>>>> x = [1,2,3]
>>> y = x
>>> y[:] = [4,5,6]
>>> x
[4, 5, 6]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3267903#3267903</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Wayne Werner for Hidden features of Python</title>
        <author>
            <name>Wayne Werner</name>
            <uri>http://stackoverflow.com/users/344286</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3267903#3267903" />
        <published>2010-07-16T18:42:51Z</published>   
        <updated>2010-07-16T18:42:51Z</updated>
        <summary type="html"><p>Combine unpacking with the print function:</p>

<pre class="prettyprint"><code># in 2.6 <= python < 3.0, 3.0 + the print function is native
from __future__ import print_function 

mylist = [&#39;foo&#39;, &#39;bar&#39;, &#39;some other value&#39;, 1,2,3,4]  
print(*mylist)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3268128#3268128</id>
        <re:rank scheme="http://stackoverflow.com">61</re:rank>
        <title type="text">Answer by Wayne Werner for Hidden features of Python</title>
        <author>
            <name>Wayne Werner</name>
            <uri>http://stackoverflow.com/users/344286</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3268128#3268128" />
        <published>2010-07-16T19:18:42Z</published>   
        <updated>2011-08-17T09:07:05Z</updated>
        <summary type="html"><p>This answer has been moved into the question itself, as requested by many people.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3277236#3277236</id>
        <re:rank scheme="http://stackoverflow.com">17</re:rank>
        <title type="text">Answer by Piotr Duda for Hidden features of Python</title>
        <author>
            <name>Piotr Duda</name>
            <uri>http://stackoverflow.com/users/352850</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3277236#3277236" />
        <published>2010-07-18T20:59:08Z</published>   
        <updated>2010-07-18T21:55:11Z</updated>
        <summary type="html"><p>From python 3.1 ( 2.7 ) dictionary and set comprehensions are supported :</p>

<pre class="prettyprint"><code>{ a:a for a in range(10) }
{ a for a in range(10) }
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3280831#3280831</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Martin for Hidden features of Python</title>
        <author>
            <name>Martin</name>
            <uri>http://stackoverflow.com/users/338547</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3280831#3280831" />
        <published>2010-07-19T12:01:21Z</published>   
        <updated>2011-01-07T01:52:47Z</updated>
        <summary type="html"><p>Python 2.x ignores commas if found after the last element of the sequence:</p>

<pre class="prettyprint"><code>>>> a_tuple_for_instance = (0,1,2,3,)
>>> another_tuple = (0,1,2,3)
>>> a_tuple_for_instance == another_tuple
True
</code></pre>

<p>A trailing comma causes a single parenthesized element to be treated as a sequence:</p>

<pre class="prettyprint"><code>>>> a_tuple_with_one_element = (8,)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3282681#3282681</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Don O&#39;Donnell for Hidden features of Python</title>
        <author>
            <name>Don O&#39;Donnell</name>
            <uri>http://stackoverflow.com/users/140894</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3282681#3282681" />
        <published>2010-07-19T15:51:01Z</published>   
        <updated>2010-07-20T09:49:18Z</updated>
        <summary type="html"><pre class="prettyprint"><code>** Using sets to reference contents in sets of frozensets**
</code></pre>

<p>As you probably know, sets are mutable and thus not hashable, so it&#39;s necessary to use frozensets if you want to make a set of sets (or use sets as dictionary keys):</p>

<pre class="prettyprint"><code>>>> fabc = frozenset(&#39;abc&#39;)
>>> fxyz = frozenset(&#39;xyz&#39;)
>>> mset = set((fabc, fxyz))
>>> mset
{frozenset({&#39;a&#39;, &#39;c&#39;, &#39;b&#39;}), frozenset({&#39;y&#39;, &#39;x&#39;, &#39;z&#39;})}
</code></pre>

<p>However, it&#39;s possible to test for membership and remove/discard members using just ordinary sets:</p>

<pre class="prettyprint"><code>>>> abc = set(&#39;abc&#39;)
>>> abc in mset
True
>>> mset.remove(abc)
>>> mset
{frozenset({&#39;y&#39;, &#39;x&#39;, &#39;z&#39;})}
</code></pre>

<p>To quote from the Python Standard Library docs:</p>

<blockquote>
  <p>Note, the <code>elem</code> argument to the <code>__contains__()</code>, <code>remove()</code>, and <code>discard()</code>
      methods may be a set. To support searching for an equivalent frozenset, the 
      <code>elem</code> set is temporarily mutated during the search and then restored. During 
      the search, the <code>elem</code> set should not be read or mutated since it does not 
      have a meaningful value. </p>
</blockquote>

<p>Unfortunately, and perhaps astonishingly, the same is not true of dictionaries:</p>

<pre class="prettyprint"><code>>>> mdict = {fabc:1, fxyz:2}
>>> fabc in mdict
True
>>> abc in mdict
Traceback (most recent call last):
File '<interactive input>', line 1, in <module>
TypeError: unhashable type: &#39;set&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3310122#3310122</id>
        <re:rank scheme="http://stackoverflow.com">20</re:rank>
        <title type="text">Answer by Remco Wendt for Hidden features of Python</title>
        <author>
            <name>Remco Wendt</name>
            <uri>http://stackoverflow.com/users/216255</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3310122#3310122" />
        <published>2010-07-22T14:47:37Z</published>   
        <updated>2010-08-08T08:04:16Z</updated>
        <summary type="html"><p>The <a href='http://docs.python.org/library/textwrap.html#textwrap.dedent' rel='nofollow'><code>textwrap.dedent</code></a> utility function in python can come quite in handy testing that a multiline string returned is equal to the expected output without breaking the indentation of your unittests:</p>

<pre class="prettyprint"><code>import unittest, textwrap

class XMLTests(unittest.TestCase):
    def test_returned_xml_value(self):
        returned_xml = call_to_function_that_returns_xml()
        expected_value = textwrap.dedent('''\
        <?xml version='1.0' encoding='utf-8'?>
        <root_node>
            <my_node>my_content</my_node>
        </root_node>
        ''')

        self.assertEqual(expected_value, returned_xml)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3312925#3312925</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by hughdbrown for Hidden features of Python</title>
        <author>
            <name>hughdbrown</name>
            <uri>http://stackoverflow.com/users/10293</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3312925#3312925" />
        <published>2010-07-22T20:03:20Z</published>   
        <updated>2010-07-22T20:03:20Z</updated>
        <summary type="html"><p>Slices as lvalues. This Sieve of Eratosthenes produces a list that has either the prime number or 0. Elements are 0&#39;d out with the slice assignment in the loop.</p>

<pre class="prettyprint"><code>def eras(n):
    last = n + 1
    sieve = [0,0] + list(range(2, last))
    sqn = int(round(n ** 0.5))
    it = (i for i in xrange(2, sqn + 1) if sieve[i])
    for i in it:
        sieve[i*i:last:i] = [0] * (n//i - i + 1)
    return filter(None, sieve)
</code></pre>

<p>To work, the slice on the left must be assigned a list on the right of the same length.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3326757#3326757</id>
        <re:rank scheme="http://stackoverflow.com">21</re:rank>
        <title type="text">Answer by David Zaslavsky for Hidden features of Python</title>
        <author>
            <name>David Zaslavsky</name>
            <uri>http://stackoverflow.com/users/56541</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3326757#3326757" />
        <published>2010-07-24T20:25:47Z</published>   
        <updated>2010-07-24T20:25:47Z</updated>
        <summary type="html"><h2>Zero-argument and variable-argument lambdas</h2>

<p>Lambda functions are usually used for a quick transformation of one value into another, but they can also be used to wrap a value in a function:</p>

<pre class="prettyprint"><code>>>> f = lambda: &#39;foo&#39;
>>> f()
&#39;foo&#39;
</code></pre>

<p>They can also accept the usual <code>*args</code> and <code>**kwargs</code> syntax:</p>

<pre class="prettyprint"><code>>>> g = lambda *args, **kwargs: args[0], kwargs[&#39;thing&#39;]
>>> g(1, 2, 3, thing=&#39;stuff&#39;)
(1, &#39;stuff&#39;)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3342952#3342952</id>
        <re:rank scheme="http://stackoverflow.com">61</re:rank>
        <title type="text">Answer by sa125 for Hidden features of Python</title>
        <author>
            <name>sa125</name>
            <uri>http://stackoverflow.com/users/187907</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3342952#3342952" />
        <published>2010-07-27T11:07:33Z</published>   
        <updated>2010-07-27T11:07:33Z</updated>
        <summary type="html"><p><strong>Multi line strings</strong></p>

<p>One approach is to use backslashes:</p>

<pre class="prettyprint"><code>>>> sql = 'select * from some_table \
where id > 10'
>>> print sql
select * from some_table where id > 10
</code></pre>

<p>Another is to use the triple-quote:</p>

<pre class="prettyprint"><code>>>> sql = '''select * from some_table 
where id > 10'''
>>> print sql
select * from some_table where id > 10
</code></pre>

<p>Problem with those is that they are not indented (look poor in your code). If you try to indent, it&#39;ll just print the white-spaces you put. </p>

<p>A third solution, which I found about recently, is to divide your string into lines and surround with parentheses:</p>

<pre class="prettyprint"><code>>>> sql = ('select * from some_table ' # <-- no comma, whitespace at end
           'where id > 10 '
           'order by name') 
>>> print sql
select * from some_table where id > 10 order by name
</code></pre>

<p>note how there&#39;s no comma between lines (this is not a tuple), and you have to account for any trailing/leading white spaces that your string needs to have. All of these work with placeholders, by the way (such as <code>'my name is %s' % name</code>).</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3371415#3371415</id>
        <re:rank scheme="http://stackoverflow.com">48</re:rank>
        <title type="text">Answer by Tam&#225;s for Hidden features of Python</title>
        <author>
            <name>Tam&#225;s</name>
            <uri>http://stackoverflow.com/users/156771</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3371415#3371415" />
        <published>2010-07-30T12:36:40Z</published>   
        <updated>2010-07-30T12:36:40Z</updated>
        <summary type="html"><h3>pow() can also calculate (x ** y) % z efficiently.</h3>

<p>There is a lesser known third argument of the built-in <code>pow()</code> function that allows you to calculate x<sup>y</sup> modulo z more efficiently than simply doing <code>(x ** y) % z</code>:</p>

<pre class="prettyprint"><code>>>> x, y, z = 1234567890, 2345678901, 17
>>> pow(x, y, z)            # almost instantaneous
6
</code></pre>

<p>In comparison, <code>(x ** y) % z</code> didn&#39;t given a result in one minute on my machine for the same values.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3535064#3535064</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by Denilson S&#225; for Hidden features of Python</title>
        <author>
            <name>Denilson S&#225;</name>
            <uri>http://stackoverflow.com/users/124946</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3535064#3535064" />
        <published>2010-08-20T21:38:24Z</published>   
        <updated>2010-08-20T21:38:24Z</updated>
        <summary type="html"><p>Backslashes inside raw strings can still escape quotes. See this:</p>

<pre class="prettyprint"><code>>>> print repr(r'aaa\'bbb')
&#39;aaa\\'bbb&#39;
</code></pre>

<p>Note that both the backslash and the double-quote are present in the final string.</p>

<p>As consequence, you can&#39;t end a raw string with a backslash:</p>

<pre class="prettyprint"><code>>>> print repr(r'C:\')
SyntaxError: EOL while scanning string literal
>>> print repr(r'C:\'')
&#39;C:\\'&#39;
</code></pre>

<p>This happens because raw strings were implemented to help writing regular expressions, and not to write Windows paths. Read a long discussion about this at <a href='http://pythonconquerstheuniverse.wordpress.com/2008/06/04/gotcha-%E2%80%94-backslashes-in-windows-filenames/' rel='nofollow'>Gotcha — backslashes in Windows filenames</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3693838#3693838</id>
        <re:rank scheme="http://stackoverflow.com">27</re:rank>
        <title type="text">Answer by Ruslan Spivak for Hidden features of Python</title>
        <author>
            <name>Ruslan Spivak</name>
            <uri>http://stackoverflow.com/users/301440</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3693838#3693838" />
        <published>2010-09-12T05:11:28Z</published>   
        <updated>2010-09-12T05:11:28Z</updated>
        <summary type="html"><p><strong>Sequence multiplication and reflected operands</strong></p>

<pre class="prettyprint"><code>>>> &#39;xyz&#39; * 3
&#39;xyzxyzxyz&#39;

>>> [1, 2] * 3
[1, 2, 1, 2, 1, 2]

>>> (1, 2) * 3
(1, 2, 1, 2, 1, 2)
</code></pre>

<p>We get the same result with reflected (swapped) operands</p>

<pre class="prettyprint"><code>>>> 3 * &#39;xyz&#39;
&#39;xyzxyzxyz&#39;
</code></pre>

<p>It works like this:</p>

<pre class="prettyprint"><code>>>> s = &#39;xyz&#39;
>>> num = 3
</code></pre>

<p>To evaluate an expression <strong>s * num</strong> interpreter calls <strong>s.__<em>mul</em>__(num)</strong></p>

<pre class="prettyprint"><code>>>> s * num
&#39;xyzxyzxyz&#39;

>>> s.__mul__(num)
&#39;xyzxyzxyz&#39;
</code></pre>

<p>To evaluate an expression <strong>num * s</strong> interpreter calls <strong>num.__<em>mul</em>__(s)</strong></p>

<pre class="prettyprint"><code>>>> num * s
&#39;xyzxyzxyz&#39;

>>> num.__mul__(s)
NotImplemented
</code></pre>

<p>If the call returns <strong><em>NotImplemented</em></strong> then interpreter calls
a reflected operation <strong>s.__<em>rmul</em>__(num)</strong> if operands have different types</p>

<pre class="prettyprint"><code>>>> s.__rmul__(num)
&#39;xyzxyzxyz&#39;
</code></pre>

<p>See <a href='http://docs.python.org/reference/datamodel.html#object.__rmul__' rel='nofollow'>http://docs.python.org/reference/datamodel.html#object.<strong>rmul</strong></a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/3967144#3967144</id>
        <re:rank scheme="http://stackoverflow.com">45</re:rank>
        <title type="text">Answer by Tam&#225;s for Hidden features of Python</title>
        <author>
            <name>Tam&#225;s</name>
            <uri>http://stackoverflow.com/users/156771</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/3967144#3967144" />
        <published>2010-10-19T09:53:40Z</published>   
        <updated>2010-10-19T09:53:40Z</updated>
        <summary type="html"><h3>enumerate with different starting index</h3>

<p><code>enumerate</code> has partly been covered in <a href='http://stackoverflow.com/questions/101268/hidden-features-of-python/117116#117116'>this answer</a>, but recently I&#39;ve found an even more hidden feature of <code>enumerate</code> that I think deserves its own post instead of just a comment.</p>

<p>Since Python 2.6, you can specify a starting index to <code>enumerate</code> in its second argument:</p>

<pre class="prettyprint"><code>>>> l = ['spam', 'ham', 'eggs']
>>> list(enumerate(l))
>>> [(0, 'spam'), (1, 'ham'), (2, 'eggs')]
>>> list(enumerate(l, 1))
>>> [(1, 'spam'), (2, 'ham'), (3, 'eggs')]
</code></pre>

<p>One place where I&#39;ve found it utterly useful is when I am enumerating over entries of a symmetric matrix. Since the matrix is symmetric, I can save time by iterating over the upper triangle only, but in that case, I have to use <code>enumerate</code> with a different starting index in the inner <code>for</code> loop to keep track of the row and column indices properly:</p>

<pre class="prettyprint"><code>for ri, row in enumerate(matrix):
    for ci, column in enumerate(matrix[ri:], ri):
        # ci now refers to the proper column index
</code></pre>

<p>Strangely enough, this behaviour of <code>enumerate</code> is not documented in <code>help(enumerate)</code>, only in the <a href='http://docs.python.org/library/functions.html#enumerate' rel='nofollow'>online documentation</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4501451#4501451</id>
        <re:rank scheme="http://stackoverflow.com">17</re:rank>
        <title type="text">Answer by Noufal Ibrahim for Hidden features of Python</title>
        <author>
            <name>Noufal Ibrahim</name>
            <uri>http://stackoverflow.com/users/229602</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4501451#4501451" />
        <published>2010-12-21T16:24:18Z</published>   
        <updated>2010-12-21T16:24:18Z</updated>
        <summary type="html"><p>Not 'hidden' but quite useful and not commonly used </p>

<p>Creating string joining functions quickly like so</p>

<pre class="prettyprint"><code> comma_join = ','.join
 semi_join  = ';'.join

 print comma_join(['foo','bar','baz'])
 &#39;foo,bar,baz
</code></pre>

<p>and</p>

<p>Ability to create lists of strings more elegantly than the quote, comma mess. </p>

<pre class="prettyprint"><code>l = ['item1', 'item2', 'item3']
</code></pre>

<p>replaced by</p>

<pre class="prettyprint"><code>l = 'item1 item2 item3'.split()
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4544088#4544088</id>
        <re:rank scheme="http://stackoverflow.com">11</re:rank>
        <title type="text">Answer by asmeurer for Hidden features of Python</title>
        <author>
            <name>asmeurer</name>
            <uri>http://stackoverflow.com/users/161801</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4544088#4544088" />
        <published>2010-12-28T06:18:56Z</published>   
        <updated>2010-12-31T04:39:30Z</updated>
        <summary type="html"><p><strong>The Object Data Model</strong></p>

<p>You can override <em>any</em> operator in the language for your own classes.  See <a href='http://docs.python.org/reference/datamodel.html' rel='nofollow'>this page</a> for a complete list.  Some examples:</p>

<ul>
<li><p>You can override any operator (<code>* + - / // % ^ == < > <= >= .</code> etc.). All this is done by overriding <code>__mul__</code>, <code>__add__</code>, etc. in your objects.  You can even override things like <code>__rmul__</code> to handle separately <code>your_object*something_else</code> and <code>something_else*your_object</code>.  <code>.</code> is attribute access (<code>a.b</code>), and can be overridden to handle any arbitrary <code>b</code> by using <code>__getattr__</code>.  Also included here is <code>a(…)</code> using <code>__call__</code>.</p></li>
<li><p>You can create your own slice syntax (<code>a[stuff]</code>), which can be very complicated and quite different from the standard syntax used in lists (numpy has a good example of the power of this in their arrays) using any combination of <code>,</code>, <code>:</code>, and <code>…</code> that you like, using Slice objects.  </p></li>
<li><p>Handle specially what happens with many keywords in the language.  Included are <code>del</code>, <code>in</code>, <code>import</code>, and <code>not</code>.</p></li>
<li><p>Handle what happens when many built in functions are called with your object.  The standard <code>__int__</code>, <code>__str__</code>, etc. go here, but so do <code>__len__</code>, <code>__reversed__</code>, <code>__abs__</code>, and the three argument <code>__pow__</code> (for modular exponentiation).  </p></li>
</ul>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4602518#4602518</id>
        <re:rank scheme="http://stackoverflow.com">62</re:rank>
        <title type="text">Answer by Adrien Plisson for Hidden features of Python</title>
        <author>
            <name>Adrien Plisson</name>
            <uri>http://stackoverflow.com/users/195823</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4602518#4602518" />
        <published>2011-01-05T09:29:54Z</published>   
        <updated>2011-01-05T09:29:54Z</updated>
        <summary type="html"><p><strong>tuple unpacking in python 3</strong></p>

<p>in python 3, you can use a syntax identical to optional arguments in function definition for tuple unpacking:</p>

<pre class="prettyprint"><code>>>> first,second,*rest = (1,2,3,4,5,6,7,8)
>>> first
1
>>> second
2
>>> rest
[3, 4, 5, 6, 7, 8]
</code></pre>

<p>but a feature less known and more powerful allows you to have an unknown number of elements <strong>in the middle of the list</strong>:</p>

<pre class="prettyprint"><code>>>> first,*rest,last = (1,2,3,4,5,6,7,8)
>>> first
1
>>> rest
[2, 3, 4, 5, 6, 7]
>>> last
8
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4627428#4627428</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Ant for Hidden features of Python</title>
        <author>
            <name>Ant</name>
            <uri>http://stackoverflow.com/users/465159</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4627428#4627428" />
        <published>2011-01-07T16:00:50Z</published>   
        <updated>2011-01-07T16:00:50Z</updated>
        <summary type="html"><p><strong>insert vs append</strong></p>

<p>not a feature, but may be interesting </p>

<p>suppose you want to insert some data in a list, and then reverse it. the easiest thing is</p>

<pre class="prettyprint"><code>count = 10 ** 5
nums = []
for x in range(count):
    nums.append(x)
nums.reverse()
</code></pre>

<p>then you think: what about inserting the numbers from the beginning, instead? so:</p>

<pre class="prettyprint"><code>count = 10 ** 5 
nums = [] 
for x in range(count):
    nums.insert(0, x)
</code></pre>

<p>but it turns to be 100 times slower! if we set count = 10 ** 6, it will be 1,000 times slower; this is because insert is O(n^2), while append is O(n).</p>

<p>the reason for that difference is that insert has to move each element in a list each time it&#39;s called; append just add at the end of the list that elements (sometimes it has to re-allocate everything, but it&#39;s still much more fast)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4630680#4630680</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by Apalala for Hidden features of Python</title>
        <author>
            <name>Apalala</name>
            <uri>http://stackoverflow.com/users/545637</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4630680#4630680" />
        <published>2011-01-07T22:00:46Z</published>   
        <updated>2011-01-09T01:48:19Z</updated>
        <summary type="html"><h2>namedtuple is a tuple</h2>

<pre class="prettyprint"><code>>>> node = namedtuple(&#39;node&#39;, 'a b')
>>> node(1,2) + node(5,6)
(1, 2, 5, 6)
>>> (node(1,2), node(5,6))
(node(a=1, b=2), node(a=5, b=6))
>>> 
</code></pre>

<p>Some more experiments to respond to comments:</p>

<pre class="prettyprint"><code>>>> from collections import namedtuple
>>> from operator import *
>>> mytuple = namedtuple(&#39;A&#39;, 'a b')
>>> yourtuple = namedtuple(&#39;Z&#39;, 'x y')
>>> mytuple(1,2) + yourtuple(5,6)
(1, 2, 5, 6)
>>> q = [mytuple(1,2), yourtuple(5,6)]
>>> q
[A(a=1, b=2), Z(x=5, y=6)]
>>> reduce(operator.__add__, q)
(1, 2, 5, 6)
</code></pre>

<p>So, <code>namedtuple</code> is an <em>interesting</em> subtype of <code>tuple</code>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4675525#4675525</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Apalala for Hidden features of Python</title>
        <author>
            <name>Apalala</name>
            <uri>http://stackoverflow.com/users/545637</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4675525#4675525" />
        <published>2011-01-13T00:18:43Z</published>   
        <updated>2011-01-13T01:23:37Z</updated>
        <summary type="html"><p><strong>A module exports <em>EVERYTHING</em> in its namespace</strong></p>

<p>Including names imported from other modules!</p>

<pre class="prettyprint"><code># this is 'answer42.py'
from operator import *
from inspect  import *
</code></pre>

<p>Now test what&#39;s importable from the module.</p>

<pre class="prettyprint"><code>>>> import answer42
>>> answer42.__dict__.keys()
[&#39;gt&#39;, &#39;imul&#39;, &#39;ge&#39;, &#39;setslice&#39;, &#39;ArgInfo&#39;, &#39;getfile&#39;, &#39;isCallable&#39;, &#39;getsourcelines&#39;, &#39;CO_OPTIMIZED&#39;, &#39;le&#39;, &#39;re&#39;, &#39;isgenerator&#39;, &#39;ArgSpec&#39;, &#39;imp&#39;, &#39;lt&#39;, &#39;delslice&#39;, &#39;BlockFinder&#39;, &#39;getargspec&#39;, &#39;currentframe&#39;, &#39;CO_NOFREE&#39;, &#39;namedtuple&#39;, &#39;rshift&#39;, &#39;string&#39;, &#39;getframeinfo&#39;, &#39;__file__&#39;, &#39;strseq&#39;, &#39;iconcat&#39;, &#39;getmro&#39;, &#39;mod&#39;, &#39;getcallargs&#39;, &#39;isub&#39;, &#39;getouterframes&#39;, &#39;isdatadescriptor&#39;, &#39;modulesbyfile&#39;, &#39;setitem&#39;, &#39;truth&#39;, &#39;Attribute&#39;, &#39;div&#39;, &#39;CO_NESTED&#39;, &#39;ixor&#39;, &#39;getargvalues&#39;, &#39;ismemberdescriptor&#39;, &#39;getsource&#39;, &#39;isMappingType&#39;, &#39;eq&#39;, &#39;index&#39;, &#39;xor&#39;, &#39;sub&#39;, &#39;getcomments&#39;, &#39;neg&#39;, &#39;getslice&#39;, &#39;isframe&#39;, &#39;__builtins__&#39;, &#39;abs&#39;, &#39;getmembers&#39;, &#39;mul&#39;, &#39;getclasstree&#39;, &#39;irepeat&#39;, &#39;is_&#39;, &#39;getitem&#39;, &#39;indexOf&#39;, &#39;Traceback&#39;, &#39;findsource&#39;, &#39;ModuleInfo&#39;, &#39;ipow&#39;, &#39;TPFLAGS_IS_ABSTRACT&#39;, &#39;or_&#39;, &#39;joinseq&#39;, &#39;is_not&#39;, &#39;itruediv&#39;, &#39;getsourcefile&#39;, &#39;dis&#39;, &#39;os&#39;, &#39;iand&#39;, &#39;countOf&#39;, &#39;getinnerframes&#39;, &#39;pow&#39;, &#39;pos&#39;, &#39;and_&#39;, &#39;lshift&#39;, &#39;__name__&#39;, &#39;sequenceIncludes&#39;, &#39;isabstract&#39;, &#39;isbuiltin&#39;, &#39;invert&#39;, &#39;contains&#39;, &#39;add&#39;, &#39;isSequenceType&#39;, &#39;irshift&#39;, &#39;types&#39;, &#39;tokenize&#39;, &#39;isfunction&#39;, &#39;not_&#39;, &#39;istraceback&#39;, &#39;getmoduleinfo&#39;, &#39;isgeneratorfunction&#39;, &#39;getargs&#39;, &#39;CO_GENERATOR&#39;, &#39;cleandoc&#39;, &#39;classify_class_attrs&#39;, &#39;EndOfBlock&#39;, &#39;walktree&#39;, &#39;__doc__&#39;, &#39;getmodule&#39;, &#39;isNumberType&#39;, &#39;ilshift&#39;, &#39;ismethod&#39;, &#39;ifloordiv&#39;, &#39;formatargvalues&#39;, &#39;indentsize&#39;, &#39;getmodulename&#39;, &#39;inv&#39;, &#39;Arguments&#39;, &#39;iscode&#39;, &#39;CO_NEWLOCALS&#39;, &#39;formatargspec&#39;, &#39;iadd&#39;, &#39;getlineno&#39;, &#39;imod&#39;, &#39;CO_VARKEYWORDS&#39;, &#39;ne&#39;, &#39;idiv&#39;, &#39;__package__&#39;, &#39;CO_VARARGS&#39;, &#39;attrgetter&#39;, &#39;methodcaller&#39;, &#39;truediv&#39;, &#39;repeat&#39;, &#39;trace&#39;, &#39;isclass&#39;, &#39;ior&#39;, &#39;ismethoddescriptor&#39;, &#39;sys&#39;, &#39;isroutine&#39;, &#39;delitem&#39;, &#39;stack&#39;, &#39;concat&#39;, &#39;getdoc&#39;, &#39;getabsfile&#39;, &#39;ismodule&#39;, &#39;linecache&#39;, &#39;floordiv&#39;, &#39;isgetsetdescriptor&#39;, &#39;itemgetter&#39;, &#39;getblock&#39;]
>>> from answer42 import getmembers
>>> getmembers
<function getmembers at 0xb74b2924>
>>> 
</code></pre>

<p>That&#39;s a good reason not to <code>from x import *</code> and to define <code>__all__ =</code>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4775286#4775286</id>
        <re:rank scheme="http://stackoverflow.com">7</re:rank>
        <title type="text">Answer by Brendon Crawford for Hidden features of Python</title>
        <author>
            <name>Brendon Crawford</name>
            <uri>http://stackoverflow.com/users/552766</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4775286#4775286" />
        <published>2011-01-23T17:37:30Z</published>   
        <updated>2011-01-23T17:37:30Z</updated>
        <summary type="html"><p>Operators can be called as functions:</p>

<pre class="prettyprint"><code>from operator import add
print reduce(add, [1,2,3,4,5,6])
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4775544#4775544</id>
        <re:rank scheme="http://stackoverflow.com">23</re:rank>
        <title type="text">Answer by Chmouel Boudjnah for Hidden features of Python</title>
        <author>
            <name>Chmouel Boudjnah</name>
            <uri>http://stackoverflow.com/users/145125</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4775544#4775544" />
        <published>2011-01-23T18:24:40Z</published>   
        <updated>2011-01-24T00:01:48Z</updated>
        <summary type="html"><p>The simplicity of :</p>

<pre class="prettyprint"><code>>>> &#39;str&#39; in &#39;string&#39;
True
>>> &#39;no&#39; in &#39;yes&#39;
False
>>> 
</code></pre>

<p>is something i love about Python, I have seen a lot of not very pythonic idiom like that instead :</p>

<pre class="prettyprint"><code>if &#39;yes&#39;.find('no') == -1:
    pass
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4779148#4779148</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by FernandoEscher for Hidden features of Python</title>
        <author>
            <name>FernandoEscher</name>
            <uri>http://stackoverflow.com/users/176376</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4779148#4779148" />
        <published>2011-01-24T06:13:14Z</published>   
        <updated>2011-01-24T10:06:44Z</updated>
        <summary type="html"><p><strong>Dynamically added attributes</strong> </p>

<p>This might be useful if you think about adding some attributes to your classes just by calling them. This can be done by overriding the <a href='http://docs.python.org/reference/datamodel.html#object.__getattribute__' rel='nofollow' rel='nofollow'><code>__getattribute__</code></a> member function which is called when the dot operand is used. So, let&#39;s see a dummy class for example:</p>

<pre class="prettyprint"><code>class Dummy(object):
    def __getattribute__(self, name):
        f = lambda: &#39;Hello with %s&#39;%name
        return f
</code></pre>

<p>When you instantiate a Dummy object and do a method call you’ll get the following:</p>

<pre class="prettyprint"><code>>>> d = Dummy()
>>> d.b()
&#39;Hello with b&#39;
</code></pre>

<p>Finally, you can even set the attribute to your class so it can be dynamically defined. This could be useful if you work with Python web frameworks and want to do queries by parsing the attribute&#39;s name.</p>

<p>I have a <a href='https://gist.github.com/792865' rel='nofollow' rel='nofollow'>gist</a> at github with this simple code and its equivalent on Ruby made by a friend.</p>

<p>Take care!</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/4958857#4958857</id>
        <re:rank scheme="http://stackoverflow.com">10</re:rank>
        <title type="text">Answer by Foo Bah for Hidden features of Python</title>
        <author>
            <name>Foo Bah</name>
            <uri>http://stackoverflow.com/users/590042</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/4958857#4958857" />
        <published>2011-02-10T15:14:31Z</published>   
        <updated>2011-02-10T15:30:37Z</updated>
        <summary type="html"><p>Changing function label at run time:</p>

<pre class="prettyprint"><code>>>> class foo:
...   def normal_call(self): print 'normal_call'
...   def call(self): 
...     print 'first_call'
...     self.call = self.normal_call

>>> y = foo()
>>> y.call()
first_call
>>> y.call()
normal_call
>>> y.call()
normal_call
...
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5024259#5024259</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by Abafei for Hidden features of Python</title>
        <author>
            <name>Abafei</name>
            <uri>http://stackoverflow.com/users/541412</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5024259#5024259" />
        <published>2011-02-17T01:44:42Z</published>   
        <updated>2011-03-03T05:32:35Z</updated>
        <summary type="html"><p>I&#39;m not sure where (or whether) this is in the Python docs, but for python 2.x (at least 2.5 and 2.6, which I just tried), the <code>print</code> statement can be called with parenthenses. This can be useful if you want to be able to easily port some Python 2.x code to Python 3.x. </p>

<p>Example:
<code>print(&#39;We want Moshiach Now&#39;)</code> should print <code>We want Moshiach Now</code> work in python 2.5, 2.6, and 3.x.</p>

<p>Also, the <code>not</code> operator can be called with parenthenses in Python 2 and 3:
<code>not False</code>
and
<code>not(False)</code>
should both return <code>True</code>.</p>

<p>Parenthenses might also work with other statements and operators.</p>

<p><strong>EDIT</strong>: NOT a good idea to put parenthenses around <code>not</code> operators (and probably any other operators), since it can make for surprising situations, like so (this happens because the parenthenses are just really around the <code>1</code>):</p>

<pre class="prettyprint"><code>>>> (not 1) == 9
False

>>> not(1) == 9
True
</code></pre>

<p>This also can work, for some values (I think where it is not a valid identifier name), like this:
<code>not&#39;val&#39;</code> should return <code>False</code>, and <code>print&#39;We want Moshiach Now&#39;</code> should return <code>We want Moshiach Now</code>. (but <code>not552</code> would raise a NameError since it is a valid identifier name).</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5084257#5084257</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by Ivan P for Hidden features of Python</title>
        <author>
            <name>Ivan P</name>
            <uri>http://stackoverflow.com/users/477396</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5084257#5084257" />
        <published>2011-02-22T21:34:21Z</published>   
        <updated>2011-02-23T16:24:12Z</updated>
        <summary type="html"><h3>Python has 'private' variables</h3>

<p>Variables that start, but not end, with a double underscore become private, and not just by convention. Actually __var turns into _Classname__var, where Classname is the class in which the variable was created. They are not inherited and cannot be overriden.</p>

<pre class="prettyprint"><code>
>>> class A:
...     def __init__(self):
...             self.__var = 5
...     def getvar(self):
...             return self.__var
... 
>>> a = A()
>>> a.__var
Traceback (most recent call last):
  File '', line 1, in 
AttributeError: A instance has no attribute &#39;__var&#39;
>>> a.getvar()
5
>>> dir(a)
[&#39;_A__var&#39;, &#39;__doc__&#39;, &#39;__init__&#39;, &#39;__module__&#39;, &#39;getvar&#39;]
>>>
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5202538#5202538</id>
        <re:rank scheme="http://stackoverflow.com">5</re:rank>
        <title type="text">Answer by armandino for Hidden features of Python</title>
        <author>
            <name>armandino</name>
            <uri>http://stackoverflow.com/users/45112</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5202538#5202538" />
        <published>2011-03-05T08:06:59Z</published>   
        <updated>2011-03-05T08:06:59Z</updated>
        <summary type="html"><p>In addition to this mentioned earlier by <a href='http://stackoverflow.com/questions/101268/hidden-features-of-python/2582013#2582013'>haridsv</a>:</p>

<pre class="prettyprint"><code>>>> foo = bar = baz = 1
>>> foo, bar, baz
(1, 1, 1)
</code></pre>

<p>it&#39;s also possible to do this:</p>

<pre class="prettyprint"><code>>>> foo, bar, baz = 1, 2, 3
>>> foo, bar, baz
(1, 2, 3)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5202620#5202620</id>
        <re:rank scheme="http://stackoverflow.com">11</re:rank>
        <title type="text">Answer by dan_waterworth for Hidden features of Python</title>
        <author>
            <name>dan_waterworth</name>
            <uri>http://stackoverflow.com/users/393783</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5202620#5202620" />
        <published>2011-03-05T08:26:14Z</published>   
        <updated>2011-03-05T08:26:14Z</updated>
        <summary type="html"><p>The <code>re.Scanner</code> class. <a href='http://code.activestate.com/recipes/457664-hidden-scanner-functionality-in-re-module/' rel='nofollow'>http://code.activestate.com/recipes/457664-hidden-scanner-functionality-in-re-module/</a></p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5251054#5251054</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by Luper Rouch for Hidden features of Python</title>
        <author>
            <name>Luper Rouch</name>
            <uri>http://stackoverflow.com/users/17911</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5251054#5251054" />
        <published>2011-03-09T19:24:07Z</published>   
        <updated>2011-03-09T19:24:07Z</updated>
        <summary type="html"><p>Not at all a hidden feature but still nice:</p>

<pre class="prettyprint"><code>import os.path as op

root_dir = op.abspath(op.join(op.dirname(__file__), '..'))
</code></pre>

<p>Saves lots of characters when manipulating paths !</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5251200#5251200</id>
        <re:rank scheme="http://stackoverflow.com">14</re:rank>
        <title type="text">Answer by Kimvais for Hidden features of Python</title>
        <author>
            <name>Kimvais</name>
            <uri>http://stackoverflow.com/users/180174</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5251200#5251200" />
        <published>2011-03-09T19:37:41Z</published>   
        <updated>2011-03-09T19:37:41Z</updated>
        <summary type="html"><p>Arguably, this is not a <em>programming</em> feature per se, but so useful that I&#39;ll post it nevertheless.</p>

<pre class="prettyprint"><code>$ python -m SimpleHTTPServer
</code></pre>

<p>...followed by <code>$ wget <a href='http://<ipnumber>:8000/filename' rel='nofollow'>http://<ipnumber>:8000/filename</a></code> somewhere else.</p>

<p>You can also specify a port e.g. <code>python -m SimpleHTTPServer 80</code> (so you can omit the port in the url if you have the root on the server side)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/5446831#5446831</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Kabie for Hidden features of Python</title>
        <author>
            <name>Kabie</name>
            <uri>http://stackoverflow.com/users/260985</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/5446831#5446831" />
        <published>2011-03-27T02:29:50Z</published>   
        <updated>2011-03-27T02:29:50Z</updated>
        <summary type="html"><p>Unicode identifier in Python3:</p>

<pre class="prettyprint"><code>>>> &#39;Unicode字符_تكوين_Variable&#39;.isidentifier()
True
>>> Unicode字符_تكوين_Variable=&#39;Python3 rules!&#39;
>>> Unicode字符_تكوين_Variable
&#39;Python3 rules!&#39;
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6123240#6123240</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by Rabarberski for Hidden features of Python</title>
        <author>
            <name>Rabarberski</name>
            <uri>http://stackoverflow.com/users/50899</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6123240#6123240" />
        <published>2011-05-25T10:47:42Z</published>   
        <updated>2011-05-25T10:47:42Z</updated>
        <summary type="html"><p><strong>Multiply a string to get it repeated</strong> </p>

<pre class="prettyprint"><code>print 'SO'*5 
</code></pre>

<p>gives</p>

<pre class="prettyprint"><code>SOSOSOSOSO
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6143038#6143038</id>
        <re:rank scheme="http://stackoverflow.com">1</re:rank>
        <title type="text">Answer by inspectorG4dget for Hidden features of Python</title>
        <author>
            <name>inspectorG4dget</name>
            <uri>http://stackoverflow.com/users/198633</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6143038#6143038" />
        <published>2011-05-26T18:01:29Z</published>   
        <updated>2011-05-26T18:01:29Z</updated>
        <summary type="html"><p><strong>commands.getoutput</strong></p>

<p>If you want to get the output of a function which outputs directly to <code>stdout</code> or <code>stderr</code> as is the case with <code>os.system</code>, <a href='http://docs.python.org/library/commands.html' rel='nofollow'><code>commands.getoutput</code></a> comes to the rescue. The whole module is just made of awesome.</p>

<pre class="prettyprint"><code>>>> print commands.getoutput(&#39;ls&#39;)
myFile1.txt    myFile2.txt    myFile3.txt    myFile4.txt    myFile5.txt
myFile6.txt    myFile7.txt    myFile8.txt    myFile9.txt    myFile10.txt
myFile11.txt   myFile12.txt   myFile13.txt   myFile14.txt   module.py
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6153425#6153425</id>
        <re:rank scheme="http://stackoverflow.com">1</re:rank>
        <title type="text">Answer by Mojo_Jojo for Hidden features of Python</title>
        <author>
            <name>Mojo_Jojo</name>
            <uri>http://stackoverflow.com/users/601163</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6153425#6153425" />
        <published>2011-05-27T14:08:33Z</published>   
        <updated>2011-05-27T14:08:33Z</updated>
        <summary type="html"><p>Ever used xrange(INT) instead of range(INT) .... It&#39;s got less memory usage and doesn&#39;t really depend on the size of the integer. Yey!! Isn&#39;t that good?</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6338283#6338283</id>
        <re:rank scheme="http://stackoverflow.com">4</re:rank>
        <title type="text">Answer by Ken Arnold for Hidden features of Python</title>
        <author>
            <name>Ken Arnold</name>
            <uri>http://stackoverflow.com/users/69707</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6338283#6338283" />
        <published>2011-06-14T01:49:41Z</published>   
        <updated>2011-06-14T01:49:41Z</updated>
        <summary type="html"><h2><code>getattr</code> takes a third parameter</h2>

<p><code>getattr(obj, attribute_name, default)</code> is like:</p>

<pre class="prettyprint"><code>try:
    return obj.attribute
except AttributeError:
    return default
</code></pre>

<p>except that <code>attribute_name</code> can be any string.</p>

<p>This can be really useful for <a href='http://en.wikipedia.org/wiki/Duck_typing' rel='nofollow'>duck typing</a>. Maybe you have something like:</p>

<pre class="prettyprint"><code>class MyThing:
    pass
class MyOtherThing:
    pass
if isinstance(obj, (MyThing, MyOtherThing)):
    process(obj)
</code></pre>

<p>(btw, <code>isinstance(obj, (a,b))</code> means <code>isinstance(obj, a) or isinstance(obj, b)</code>.)</p>

<p>When you make a new kind of thing, you&#39;d need to add it to that tuple everywhere it occurs. (That construction also causes problems when reloading modules or importing the same file under two names. It happens more than people like to admit.) But instead you could say:</p>

<pre class="prettyprint"><code>class MyThing:
    processable = True
class MyOtherThing:
    processable = True
if getattr(obj, &#39;processable&#39;, False):
    process(obj)
</code></pre>

<p>Add inheritance and it gets even better: all of your examples of processable objects can inherit from</p>

<pre class="prettyprint"><code>class Processable:
    processable = True
</code></pre>

<p>but you don&#39;t have to convince everybody to inherit from your base class, just to set an attribute.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6403350#6403350</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by locojay for Hidden features of Python</title>
        <author>
            <name>locojay</name>
            <uri>http://stackoverflow.com/users/239007</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6403350#6403350" />
        <published>2011-06-19T15:35:02Z</published>   
        <updated>2011-06-19T15:35:02Z</updated>
        <summary type="html"><p>mapreduce using map and reduce functions</p>

<p>create a simple sumproduct this way:</p>

<pre class="prettyprint"><code>def sumprod(x,y):
    return reduce(lambda a,b:a+b, map(lambda a, b: a*b,x,y))
</code></pre>

<p>example:</p>

<pre class="prettyprint"><code>In [2]: sumprod([1,2,3],[4,5,6])
Out[2]: 32
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6413158#6413158</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by Douglas for Hidden features of Python</title>
        <author>
            <name>Douglas</name>
            <uri>http://stackoverflow.com/users/244261</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6413158#6413158" />
        <published>2011-06-20T14:54:56Z</published>   
        <updated>2011-06-20T14:54:56Z</updated>
        <summary type="html"><p><strong>Simple built-in benchmarking tool</strong></p>

<p>The Python Standard Library comes with a very easy-to-use benchmarking module called 'timeit'. You can even use it from the command line to see which of several language constructs is the fastest.</p>

<p>E.g.,</p>

<pre class="prettyprint"><code>% python -m timeit &#39;r = range(0, 1000)&#39; &#39;for i in r: pass&#39;
10000 loops, best of 3: 48.4 usec per loop

% python -m timeit &#39;r = xrange(0, 1000)&#39; &#39;for i in r: pass&#39;
10000 loops, best of 3: 37.4 usec per loop
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6486393#6486393</id>
        <re:rank scheme="http://stackoverflow.com">7</re:rank>
        <title type="text">Answer by Elisha for Hidden features of Python</title>
        <author>
            <name>Elisha</name>
            <uri>http://stackoverflow.com/users/766068</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6486393#6486393" />
        <published>2011-06-26T20:04:13Z</published>   
        <updated>2011-06-26T20:04:13Z</updated>
        <summary type="html"><p>infinite recursion in list</p>

<pre class="prettyprint"><code>>>> a = [1,2]
>>> a.append(a)
>>> a
[1, 2, [...]]
>>> a[2]
[1, 2, [...]]
>>> a[2][2][2][2][2][2][2][2][2] == a
True
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6528965#6528965</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by matchew for Hidden features of Python</title>
        <author>
            <name>matchew</name>
            <uri>http://stackoverflow.com/users/638649</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6528965#6528965" />
        <published>2011-06-30T01:04:25Z</published>   
        <updated>2011-08-15T18:08:24Z</updated>
        <summary type="html"><p>while not very pythonic you can write to a file using <a href='http://docs.python.org/reference/simple_stmts.html#the-print-statement' rel='nofollow'><code>print</code></a></p>

<p><code>print>>outFile, &#39;I am Being Written&#39;</code></p>

<p><a href='http://docs.python.org/reference/simple_stmts.html#the-print-statement' rel='nofollow'>Explanation</a>:</p>

<blockquote>
  <p>This form is sometimes referred to as
  “<code>print</code> chevron.” In this form, the
  first expression after the >> must
  evaluate to a “file-like” object,
  specifically an object that has a
  <code>write()</code> method as described above.
  With this extended form, the
  subsequent expressions are printed to
  this file object. <strong>If the first
  expression evaluates to <code>None</code>, then
  <code>sys.stdout</code> is used as the file for
  output.</strong></p>
</blockquote>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6574805#6574805</id>
        <re:rank scheme="http://stackoverflow.com">9</re:rank>
        <title type="text">Answer by Roman Bodnarchuk for Hidden features of Python</title>
        <author>
            <name>Roman Bodnarchuk</name>
            <uri>http://stackoverflow.com/users/406693</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6574805#6574805" />
        <published>2011-07-04T18:11:57Z</published>   
        <updated>2011-07-04T18:11:57Z</updated>
        <summary type="html"><p><strong><code>string-escape</code> and <code>unicode-escape</code> encodings</strong></p>

<p>Lets say you have a string from outer source, that contains <code>\n</code>, <code>\t</code> and so on. How to transform them into new-line or tab? Just decode string using <code>string-escape</code> encoding! </p>

<pre class="prettyprint"><code>>>> print s
Hello\nStack\toverflow
>>> print s.decode(&#39;string-escape&#39;)
Hello
Stack   overflow
</code></pre>

<p>Another problem. You have normal string with unicode literals like <code>\u01245</code>. How to make it work? Just decode string using <code>unicode-escape</code> encoding!</p>

<pre class="prettyprint"><code>>>> s = &#39;\u041f\u0440\u0438\u0432\u0456\u0442, \u0441\u0432\u0456\u0442!&#39;
>>> print s
\u041f\u0440\u0438\u0432\u0456\u0442, \u0441\u0432\u0456\u0442!
>>> print unicode(s)
\u041f\u0440\u0438\u0432\u0456\u0442, \u0441\u0432\u0456\u0442!
>>> print unicode(s, &#39;unicode-escape&#39;)
Привіт, світ!
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6632253#6632253</id>
        <re:rank scheme="http://stackoverflow.com">8</re:rank>
        <title type="text">Answer by Johnsyweb for Hidden features of Python</title>
        <author>
            <name>Johnsyweb</name>
            <uri>http://stackoverflow.com/users/78845</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6632253#6632253" />
        <published>2011-07-09T02:09:45Z</published>   
        <updated>2011-07-09T02:09:45Z</updated>
        <summary type="html"><h2>Flattening a <a href='http://www.python.org/doc//current/library/stdtypes.html#sequence-types-str-unicode-list-tuple-buffer-xrange'><code>list</code></a> with <a href='http://www.python.org/doc/current/library/functions.html#sum'><code>sum()</code></a>.</h2>

<p>The <a href='http://www.python.org/doc/current/library/functions.html#sum'><code>sum()</code></a> built-in function can be used to <a href='http://www.python.org/doc//current/reference/datamodel.html#object.__add__'><code>__add__</code></a> <a href='http://www.python.org/doc//current/library/stdtypes.html#sequence-types-str-unicode-list-tuple-buffer-xrange'><code>list</code></a>s together, providing a handy way to flatten a <a href='http://www.python.org/doc//current/library/stdtypes.html#sequence-types-str-unicode-list-tuple-buffer-xrange'><code>list</code></a> of <a href='http://www.python.org/doc//current/library/stdtypes.html#sequence-types-str-unicode-list-tuple-buffer-xrange'><code>list</code></a>s:</p>

<pre class="prettyprint"><code>Python 2.7.1 (r271:86832, May 27 2011, 21:41:45) 
[GCC 4.2.1 (Apple Inc. build 5664)] on darwin
Type 'help', 'copyright', 'credits' or 'license' for more information.
>>> l = [[1, 2, 3], [4, 5], [6], [7, 8, 9]]
>>> sum(l, [])
[1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6735488#6735488</id>
        <re:rank scheme="http://stackoverflow.com">6</re:rank>
        <title type="text">Answer by cerberos for Hidden features of Python</title>
        <author>
            <name>cerberos</name>
            <uri>http://stackoverflow.com/users/121725</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6735488#6735488" />
        <published>2011-07-18T15:39:56Z</published>   
        <updated>2011-12-19T12:55:43Z</updated>
        <summary type="html"><h2>The Borg Pattern</h2>

<p>This is a killer from <a href='http://stackoverflow.com/users/95810/alex-martelli'>Alex Martelli</a>. All instances of <code>Borg</code> share state. This removes the need to employ the singleton pattern (instances don&#39;t matter when state is shared) and is rather elegant (but is more complicated with new classes). </p>

<p>The value of <code>foo</code> can be reassigned in any instance and all will be updated, you can even reassign the entire dict. Borg is the perfect name, read more <a href='http://code.activestate.com/recipes/66531/' rel='nofollow'>here</a>.</p>

<pre class="prettyprint"><code>class Borg:
    __shared_state = {&#39;foo&#39;: &#39;bar&#39;}
    def __init__(self):
        self.__dict__ = self.__shared_state
    # rest of your class here
</code></pre>

<p>This is perfect for sharing an eventlet.GreenPool to control concurrency.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/6852190#6852190</id>
        <re:rank scheme="http://stackoverflow.com">-5</re:rank>
        <title type="text">Answer by Abdelouahab for Hidden features of Python</title>
        <author>
            <name>Abdelouahab</name>
            <uri>http://stackoverflow.com/users/861487</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/6852190#6852190" />
        <published>2011-07-27T22:52:20Z</published>   
        <updated>2011-07-27T22:52:20Z</updated>
        <summary type="html"><p>to activate the autocompletion in IDE that accepts it (like IDLE, Editra, IEP) instead of making:
'hi'. (and then you hit TAB), you can cheat in the IDE, just make
hi'. (and you heat TAB) (as you can see, there is no single quote in the beginning) because it will only follows the latest punctuation, it&#39;s like when you add : and hit enter, it adds directly an indentation, dont know if it will make change, but it&#39;s a tip no more :)</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/7076512#7076512</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by MatToufoutu for Hidden features of Python</title>
        <author>
            <name>MatToufoutu</name>
            <uri>http://stackoverflow.com/users/293050</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/7076512#7076512" />
        <published>2011-08-16T10:03:29Z</published>   
        <updated>2011-08-16T10:03:29Z</updated>
        <summary type="html"><p>Here are 2 easter eggs:</p>

<hr>

<p>One in python itself:</p>

<pre class="prettyprint"><code>>>> import __hello__
Hello world...
</code></pre>

<hr>

<p>And another one in the <code>Werkzeug</code> module, which is a bit complicated to reveal, here it is:</p>

<p>By looking at <code>Werkzeug</code>&#39;s source code, in <code>werkzeug/__init__.py</code>, there is a line that should draw your attention:</p>

<pre class="prettyprint"><code>&#39;werkzeug._internal&#39;:   [&#39;_easteregg&#39;]
</code></pre>

<p>If you&#39;re a bit curious, this should lead you to have a look at the <code>werkzeug/_internal.py</code>, there, you&#39;ll find an <code>_easteregg()</code> function which takes a wsgi application in argument, it also contains some base64 encoded data and 2 nested functions, that seem to do something special if an argument named <code>macgybarchakku</code> is found in the query string.</p>

<p>So, to reveal this easter egg, it seems you need to wrap an application in the <code>_easteregg()</code> function, let&#39;s go:</p>

<pre class="prettyprint"><code>from werkzeug import Request, Response, run_simple
from werkzeug import _easteregg

@Request.application
def application(request):
    return Response(&#39;Hello World!&#39;)

run_simple(&#39;localhost&#39;, 8080, _easteregg(application))
</code></pre>

<p>Now, if you run the app and visit <a href='http://localhost:8080/?macgybarchakku' rel='nofollow'>http://localhost:8080/?macgybarchakku</a>, you should see the easter egg.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/7305174#7305174</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by giodamelio for Hidden features of Python</title>
        <author>
            <name>giodamelio</name>
            <uri>http://stackoverflow.com/users/375847</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/7305174#7305174" />
        <published>2011-09-05T07:46:47Z</published>   
        <updated>2011-09-05T07:46:47Z</updated>
        <summary type="html"><p>Here is a helpful function I use when debugging type errors</p>

<pre class="prettyprint"><code>def typePrint(object):
    print(str(object) + ' - (' + str(type(object)) + ')')
</code></pre>

<p>It simply prints the input followed by the type, for example</p>

<pre class="prettyprint"><code>>>> a = 101
>>> typePrint(a)
    101 - (<type &#39;int&#39;>)
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/7560592#7560592</id>
        <re:rank scheme="http://stackoverflow.com">-1</re:rank>
        <title type="text">Answer by boudou for Hidden features of Python</title>
        <author>
            <name>boudou</name>
            <uri>http://stackoverflow.com/users/735926</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/7560592#7560592" />
        <published>2011-09-26T19:55:45Z</published>   
        <updated>2011-09-26T19:55:45Z</updated>
        <summary type="html"><pre class="prettyprint"><code>for line in open(&#39;foo&#39;):
    print(line)
</code></pre>

<p>which is equivalent (but better) to:</p>

<pre class="prettyprint"><code>f = open(&#39;foo&#39;, &#39;r&#39;)
for line in f.readlines():
   print(line)
f.close()
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/7742520#7742520</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by etuardu for Hidden features of Python</title>
        <author>
            <name>etuardu</name>
            <uri>http://stackoverflow.com/users/440172</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/7742520#7742520" />
        <published>2011-10-12T15:27:35Z</published>   
        <updated>2011-10-12T15:27:35Z</updated>
        <summary type="html"><p><strong>Print multiline strings one screenful at a time</strong></p>

<p>Not really useful feature hidden in the <code>site._Printer</code> class, whose the <code>license</code> object is an instance. The latter, when called, prints the Python license. One can create another object of the same type, passing a string -- e.g. the content of a file -- as the second argument, and call it:</p>

<pre class="prettyprint"><code>type(license)(0,open(&#39;textfile.txt&#39;).read(),0)()
</code></pre>

<p>That would print the file content splitted by a certain number of lines at a time:</p>

<pre class="prettyprint"><code>...
file row 21
file row 22
file row 23

Hit Return for more, or q (and Return) to quit:
</code></pre>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/7852572#7852572</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by shadowland for Hidden features of Python</title>
        <author>
            <name>shadowland</name>
            <uri>http://stackoverflow.com/users/179256</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/7852572#7852572" />
        <published>2011-10-21T16:43:06Z</published>   
        <updated>2011-10-21T16:43:06Z</updated>
        <summary type="html"><p><strong>Interactive Debugging of Scripts (and doctest strings)</strong></p>

<p>I don&#39;t think this is as widely known as it could be, but add this line to any python script:</p>

<p><code>import pdb; pdb.set_trace()</code></p>

<p>will cause the PDB debugger to pop up with the run cursor at that point in the code.  What&#39;s even less known, I think, is that you can use that same line in a doctest:</p>

<pre class="prettyprint"><code>'''
>>> 1 in (1,2,3)   
Becomes
>>> import pdb; pdb.set_trace(); 1 in (1,2,3)
'''
</code></pre>

<p>You can then use the debugger to checkout the doctest environment.  You can&#39;t really step through a doctest because the lines are each run autonomously, but it&#39;s a great tool for debugging the doctest globs and environment.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/8420779#8420779</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by Giampaolo Rodol&#224; for Hidden features of Python</title>
        <author>
            <name>Giampaolo Rodol&#224;</name>
            <uri>http://stackoverflow.com/users/376587</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/8420779#8420779" />
        <published>2011-12-07T18:49:03Z</published>   
        <updated>2011-12-07T18:49:03Z</updated>
        <summary type="html"><p>In Python 2 you can generate a string representation of an expression by enclosing it with backticks:    </p>

<pre class="prettyprint"><code> >>> `sorted`
&#39;<built-in function sorted>&#39;
</code></pre>

<p>This is gone in python 3.X.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/8442263#8442263</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by sransara for Hidden features of Python</title>
        <author>
            <name>sransara</name>
            <uri>http://stackoverflow.com/users/729485</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/8442263#8442263" />
        <published>2011-12-09T07:18:25Z</published>   
        <updated>2011-12-09T07:18:25Z</updated>
        <summary type="html"><p>Not a programming feature but is useful when using Python with <code>bash</code> or <code>shell scripts</code>.</p>

<pre class="prettyprint"><code>python -c'import os; print(os.getcwd());'
</code></pre>

<p>See the <a href='http://docs.python.org/using/cmdline.html#cmdoption-unittest-discover-c' rel='nofollow'>python documentation here</a>. Additional things to note when writing <strong>longer Python scripts</strong> can be seen in <a href='http://stackoverflow.com/questions/3637020/long-programs-using-python-c-switch'>this discussion</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/8625452#8625452</id>
        <re:rank scheme="http://stackoverflow.com">2</re:rank>
        <title type="text">Answer by e-satis for Hidden features of Python</title>
        <author>
            <name>e-satis</name>
            <uri>http://stackoverflow.com/users/9951</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/8625452#8625452" />
        <published>2011-12-24T15:49:25Z</published>   
        <updated>2011-12-30T11:25:38Z</updated>
        <summary type="html"><p>Python have exceptions for very unexpected things:</p>

<p><strong>Imports</strong></p>

<p>This let you import an alternative if a lib is missing</p>

<pre class="prettyprint"><code>try:
    import json
except ImportError:
    import simplejson as json
</code></pre>

<p><strong>Iteration</strong></p>

<p>For loops do this internally, and catch StopIteration:</p>

<pre class="prettyprint"><code>iter([]).next()
Traceback (most recent call last):
  File '<pyshell#4>', line 1, in <module>
    iter(a).next()
StopIteration
</code></pre>

<p><strong>Assertion</strong></p>

<pre class="prettyprint"><code>>>> try:
...     assert []
... except AssertionError:
...     print 'This list should not be empty'
This list should not be empty
</code></pre>

<p>While this is more verbose for one check, multiple checks mixing exceptions and boolean operators with the same error message can be shortened this way.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/8670760#8670760</id>
        <re:rank scheme="http://stackoverflow.com">3</re:rank>
        <title type="text">Answer by yoav.aviram for Hidden features of Python</title>
        <author>
            <name>yoav.aviram</name>
            <uri>http://stackoverflow.com/users/25287</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/8670760#8670760" />
        <published>2011-12-29T16:55:14Z</published>   
        <updated>2011-12-29T16:55:14Z</updated>
        <summary type="html"><p>Rounding Integers:
Python has the function round, which returns numbers of type double:</p>

<pre class="prettyprint"><code> >>> print round(1123.456789, 4)
1123.4568
 >>> print round(1123.456789, 2)
1123.46
 >>> print round(1123.456789, 0)
1123.0
</code></pre>

<p>This function has a wonderful magic property:</p>

<pre class="prettyprint"><code> >>> print round(1123.456789, -1)
1120.0
 >>> print round(1123.456789, -2)
1100.0
</code></pre>

<p>If you need an integer as a result use int to convert type:</p>

<pre class="prettyprint"><code> >>> print int(round(1123.456789, -2))
1100
 >>> print int(round(8359980, -2))
8360000
</code></pre>

<p>Thank you <a href='http://mail.python.org/pipermail/tutor/2003-August/024395.html' rel='nofollow'>Gregor</a>.</p>
</summary>
    </entry>    <entry>
        <id>http://stackoverflow.com/questions/101268/-/8785858#8785858</id>
        <re:rank scheme="http://stackoverflow.com">0</re:rank>
        <title type="text">Answer by Srinivas Reddy Thatiparthy for Hidden features of Python</title>
        <author>
            <name>Srinivas Reddy Thatiparthy</name>
            <uri>http://stackoverflow.com/users/201393</uri>
        </author>    
        <link rel="alternate" href="http://stackoverflow.com/questions/101268/hidden-features-of-python/8785858#8785858" />
        <published>2012-01-09T08:57:08Z</published>   
        <updated>2012-01-09T08:57:08Z</updated>
        <summary type="html"><p>some cool features with reduce and operator.</p>

<pre class="prettyprint"><code>>>> from operator import add,mul
>>> reduce(add,[1,2,3,4])
10
>>> reduce(mul,[1,2,3,4])
24
>>> reduce(add,[[1,2,3,4],[1,2,3,4]])
[1, 2, 3, 4, 1, 2, 3, 4]
>>> reduce(add,(1,2,3,4))
10
>>> reduce(mul,(1,2,3,4))
24
</code></pre>
</summary>
    </entry></feed>
</body>
