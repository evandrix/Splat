%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Tue Apr 20 00:29:03 2010
%%DocumentNeededResources: font Times-Roman
%%+ font Times-Bold
%%+ font Times-Italic
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 4
%%PageOrder: Ascend
%%DocumentMedia: Default 595 842 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 595 842 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 841.89 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron
/Zcaron/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Italic@0 ENC0/Times-Italic RE
/Times-Bold@0 ENC0/Times-Bold RE/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.62(FILECHECK\(1\) LL)72 48 R
(VM Command Guide)-1 E(FILECHECK\(1\))118.12 E/F1 10.95/Times-Bold@0 SF
-.219(NA)72 84 S(ME).219 E F0(FileCheck \255 Fle)108 96 Q
(xible pattern matching \214le v)-.15 E(eri\214er)-.15 E F1(SYNOPSIS)72
112.8 Q/F2 10/Times-Bold@0 SF(FileCheck)108 124.8 Q/F3 10/Times-Italic@0
SF(matc)2.5 E(h-\214lename)-.15 E F0([)2.5 E F3<adad63>A(hec)-.15 E
(k\255pr)-.2 E(e\214x=XXX)-.37 E F0 2.5(][)C F3
(\255\255strict\255whitespace)-2.5 E F0(])A F1(DESCRIPTION)72 141.6 Q F2
(FileCheck)108 153.6 Q F0 .52(reads tw)3.02 F 3.02<6f8c>-.1 G .519(les \
\(one from standard input, and one speci\214ed on the command line\) an\
d uses one)-3.02 F 1.495(to v)108 165.6 R 1.495(erify the other)-.15 F
6.496(.T)-.55 G 1.496(his beha)-6.496 F 1.496
(vior is particularly useful for the testsuite, which w)-.2 F 1.496
(ants to v)-.1 F 1.496(erify that the)-.15 F .009
(output of some tool \(e.g. llc\) contains the e)108 177.6 R .009
(xpected information \(for e)-.15 F .009(xample, a mo)-.15 F .008
(vsd from esp or whate)-.15 F -.15(ve)-.25 G(r).15 E .993
(is interesting\).)108 189.6 R .993(This is similar to using grep, b)
5.993 F .994(ut it is optimized for matching multiple dif)-.2 F .994
(ferent inputs in)-.25 F(one \214le in a speci\214c order)108 201.6 Q(.)
-.55 E(The)108 218.4 Q F3(matc)3.484 E(h-\214lename)-.15 E F0 .984
(\214le speci\214es the \214le that contains the patterns to match.)
3.484 F .983(The \214le to v)5.983 F .983(erify is al)-.15 F -.1(wa)-.1
G(ys).1 E(read from standard input.)108 230.4 Q F1(OPTIONS)72 247.2 Q F2
(\255help)108 259.2 Q F0(Print a summary of command line options.)128
271.2 Q F2(\255\255check\255pr)108 288 Q(e\214x)-.18 E F3(pr)2.5 E
(e\214x)-.37 E F0 1.119(FileCheck searches the contents of)128 300 R F3
(matc)3.619 E(h-\214lename)-.15 E F0 1.119(for patterns to match.)3.619
F 1.12(By def)6.119 F 1.12(ault, these patterns)-.1 F .273(are pre\214x)
128 312 R .272(ed with `)-.15 F(`)-.74 E/F4 9/Times-Roman@0 SF(CHECK:)A
F0 -.74('')C 5.272(.I).74 G 2.772(fy)-5.272 G(ou')-2.772 E 2.772(dl)-.5
G(ik)-2.772 E 2.772(et)-.1 G 2.772(ou)-2.772 G .272(se a dif)-2.772 F
.272(ferent pre\214x \(e.g. because the same input \214le is)-.25 F
1.429(checking multiple dif)128 324 R 1.429
(ferent tool or options\), the)-.25 F F2(\255\255check\255pr)3.929 E
(e\214x)-.18 E F0(ar)3.929 E 1.429(gument allo)-.18 F 1.43
(ws you to specify a)-.25 F(speci\214c pre\214x to match.)128 336 Q F2
(\255\255strict\255whitespace)108 352.8 Q F0 .766(By def)128 364.8 R
.765(ault, FileCheck canonicalizes input horizontal whitespace \(spaces\
 and tabs\) which causes it to)-.1 F 1.007(ignore these dif)128 376.8 R
1.008(ferences \(a space will match a tab\).)-.25 F 1.008
(The \255\255strict\255whitespace ar)6.008 F 1.008(gument disables this)
-.18 F(beha)128 388.8 Q(vior)-.2 E(.)-.55 E F2<ad76>108 405.6 Q(ersion)
-.1 E F0(Sho)128 417.6 Q 2.5(wt)-.25 G(he v)-2.5 E
(ersion number of this program.)-.15 E F1(EXIT ST)72 434.4 Q -1.04(AT)
-.986 G(US)1.04 E F0(If)108 446.4 Q F2(FileCheck)2.925 E F0 -.15(ve)
2.925 G .424(ri\214es that the \214le matches the e).15 F .424
(xpected contents, it e)-.15 F .424(xits with 0.)-.15 F .424
(Otherwise, if not, or if an)5.424 F(error occurs, it will e)108 458.4 Q
(xit with a non-zero v)-.15 E(alue.)-.25 E F1(TUT)72 475.2 Q(ORIAL)-.197
E F0 1.58(FileCheck is typically used from)108 487.2 R F4(LL)4.08 E(VM)
-.9 E F0(re)4.08 E 1.58(gression tests, being in)-.15 F -.2(vo)-.4 G -.1
(ke).2 G 4.08(do).1 G 4.08(nt)-4.08 G(he)-4.08 E F4 -.36(RU)4.08 G(N).36
E F0 1.581(line of the test.)4.08 F(A)6.581 E(simple e)108 499.2 Q
(xample of using FileCheck from a)-.15 E F4 -.36(RU)2.5 G(N).36 E F0
(line looks lik)2.5 E 2.5(et)-.1 G(his:)-2.5 E/F5 10/Courier@0 SF 6(;R)
120 516 S(UN: llvm\255as < %s | llc \255march=x86\25564 | FileCheck %s)
-6 E F0 .648(This syntax says to pipe the current \214le \(`)108 532.8 R
(`%s')-.74 E .648
('\) into llvm-as, pipe that into llc, then pipe the output of llc)-.74
F .659(into FileCheck.)108 544.8 R .659
(This means that FileCheck will be v)5.659 F .66
(erifying its standard input \(the llc output\) ag)-.15 F .66(ainst the)
-.05 F .085(\214lename ar)108 556.8 R .085
(gument speci\214ed \(the original .ll \214le speci\214ed by `)-.18 F
(`%s')-.74 E 2.585('\). T)-.74 F 2.585(os)-.8 G .085(ee ho)-2.585 F
2.585(wt)-.25 G .085(his w)-2.585 F .085(orks, lets look at the)-.1 F
(rest of the .ll \214le \(after the)108 568.8 Q F4 -.36(RU)2.5 G(N).36 E
F0(line\):)2.5 E F5(define void @sub1\(i32* %p, i32 %v\) {)120 585.6 Q
(entry:)120 597.6 Q 6(;<)120 609.6 S(b>CHECK: sub1:</b>)-6 E 6(;<)120
621.6 S(b>CHECK: subl</b>)-6 E
(%0 = tail call i32 @llvm.atomic.load.sub.i32.p0i32\(i32* %p, i32 %v\))
168 633.6 Q(ret void)168 645.6 Q(})120 657.6 Q
(define void @inc4\(i64* %p\) {)120 681.6 Q(entry:)120 693.6 Q 6(;<)120
705.6 S(b>CHECK: inc4:</b>)-6 E 6(;<)120 717.6 S(b>CHECK: incq</b>)-6 E
(%0 = tail call i64 @llvm.atomic.load.add.i64.p0i64\(i64* %p, i64 1\))
168 729.6 Q F0 188.72(CVS 2010-02-18)72 768 R(1)205.67 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.62(FILECHECK\(1\) LL)72 48 R
(VM Command Guide)-1 E(FILECHECK\(1\))118.12 E/F1 10/Courier@0 SF
(ret void)168 84 Q(})120 96 Q F0 .098(Here you can see some `)108 112.8
R(`)-.74 E/F2 9/Times-Roman@0 SF(CHECK:)A F0 1.579 -.74('' l)D .099
(ines speci\214ed in comments.).74 F(No)5.099 E 2.599(wy)-.25 G .099
(ou can see ho)-2.599 F 2.599(wt)-.25 G .099(he \214le is piped into)
-2.599 F 1.181
(llvm-as, then llc, and the machine code output is what we are v)108
124.8 R 3.68(erifying. FileCheck)-.15 F 1.18(checks the machine)3.68 F
(code output to v)108 136.8 Q(erify that it matches what the `)-.15 E(`)
-.74 E F2(CHECK:)A F0 1.48 -.74('' l)D(ines specify).74 E(.)-.65 E .681
(The syntax of the)108 153.6 R F2(CHECK:)3.181 E F0 .681(lines is v)
3.181 F .681(ery simple: the)-.15 F 3.181(ya)-.15 G .681(re \214x)-3.181
F .681(ed strings that must occur in order)-.15 F 5.681(.F)-.55 G
(ileCheck)-5.681 E(def)108 165.6 Q .06
(aults to ignoring horizontal whitespace dif)-.1 F .059
(ferences \(e.g. a space is allo)-.25 F .059(wed to match a tab\) b)-.25
F .059(ut otherwise,)-.2 F(the contents of the)108 177.6 Q F2(CHECK:)2.5
E F0(line is required to match some thing in the test \214le e)2.5 E
(xactly)-.15 E(.)-.65 E .227
(One nice thing about FileCheck \(compared to grep\) is that it allo)108
194.4 R .228(ws mer)-.25 F .228(ging test cases together into logical)
-.18 F 3.665(groups. F)108 206.4 R 1.165(or e)-.15 F 1.165
(xample, because the test abo)-.15 F 1.465 -.15(ve i)-.15 H 3.665(sc).15
G 1.165(hecking for the `)-3.665 F(`sub1:')-.74 E 3.665('a)-.74 G 1.164
(nd `)-3.665 F(`inc4:')-.74 E 3.664('l)-.74 G 1.164(abels, it will not)
-3.664 F .446(match unless there is a `)108 218.4 R(`subl')-.74 E 2.947
('i)-.74 G 2.947(nb)-2.947 G .447(etween those labels.)-2.947 F .447
(If it e)5.447 F .447(xisted some)-.15 F .447
(where else in the \214le, that w)-.25 F(ould)-.1 E(not count: `)108
230.4 Q(`grep subl')-.74 E 2.5('m)-.74 G(atches if subl e)-2.5 E
(xists an)-.15 E(ywhere in the \214le.)-.15 E/F3 10/Times-Bold@0 SF
(The FileCheck \255check\255pr)108 253.2 Q(e\214x option)-.18 E F0 .278
(The FileCheck \255check\255pre\214x option allo)108 270 R .278
(ws multiple test con\214gurations to be dri)-.25 F -.15(ve)-.25 G 2.778
(nf).15 G .278(rom one .ll \214le.)-2.778 F(This)5.278 E 1.674
(is useful in man)108 282 R 4.174(yc)-.15 G 1.674(ircumstances, for e)
-4.174 F 1.674(xample, testing dif)-.15 F 1.674(ferent architectural v)
-.25 F 1.675(ariants with llc.)-.25 F(Here')6.675 E 4.175(sa)-.55 G
(simple e)108 294 Q(xample:)-.15 E F1 6(;R)120 310.8 S(UN: llvm\255as <\
 %s | llc \255mtriple=i686\255apple\255darwin9 \255mattr=sse41 \\)-6 E 6
(;R)120 322.8 S 78(UN: |)-6 F
(<b>FileCheck %s \255check\255prefix=X32</b>)6 E 6(;R)120 334.8 S(UN: l\
lvm\255as < %s | llc \255mtriple=x86_64\255apple\255darwin9 \255mattr=s\
se41 \\)-6 E 6(;R)120 346.8 S 78(UN: |)-6 F
(<b>FileCheck %s \255check\255prefix=X64</b>)6 E
(define <4 x i32> @pinsrd_1\(i32 %s, <4 x i32> %tmp\) nounwind {)120
370.8 Q(%tmp1 = insertelement <4 x i32>; %tmp, i32 %s, i32 1)168 382.8 Q
(ret <4 x i32> %tmp1)168 394.8 Q 6(;<)120 406.8 S(b>X32:</b> pinsrd_1:)
-6 E 6(;<)120 418.8 S 18(b>X32:</b> pinsrd)-6 F($1, 4\(%esp\), %xmm0)6 E
6(;<)120 442.8 S(b>X64:</b> pinsrd_1:)-6 E 6(;<)120 454.8 S 18
(b>X64:</b> pinsrd)-6 F($1, %edi, %xmm0)6 E(})120 466.8 Q F0 1.719
(In this case, we')108 483.6 R 1.719(re testing that we get the e)-.5 F
1.719(xpected code generation with both 32\255bit and 64\255bit code)
-.15 F(generation.)108 495.6 Q F3(The `)108 518.4 Q(`CHECK-NEXT)-.63 E
(:')-.74 E 2.5('d)-.63 G(ir)-2.5 E(ecti)-.18 E -.1(ve)-.1 G F0 .85
(Sometimes you w)108 535.2 R .85(ant to match lines and w)-.1 F .85
(ould lik)-.1 F 3.35(et)-.1 G 3.35(ov)-3.35 G .85
(erify that matches happen on e)-3.5 F .85(xactly consequti)-.15 F -.15
(ve)-.25 G .03(lines with no other lines in between them.)108 547.2 R
.03(In this case, you can use)5.03 F F2(CHECK:)2.53 E F0 .029
(and CHECK-NEXT)2.529 F 2.529(:d)-.5 G(irecti)-2.529 E -.15(ve)-.25 G(s)
.15 E 2.124(to specify this.)108 559.2 R 2.125
(If you speci\214ed a custom check pre\214x, just use `)7.124 F(`<)-.74
E F2(PREFIX)A F0(>\255NEXT)A(:')-.5 E 4.625('. F)-.74 F 2.125(or e)-.15
F(xample,)-.15 E(something lik)108 571.2 Q 2.5(et)-.1 G(his w)-2.5 E
(orks as you')-.1 E 2.5(de)-.5 G(xpect:)-2.65 E F1
(define void @t2\(<2 x double>* %r, <2 x double&gt;* %A, double %B\) {)
120 588 Q(%tmp3 = load <2 x double&gt;* %A, align 16)156 600 Q
(%tmp7 = insertelement <2 x double&gt; undef, double %B, i32 0)156 612 Q
(%tmp9 = shufflevector <2 x double&gt; %tmp3,)156 624 Q
(<2 x double&gt; %tmp7,)288 636 Q(<2 x i32&gt; < i32 0, i32 2 &gt;)288
648 Q(store <2 x double&gt; %tmp9, <2 x double&gt;* %r, align 16)156 660
Q(ret void)156 672 Q 6(;<)120 696 S(b>CHECK:</b> t2:)-6 E 6(;<)120 708 S
36(b>CHECK:</b> movl)-6 F(8\(%esp\), %eax)24 E 6(;<)120 720 S 6
(b>CHECK\255NEXT:</b> movapd \(%eax\),)-6 F(%xmm0)6 E F0 188.72
(CVS 2010-02-18)72 768 R(2)205.67 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.62(FILECHECK\(1\) LL)72 48 R
(VM Command Guide)-1 E(FILECHECK\(1\))118.12 E/F1 10/Courier@0 SF 6(;<)
120 84 S 6(b>CHECK\255NEXT:</b> movhpd 12\(%esp\),)-6 F(%xmm0)6 E 6(;<)
120 96 S 6(b>CHECK\255NEXT:</b> movl)-6 F(4\(%esp\), %eax)24 E 6(;<)120
108 S 6(b>CHECK\255NEXT:</b> movapd %xmm0,)-6 F(\(%eax\))6 E 6(;<)120
120 S 6(b>CHECK\255NEXT:</b> ret)-6 F(})120 132 Q F0(CHECK-NEXT)108
148.8 Q 3.427(:d)-.5 G(irecti)-3.427 E -.15(ve)-.25 G 3.427(sr).15 G
.927(eject the input unless there is e)-3.427 F .927(xactly one ne)-.15
F .926(wline between it an the pre)-.25 F(vious)-.25 E(directi)108 160.8
Q -.15(ve)-.25 G 5(.A).15 G(CHECK-NEXT cannot be the \214rst directi)
-2.5 E .3 -.15(ve i)-.25 H 2.5(na\214).15 G(le.)-2.5 E/F2 10
/Times-Bold@0 SF(The `)108 183.6 Q(`CHECK-NO)-.63 E -.74(T:)-.4 G 1.26
-.63('' d).74 H(ir).63 E(ecti)-.18 E -.1(ve)-.1 G F0 .534(The CHECK-NO)
108 200.4 R 1.534 -.5(T: d)-.4 H(irecti).5 E .834 -.15(ve i)-.25 H 3.034
(su).15 G .534(sed to v)-3.034 F .534(erify that a string doesn')-.15 F
3.034(to)-.18 G .534(ccur between tw)-3.034 F 3.034(om)-.1 G .535
(atches \(or the \214rst)-3.034 F .639(match and the be)108 212.4 R .639
(ginning of the \214le\).)-.15 F -.15(Fo)5.639 G 3.139(re).15 G .638
(xample, to v)-3.289 F .638(erify that a load is remo)-.15 F -.15(ve)
-.15 G 3.138(db).15 G 3.138(yat)-3.138 G .638(ransformation, a)-3.138 F
(test lik)108 224.4 Q 2.5(et)-.1 G(his can be used:)-2.5 E F1
(define i8 @coerce_offset0\(i32 %V, i32* %P\) {)120 241.2 Q
(store i32 %V, i32* %P)132 253.2 Q(%P2 = bitcast i32* %P to i8*)132
277.2 Q(%P3 = getelementptr i8* %P2, i32 2)132 289.2 Q
(%A = load i8* %P3)132 313.2 Q(ret i8 %A)132 325.2 Q 6(;<)120 337.2 S
(b>CHECK:</b> @coerce_offset0)-6 E 6(;<)120 349.2 S
(b>CHECK\255NOT:</b> load)-6 E 6(;<)120 361.2 S(b>CHECK:</b> ret i8)-6 E
(})120 373.2 Q F2(FileCheck P)108 396 Q(atter)-.1 E 2.5(nM)-.15 G
(atching Syntax)-2.5 E F0(The)108 412.8 Q/F3 9/Times-Roman@0 SF(CHECK:)
2.806 E F0 .306(and CHECK-NO)2.806 F 1.306 -.5(T: d)-.4 H(irecti).5 E
-.15(ve)-.25 G 2.806(sb).15 G .307(oth tak)-2.806 F 2.807(eap)-.1 G .307
(attern to match.)-2.807 F -.15(Fo)5.307 G 2.807(rm).15 G .307
(ost uses of FileCheck, \214x)-2.807 F(ed)-.15 E .959
(string matching is perfectly suf)108 424.8 R 3.458(\214cient. F)-.25 F
.958(or some things, a more \215e)-.15 F .958
(xible form of matching is desired.)-.15 F -.8(To)5.958 G .025
(support this, FileCheck allo)108 436.8 R .026(ws you to specify re)-.25
F .026(gular e)-.15 F .026
(xpressions in matching strings, surrounded by double)-.15 F(braces:)108
448.8 Q F2({{y)4.552 E(ourr)-.25 E(egex}})-.18 E F0 7.052(.B)C 2.052
(ecause we w)-7.052 F 2.052(ant to use \214x)-.1 F 2.052
(ed string matching for a majority of what we do,)-.15 F 3.619
(FileCheck has been designed to support mixing and matching \214x)108
460.8 R 3.62(ed string matching with re)-.15 F(gular)-.15 E -.15(ex)108
472.8 S 2.5(pressions. This).15 F(allo)2.5 E(ws you to write things lik)
-.25 E 2.5(et)-.1 G(his:)-2.5 E F1 6(;C)120 489.6 S(HECK: movhpd)-6 E
(<b>{{[0\2559]+}}</b>\(%esp\), <b>{{%xmm[0\2557]}}</b>)42 E F0
(In this case, an)108 506.4 Q 2.5(yo)-.15 G -.25(ff)-2.5 G(set from the)
.25 E F3(ESP)2.5 E F0(re)2.5 E(gister will be allo)-.15 E(wed, and an)
-.25 E 2.5(yx)-.15 G(mm re)-2.5 E(gister will be allo)-.15 E(wed.)-.25 E
.274(Because re)108 523.2 R .274(gular e)-.15 F .274
(xpressions are enclosed with double braces, the)-.15 F 2.774(ya)-.15 G
.274(re visually distinct, and you don')-2.774 F 2.774(tn)-.18 G(eed)
-2.774 E .925(to use escape characters within the double braces lik)108
535.2 R 3.425(ey)-.1 G .925(ou w)-3.425 F .925(ould in C.)-.1 F .925
(In the rare case that you w)5.925 F .925(ant to)-.1 F
(match double braces e)108 547.2 Q
(xplicitly from the input, you can use something ugly lik)-.15 E(e)-.1 E
F2({{[{][{]}})2.5 E F0(as your pattern.)2.5 E F2(FileCheck V)108 570 Q
(ariables)-.92 E F0 .519
(It is often useful to match a pattern and then v)108 586.8 R .519
(erify that it occurs ag)-.15 F .519(ain later in the \214le.)-.05 F
-.15(Fo)5.519 G 3.019(rc).15 G(ode)-3.019 E .519(gen tests,)-.15 F .942
(this can be useful to allo)108 598.8 R 3.442(wa)-.25 G 1.242 -.15(ny r)
-3.442 H -.15(eg).15 G(ister).15 E 3.442(,b)-.4 G .942(ut v)-3.642 F
.942(erify that that re)-.15 F .942(gister is used consistently later)
-.15 F 5.942(.T)-.55 G 3.443(od)-6.742 G 3.443(ot)-3.443 G(his,)-3.443 E
(FileCheck allo)108 610.8 Q(ws named v)-.25 E
(ariables to be de\214ned and substituted into patterns.)-.25 E
(Here is a simple e)5 E(xample:)-.15 E F1 6(;C)120 627.6 S(HECK: test5:)
-6 E 6(;C)120 639.6 S 18(HECK: notw)-6 F(<b>[[REGISTER:%[a\255z]+]]</b>)
36 E 6(;C)120 651.6 S 18(HECK: andw)-6 F({{.*}}<b>[[REGISTER]]</b>)36 E
F0 1.135(The \214rst check line matches a re)108 668.4 R(ge)-.15 E 3.635
(x\()-.15 G 1.135(<tt>%[a\255z]+</tt>\) and captures it into the v)
-3.635 F 1.134(ariables `)-.25 F(`)-.74 E F3(REGISTER)A F0 -.74('')C(.)
.74 E .539(The second line v)108 680.4 R .539(eri\214es that whate)-.15
F -.15(ve)-.25 G 3.039(ri).15 G 3.039(si)-3.039 G(n)-3.039 E F3
(REGISTER)3.039 E F0 .54(occurs later in the \214le after an `)3.039 F
(`andw')-.74 E 3.04('. FileCheck)-.74 F -.25(va)108 692.4 S .557
(riable references are al).25 F -.1(wa)-.1 G .557(ys contained in <tt>[\
[ ]]</tt> pairs, are named, and their names can be formed).1 F .655
(with the re)108 704.4 R(ge)-.15 E 3.155(x`)-.15 G
(`<tt>[a\255zA\255Z_][a\255zA\255Z0\2559_]*</tt>')-3.895 E 3.155('. If)
-.74 F 3.155(ac)3.155 G .655(olon follo)-3.155 F .655
(ws the name, then it is a de\214nition)-.25 F(of the v)108 716.4 Q
(ariable, if not, it is a use.)-.25 E 188.72(CVS 2010-02-18)72 768 R(3)
205.67 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 115.62(FILECHECK\(1\) LL)72 48 R
(VM Command Guide)-1 E(FILECHECK\(1\))118.12 E .206(FileCheck v)108 84 R
.206(ariables can be de\214ned multiple times, and uses al)-.25 F -.1
(wa)-.1 G .205(ys get the latest v).1 F 2.705(alue. Note)-.25 F .205
(that v)2.705 F(ariables)-.25 E 1.266(are all read at the start of a `)
108 96 R(`)-.74 E/F1 9/Times-Roman@0 SF(CHECK)A F0 2.747 -.74('' l)D
1.267(ine and are all de\214ned at the end.).74 F 1.267
(This means that if you ha)6.267 F -.15(ve)-.2 G .871(something lik)108
108 R 3.371(e`)-.1 G(`<tt>)-4.111 E F1(CHECK:)A F0([[)3.371 E F1(XYZ:)A
F0(.*]]x[[)A F1(XYZ)A F0(]]<tt>')A 3.371('t)-.74 G .87
(hat the check line will read the pre)-3.371 F .87(vious v)-.25 F .87
(alue of)-.25 F(the)108 120 Q F1(XYZ)2.875 E F0 -.25(va)2.875 G .375
(riable and de\214ne a ne).25 F 2.876(wo)-.25 G .376
(ne after the match is performed.)-2.876 F .376
(If you need to do something lik)5.376 F 2.876(et)-.1 G(his)-2.876 E
.905(you can probably tak)108 132 R 3.405(ea)-.1 G(dv)-3.405 E .905
(antage of the f)-.25 F .904
(act that FileCheck is not actually line-oriented when it matches,)-.1 F
(this allo)108 144 Q(ws you to de\214ne tw)-.25 E 2.5(os)-.1 G(eparate)
-2.5 E F1(CHECK)2.5 E F0(lines that match on the same line.)2.5 E/F2
10.95/Times-Bold@0 SF -.548(AU)72 160.8 S(THORS).548 E F0
(Maintained by The)108 172.8 Q F1(LL)2.5 E(VM)-.9 E F0 -.7(Te)2.5 G
(am \(<http://llvm.or).7 E(g>\).)-.18 E 188.72(CVS 2010-02-18)72 768 R
(4)205.67 E 0 Cg EP
%%Trailer
end
%%EOF
