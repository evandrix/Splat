<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
          "http://www.w3.org/TR/html40/loose.dtd">

<html>
         
  <head>
    <title>Class: IInteraction</title>
  </head>

  <body bgcolor="#ffffff">

        <p><i><a href="../../../../index.html">Table of Contents</a></i></p>
        
        <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tr>
            <th rowspan="2"
                valign="top"
                align="left"
                width="10%"
                bgcolor="#88bbee"><font color="#000000">Class: IInteraction</font>
            </th>
            <th bgcolor="#88bbee"
                width="90%"
                align="right"><font color="#000000">./src/peak/security/interfaces.py</font>
            </th>
        </tr>
        <tr>
        <td>
        
<h3>Component representing a security-controlled user/app interaction</h3>
<p>    An interaction provides the necessary context to identify what security
    rules should be used, and on whose behalf the action is being performed
    (i.e. the principal).  To determine if an access is allowed, you use the
    interaction's <code>allows()</code> method.</p>
<p>    To determine what set of security rules are to be applied, an
    interaction supplies a <code>permissionProtocol</code> attribute, to which
    abstract and concrete permissions will be adapted for checking.  In the
    simple case, <code>IPermissionChecker</code> is used as this <code>permissionProtocol</code>.
    However, if one application extends a library or another application that
    provides default security rules registered under <code>IPermissionChecker</code>,
    the new application may wish to set the <code>permissionProtocol</code> to a
    <code>protocols.Variation</code> of <code>IPermissionChecker</code>, in order to declare
    new rules that take precedence over the defaults.  For example:
<pre>
        myRulesProtocol = protocols.Variation(IPermissionChecker)

        class MyRuleSet(security.RuleSet):
            # declare rules that override default rules

        MyRuleSet.declareRulesFor(myRulesProtocol)

        anInteracton = security.Interaction(
            parentComponent,
            permissionProtocol = myRulesProtocol,
            user = someUser
        )
</pre>
</p>
<p>    The application could then check whether <code>someUser</code> has permissions
    for various objects, using the rules defined for <code>myRulesProtocol</code>
    (with fallback to any rules defined for <code>IPermissionChecker</code>).</p>
<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Base Classes">Base Classes</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                width="80%"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
Interface<br>

</td></tr>
</table>
<table border="0" cellpadding="5" cellspacing="0" width="100%">

        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="Methods">Methods</a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                width="80%"
                >
                <font color="#000000">&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        
<a href="#allows">allows</a><br>


        <tr>
            <th bgcolor="#99ccff"
                rowspan="2"
                valign="top"
                align="left"
                width="20%"
                >
                <font color="#000000">
                  <a name="allows"></a>&nbsp;
                </font>
            </th>
            <th bgcolor="#99ccff"
                valign="top"
                align="left"
                width="80%"
                >
                <font color="#000000">allows&nbsp;</font>
            </th>
        </tr>
        <tr>
        <td>
        <font color="#000088"><pre>
allows (
        subject,
        name=None,
        permissionNeeded=NOT_GIVEN,
        user=NOT_GIVEN,
        )

</pre></font>

<h3>Return true if <code>user</code> has <code>permissionNeeded</code> for <code>subject</code></h3>
<p>        If <code>user</code> is not supplied, the interaction's user should be used.  If
        the permission is not supplied, <code>subject</code> should be adapted to
        <code>IGuardedObject</code> in order to obtain the required permission.</p>
<p>        Note that if <code>subject</code> does not support <code>IGuardedObject</code>, and the
        required permission is not specified, then this method should always
        return true when the <code>name</code> is <code>None</code>, and false otherwise.  That is,
        an unguarded object is accessible, but none of its attributes are.
        (This is so that value objects such as numbers and strings don't need
        permissions.)</p>
<p>        This method should return a true value, or a <code>security.Denial()</code> with
        an appropriate <code>message</code> value.</p>
</td></tr>
</td></tr>
</table>

        </td>
        </tr>
        </table>

        <hr>

        <p><i><a href="../../../../index.html">Table of Contents</a></i></p>

        <font size="-2"><i>This document was automatically generated
        on Tue Feb 17 19:55:55 2004 by
        <a href="http://happydoc.sourceforge.net">HappyDoc</a> version
        2.1</i></font>
        
        </body>
        </html>
        